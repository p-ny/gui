{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\WeaponsSetting\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\WeaponsSetting\\index.vue","mtime":1633082021197},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgY29uZmlncyBmcm9tICcuLi8uLi9jb25maWdzL2ludmVudG9yeS9jb25maWdzJw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBzcGFtUHJvdGVjdDogMA0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGdldFdlYXBvbk5hbWUoaGFzaCl7DQogICAgICAgICAgICBjb25zdCBjb25maWcgPSBPYmplY3QudmFsdWVzKGNvbmZpZ3MpLmZpbmQoYz0+Yy5XZWFwb25IYXNoID09IGhhc2gpOw0KICAgICAgICAgICAgcmV0dXJuIGNvbmZpZyA/IHRoaXMubG9jKGNvbmZpZy5EaXNwbGF5TmFtZSkgOiAibmFtZSBub3QgZm91bmQiOw0KICAgICAgICB9LA0KICAgICAgICBnZXRXZWFwb25JbWFnZShoYXNoKXsNCiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IE9iamVjdC52YWx1ZXMoY29uZmlncykuZmluZChjPT5jLldlYXBvbkhhc2ggPT0gaGFzaCk7DQogICAgICAgICAgICByZXR1cm4gY29uZmlnID8gYC9pbWcvaW52ZW50b3J5L2l0ZW1zLyR7Y29uZmlnLkltYWdlfS5wbmdgIDogIm5vIGltYWdlIjsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Q29lZm5hbWUoaWQpew0KICAgICAgICAgICAgc3dpdGNoIChpZCkgew0KICAgICAgICAgICAgICAgIGNhc2UgIjEiOiByZXR1cm4gIi0gaGVhZCBjb2VmIjsNCiAgICAgICAgICAgICAgICBjYXNlICIyIjogcmV0dXJuICItIGxlZy9hcm1zIGNvZWYiOyAgICANCiAgICAgICAgICAgICAgICBjYXNlICIzIjogcmV0dXJuICItIG1lbGVlIGNvZWYiOw0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAiLSBib2R5IGNvZWYiOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzYXZlKCl7DQogICAgICAgICAgICBpZih0aGlzLnNwYW1Qcm90ZWN0ID4gRGF0ZS5ub3coKSkgcmV0dXJuOw0KICAgICAgICAgICAgdGhpcy5zcGFtUHJvdGVjdCA9IERhdGUubm93KCkgKyAyMDAwOw0KICAgICAgICAgICAgY29uc3QgY29uZmlncyA9IHt9Ow0KICAgICAgICAgICAgY29uc3QgY29lZnMgPSB7fTsNCiAgICAgICAgICAgIHRoaXMuY29uZmlnTGlzdC5mb3JFYWNoKGMgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHBhcnNlSW50KGMudmFsdWUpOw0KICAgICAgICAgICAgICAgIGlmKCFpc05hTih2YWwpICYmIHZhbCAhPT0gdGhpcy5jb25maWdbYy5oYXNoXSl7DQogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3NbYy5oYXNoXSA9IHZhbDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuY29lZnNMaXN0LmZvckVhY2goYz0+IHsgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29uc3QgdmFsID0gcGFyc2VGbG9hdChjLnZhbHVlKTsNCiAgICAgICAgICAgICAgICBpZighaXNOYU4odmFsKSAmJiB2YWwgIT09IHRoaXMuY29lZnNbYy5pZF0pew0KICAgICAgICAgICAgICAgICAgICBjb2Vmc1tjLmlkXSA9IHZhbDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyU2VydmVyKCJ3ZWFwb246c2V0dGluZ3M6dXBkYXRlIiwgSlNPTi5zdHJpbmdpZnkoY29uZmlncyksIEpTT04uc3RyaW5naWZ5KGNvZWZzKSkNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6ew0KICAgICAgICAuLi5tYXBHZXR0ZXJzKCJsb2NhbGl6YXRpb24iLCBbImxvYyJdKSwNCiAgICAgICAgLi4ubWFwU3RhdGUoIndlYXBvbnNTZXR0aW5nIiwgWyJjb25maWciLCAiY29lZnMiXSksDQogICAgICAgIGNvbmZpZ0xpc3QoKXsNCiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb25maWcpIHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7aGFzaDoga2V5LCB2YWx1ZTogdGhpcy5jb25maWdba2V5XX0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KICAgICAgICBjb2Vmc0xpc3QoKXsgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb2Vmcykgew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtpZDoga2V5LCB2YWx1ZTogdGhpcy5jb2Vmc1trZXldfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/WeaponsSetting","sourcesContent":["<template>\r\n    <div class=\"wsettings\">\r\n        <div class=\"wsettings-title\">Weapons setting</div>\r\n        <div class=\"wsettings-coef\">\r\n            <div class=\"wsettings-coef-item\" v-for=\"(item, index) in coefsList\" :key=\"index\">\r\n                <input type=\"number\" min=\"0\" step=\"0.01\" v-model=\"item.value\" class=\"wsettings_input\">\r\n                <div class=\"wsettings-coef-item_title\">{{getCoefname(item.id)}}</div>\r\n            </div>\r\n            <div class=\"wsettings_save\" @click=\"save\">Save</div>\r\n        </div>\r\n        <div class=\"wsettings-config\">\r\n            <div class=\"wsettings-config-item\" v-for=\"(item, index) in configList\" :key=\"index\">\r\n                <img :src=\"getWeaponImage(item.hash)\" alt=\"weapon\" class=\"wsettings-config-item_img\">\r\n                <div class=\"wsettings-config-item_info\">\r\n                    <div class=\"wsettings-config-item_title\">{{getWeaponName(item.hash)}}</div>\r\n                    <input type=\"number\" min=\"0\" step=\"1\" class=\"wsettings_input\" v-model=\"item.value\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex'\r\nimport configs from '../../configs/inventory/configs'\r\nexport default {\r\n    data() {\r\n        return {\r\n            spamProtect: 0\r\n        }\r\n    },\r\n    methods: {\r\n        getWeaponName(hash){\r\n            const config = Object.values(configs).find(c=>c.WeaponHash == hash);\r\n            return config ? this.loc(config.DisplayName) : \"name not found\";\r\n        },\r\n        getWeaponImage(hash){\r\n            const config = Object.values(configs).find(c=>c.WeaponHash == hash);\r\n            return config ? `/img/inventory/items/${config.Image}.png` : \"no image\";\r\n        },\r\n        getCoefname(id){\r\n            switch (id) {\r\n                case \"1\": return \"- head coef\";\r\n                case \"2\": return \"- leg/arms coef\";    \r\n                case \"3\": return \"- melee coef\";\r\n                default: return \"- body coef\";\r\n            }\r\n        },\r\n        save(){\r\n            if(this.spamProtect > Date.now()) return;\r\n            this.spamProtect = Date.now() + 2000;\r\n            const configs = {};\r\n            const coefs = {};\r\n            this.configList.forEach(c => {\r\n                const val = parseInt(c.value);\r\n                if(!isNaN(val) && val !== this.config[c.hash]){\r\n                    configs[c.hash] = val;\r\n                }\r\n            });\r\n            this.coefsList.forEach(c=> {                \r\n                const val = parseFloat(c.value);\r\n                if(!isNaN(val) && val !== this.coefs[c.id]){\r\n                    coefs[c.id] = val;\r\n                }\r\n            });\r\n            window.mp.triggerServer(\"weapon:settings:update\", JSON.stringify(configs), JSON.stringify(coefs))\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapGetters(\"localization\", [\"loc\"]),\r\n        ...mapState(\"weaponsSetting\", [\"config\", \"coefs\"]),\r\n        configList(){\r\n            const result = [];\r\n            for (const key in this.config) {\r\n                result.push({hash: key, value: this.config[key]})\r\n            }\r\n            return result;\r\n        },\r\n        coefsList(){         \r\n            const result = [];\r\n            for (const key in this.coefs) {\r\n                result.push({id: key, value: this.coefs[key]})\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.wsettings{\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: rgba(#000, .9);\r\n    color: #fff;\r\n    &-title{\r\n        font-size: 2rem;\r\n        height:4rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        text-transform: uppercase;\r\n        border-bottom: 1px solid #fff;\r\n        letter-spacing: .06rem;\r\n    }\r\n    &-coef{\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-bottom: 1px solid #fff;\r\n        &-item{\r\n            margin: 0 2rem;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            height: 3rem;\r\n            &_title{\r\n                font-size: 1.5rem;\r\n            }            \r\n        }\r\n    }\r\n    &_input{\r\n        background-color: rgba(#000, .2);\r\n        color: #fff;\r\n        font-size: 1.2rem;\r\n        outline: .1rem solid #ccc;\r\n        width: 5rem;\r\n        height: 2rem;\r\n        text-align: center;\r\n        margin: 0 .5rem;\r\n    }\r\n    &-config{\r\n        display: flex;\r\n        width: 83rem;\r\n        margin: 1rem auto;\r\n        height: 45rem;\r\n        flex-wrap: wrap;\r\n        //border: 1px solid #000;\r\n        overflow-y: scroll;\r\n        &-item{\r\n            margin: .1rem;\r\n            width: 20rem;\r\n            height: 8rem;\r\n            position: relative;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            background-color: rgba(#fff, .1);\r\n            text-align: center;\r\n            box-shadow: 0 0 1rem 0 #000;\r\n            &_img{\r\n                height: 100%;\r\n                margin: 1rem;\r\n            }\r\n            &_info{\r\n                margin-left: .5rem;\r\n                width: 10rem;\r\n                height: 90%;\r\n                //border: 1px solid #000;\r\n            }  \r\n            &_title{\r\n                text-align: center;\r\n                font-size: 1.5rem;\r\n                margin: .6rem 0;\r\n            }\r\n        }\r\n    }\r\n    &_save{\r\n        border: .1rem solid #fff;\r\n        width: 5rem;\r\n        margin-left: 10rem;\r\n        height: 2rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 1.2rem;\r\n        letter-spacing: .05rem;\r\n        &:hover{\r\n            background-color: #fff;\r\n            color: #000;\r\n            font-weight: bold;\r\n            text-transform: uppercase;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}