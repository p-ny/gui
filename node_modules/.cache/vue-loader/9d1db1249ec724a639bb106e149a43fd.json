{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\PortOrders\\BasketList\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\PortOrders\\BasketList\\index.vue","mtime":1625151238507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcNCmltcG9ydCBCYXNrZXRMaXN0SXRlbSBmcm9tICcuL0Jhc2tldExpc3RJdGVtJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdQcm9kdWN0c0xpc3QnLA0KDQogIGNvbXBvbmVudHM6IHsNCiAgICBCYXNrZXRMaXN0SXRlbQ0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoJ3BvcnRPcmRlcnMnLCBbJ2Jhc2tldCddKSwNCiAgICAuLi5tYXBHZXR0ZXJzKCdsb2NhbGl6YXRpb24nLCBbJ2xvYyddKSwNCiAgICBiYXNrZXRUb3RhbDogZnVuY3Rpb24oKSB7DQogICAgICByZXR1cm4gdGhpcy5iYXNrZXQucmVkdWNlKCh0b3RhbCwgYmFza2V0SXRlbSkgPT4gdG90YWwgKyBiYXNrZXRJdGVtLmNvc3QqYmFza2V0SXRlbS5jb3VudCwgMCkNCiAgICB9DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcE11dGF0aW9ucygncG9ydE9yZGVycycsIFsnY2xlYXJCYXNrZXQnXSksDQogICAgYnV5UHJvZHVjdHM6IGZ1bmN0aW9uKCkgew0KICAgICAgaWYoIHRoaXMuYmFza2V0Lmxlbmd0aCA9PSAwICkgcmV0dXJuOw0KICAgICAgY29uc3QgaXRlbXMgPSBbXQ0KICAgICAgdGhpcy5iYXNrZXQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaXRlbXMucHVzaCh7aWQ6IGl0ZW0uaWQsIGNvdW50OiBpdGVtLmNvdW50fSkNCiAgICAgICAgLy9pdGVtc1tpdGVtLmlkXSA9IGl0ZW0uY291bnQNCiAgICAgIH0pDQogICAgICB0aGlzLmNsZWFyQmFza2V0KCkNCiAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCdwb3J0T3JkZXJzOmJ1eScsIEpTT04uc3RyaW5naWZ5KGl0ZW1zKSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/PortOrders/BasketList","sourcesContent":["<template>\r\n  <div class=\"basket-list\">\r\n    <div class=\"paper-check\">\r\n      <div class=\"header\">\r\n        <div class=\"title\">{{loc('PortOrders_7')}}</div>\r\n        <div \r\n          class=\"btn-clear\"\r\n          @click=\"clearBasket\"\r\n        ></div>\r\n      </div>\r\n      <div class=\"desc\" v-if=\"this.basket.length === 0\">\r\n        <div class=\"text\">{{loc('PortOrders_8')}}</div>\r\n        <div class=\"icon\"></div>\r\n      </div>\r\n      <div \r\n        v-else \r\n        class=\"basket-wrap\"\r\n      >\r\n        <basket-list-item \r\n          v-for=\"(item, index) in this.basket\"\r\n          :key=\"item.i\"\r\n          :item=\"item\"\r\n          :index=\"index\"\r\n        />\r\n      </div>\r\n      <div class=\"result\">\r\n        <div class=\"result__desc\">{{loc('PortOrders_9')}}:</div>\r\n        <div class=\"result__value\">${{basketTotal}}</div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"btn-buy\"\r\n      @click=\"buyProducts()\"\r\n    >{{loc('PortOrders_10')}}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations, mapState } from 'vuex'\r\nimport BasketListItem from './BasketListItem'\r\n\r\nexport default {\r\n  name: 'ProductsList',\r\n\r\n  components: {\r\n    BasketListItem\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('portOrders', ['basket']),\r\n    ...mapGetters('localization', ['loc']),\r\n    basketTotal: function() {\r\n      return this.basket.reduce((total, basketItem) => total + basketItem.cost*basketItem.count, 0)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations('portOrders', ['clearBasket']),\r\n    buyProducts: function() {\r\n      if( this.basket.length == 0 ) return;\r\n      const items = []\r\n      this.basket.forEach(item => {\r\n        items.push({id: item.id, count: item.count})\r\n        //items[item.id] = item.count\r\n      })\r\n      this.clearBasket()\r\n      window.mp.trigger('portOrders:buy', JSON.stringify(items))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.basket-list{\r\n  display: flex;\r\n  flex-flow: column;\r\n  width: 16.1rem;\r\n  min-width: 16.1rem;\r\n  .paper-check{\r\n    display: flex;\r\n    flex-flow: column;\r\n    width: 100%;\r\n    height: 27.65rem;\r\n    min-height: 27.65rem;\r\n    padding: 1.1rem 0;\r\n    margin-bottom: .5rem;\r\n    background-image: url('/img/portOrders/paper-check-basket.png');\r\n    background-size: contain;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    .header{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 0 1em;\r\n      .title{\r\n        font-size: 1rem;\r\n        color: #000000;\r\n        font-weight: bold;\r\n      }\r\n      .btn-clear{\r\n        height: 1.2rem;\r\n        width: 1.2rem;\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n        background-image: url('/img/portOrders/basket.svg');\r\n        transition: .2s;\r\n        &:hover{\r\n          transform: scale(1.1);\r\n          transition: .2s;\r\n        }\r\n      }\r\n    }\r\n    .desc{\r\n      display: flex;\r\n      flex-flow: column;\r\n      align-items: center;\r\n      justify-content: flex-start;\r\n      align-self: center;\r\n      height: 100%;\r\n      margin-top: 4rem;\r\n      .text{\r\n        font-weight: bold;\r\n        font-size: 1.1rem;\r\n        line-height: 1.15rem;\r\n        color: rgba(0, 0, 0, 0.4);\r\n        margin-bottom: 1rem;\r\n      }\r\n      .icon{\r\n        width: 7.6rem;\r\n        height: 7.6rem;\r\n        background-image: url('/img/portOrders/empty-basket.svg');\r\n        background-size: contain;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n      }\r\n    }\r\n    .basket-wrap{\r\n      height: 100%;\r\n      overflow-y: auto;\r\n      margin-top: 1.6rem;\r\n      display: flex;\r\n      flex-flow: column;\r\n       &::-webkit-scrollbar {\r\n        width: .3rem;\r\n        background: transparent;\r\n      }\r\n      &::-webkit-scrollbar-thumb{\r\n        background: #D5D5D5;\r\n        border-radius: .2rem; \r\n      }\r\n    }\r\n    .result{\r\n      display: flex;\r\n      align-items: flex-end;\r\n      justify-content: space-between;\r\n      margin-top: 2.14rem;\r\n      padding: 0 1rem;\r\n      &__desc{\r\n        font-weight: bold;\r\n        font-size: 1rem;\r\n        line-height: 1.15rem;\r\n        text-transform: uppercase;\r\n        color: rgba(0, 0, 0, 0.4);\r\n      }\r\n      &__value{\r\n        text-transform: uppercase;\r\n        font-weight: bold;\r\n        font-size: 1.5rem;\r\n        line-height: 1.5rem;\r\n        text-align: right;\r\n        color: #000000;\r\n      }\r\n    }\r\n  }\r\n  .btn-buy{\r\n    width: 100%;\r\n    height: 3.35rem;\r\n    min-height: 3.35rem;\r\n    background: #48B3EF;\r\n    border-radius: .2rem;\r\n    font-size: 1rem;\r\n    color: #FFFFFF;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}