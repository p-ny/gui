{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\Minigames\\MakeWeapon\\components\\MainTopRight.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\Minigames\\MakeWeapon\\components\\MainTopRight.vue","mtime":1625482892084},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdNYWluVG9wUmlnaHQnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjdXJyZW50VGltZTogMzAsDQogICAgICB0aW1lcjogbnVsbCwNCiAgICAgIHI6IDAsDQogICAgICBjOiAwLA0KICAgIH07DQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgICB0aGlzLnN0b3BUaW1lcigpOw0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKCdnYW1lTWFrZVdlYXBvbi9wYWdlU3RhdGUnLCBbJ2FuaW1hdGlvbkFjdGl2ZSddKSwNCiAgICAuLi5tYXBTdGF0ZSgnZ2FtZU1ha2VXZWFwb24vZ2FtZVN0YXRlJywgWydpc0dhbWVCZWdpbmUnXSksDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBNdXRhdGlvbnMoJ2dhbWVNYWtlV2VhcG9uL3BhZ2VTdGF0ZScsIFsnc2V0SGVscFZpc2liaWxpdHknXSksDQogICAgcGxheUhvdmVyKCl7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic291bmRzL3BsYXkiLCB7Im5hbWUiOiAiZHNob3BfaG92ZXIiLCAidm9sdW1lIjogLjF9KTsNCiAgICB9LA0KICAgIHBsYXlDbGljaygpew0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNvdW5kcy9wbGF5IiwgeyJuYW1lIjogImRzaG9wX2NsaWNrIiwgInZvbHVtZSI6IC4xfSk7DQogICAgfSwNCiAgICBzaG93SGVscCgpIHsNCiAgICAgIGlmKCF0aGlzLmlzR2FtZUJlZ2luZSkgcmV0dXJuOw0KICAgICAgdGhpcy5zdGFydFRpbWVyKCk7DQogICAgICB0aGlzLnNldEhlbHBWaXNpYmlsaXR5KHRydWUpOw0KICAgICAgdGhpcy5wbGF5Q2xpY2soKTsgICAgICANCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLnN0b3BUaW1lcjsNCiAgICAgIH0sIDMwMDAwKTsNCiAgICB9LA0KICAgIHN0YXJ0VGltZXIoKSB7DQogICAgICB0aGlzLmN1cnJlbnRUaW1lID0gMzA7DQogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICB0aGlzLmN1cnJlbnRUaW1lLS07DQogICAgICB9LCAxMDAwKTsNCiAgICB9LA0KICAgIHN0b3BUaW1lcigpIHsNCiAgICAgIHRoaXMuc2V0SGVscFZpc2liaWxpdHkoZmFsc2UpOw0KICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOw0KICAgICAgdGhpcy50aW1lciA9IG51bGw7DQogICAgfSwNCiAgICB0aW1lUHJvZ3Jlc3NCYXIoKSB7DQogICAgICBsZXQgY2lyY2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpcmNsZVByb2dyZXNzJyk7DQogICAgICBpZiAoY2lyY2xlKSB7DQogICAgICAgIHRoaXMuciA9IHRoaXMuY29udmVydFJlbVRvUHgoY2lyY2xlLmdldEF0dHJpYnV0ZSgncicpKTsNCiAgICAgICAgdGhpcy5jID0gTWF0aC5QSSAqICh0aGlzLnIgKiAyKTsNCiAgICAgICAgbGV0IHByb2dyZXNzID0gdGhpcy5jIC0gdGhpcy5jdXJyZW50VGltZSAqICh0aGlzLmMgLyAzMCk7DQogICAgICAgIHJldHVybiBwcm9ncmVzczsNCiAgICAgIH0gZWxzZSByZXR1cm4gMDsNCiAgICB9LA0KICAgIGNvbnZlcnRSZW1Ub1B4KHJlbSkgew0KICAgICAgbGV0IHJlbU51bSA9IHJlbS5yZXBsYWNlKCdyZW0nLCAnJyk7DQogICAgICByZXR1cm4gcmVtTnVtICogcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmZvbnRTaXplKTsNCiAgICB9LA0KICB9LA0KICB3YXRjaDogew0KICAgIGN1cnJlbnRUaW1lKHRpbWUpIHsNCiAgICAgIGlmICh0aW1lID09PSAwKSB7DQogICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["MainTopRight.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainTopRight.vue","sourceRoot":"src/views/Minigames/MakeWeapon/components","sourcesContent":["<template>\r\n  <div class=\"main-top__right\">\r\n    <div class=\"button-help\" v-bind:class=\"timer ? 'timer' : ''\" v-bind:style=\"animationActive?'opacity: 0':''\">\r\n      <a class=\"button-help__icon\" v-on:click=\"showHelp\"></a>\r\n      <div id=\"btn-sound\"></div>\r\n      <div class=\"button-help__progress\">\r\n        <span class=\"button-help__time\">{{ currentTime }}</span>\r\n        <svg\r\n          class=\"button-help__svg\"\r\n          width=\"5.3rem\"\r\n          height=\"5.3rem\"\r\n          viewPort=\"0 0 3.1rem 3.1rem\"\r\n          version=\"1.1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <circle\r\n            class=\"button-help__svg-circle\"\r\n            r=\"1.5rem\"\r\n            cx=\"1.7rem\"\r\n            cy=\"1.7rem\"\r\n            fill=\"transparent\"\r\n            stroke-dasharray=\"300\"\r\n            stroke-dashoffset=\"0\"\r\n          ></circle>\r\n          <circle\r\n            id=\"circleProgress\"\r\n            class=\"button-help__svg-progress\"\r\n            r=\"1.5rem\"\r\n            cx=\"-1.7rem\"\r\n            cy=\"1.7rem\"\r\n            v-bind:stroke-dasharray=\"c\"\r\n            stroke-dashoffset=\"0\"\r\n            v-bind:style=\"\r\n              currentTime\r\n                ? 'stroke-dashoffset: ' + timeProgressBar() + 'px;'\r\n                : ''\r\n            \"\r\n          ></circle>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from 'vuex';\r\nexport default {\r\n  name: 'MainTopRight',\r\n  data() {\r\n    return {\r\n      currentTime: 30,\r\n      timer: null,\r\n      r: 0,\r\n      c: 0,\r\n    };\r\n  },\r\n  destroyed() {\r\n    this.stopTimer();\r\n  },\r\n  computed: {\r\n    ...mapState('gameMakeWeapon/pageState', ['animationActive']),\r\n    ...mapState('gameMakeWeapon/gameState', ['isGameBegine']),\r\n  },\r\n  methods: {\r\n    ...mapMutations('gameMakeWeapon/pageState', ['setHelpVisibility']),\r\n    playHover(){\r\n        this.$store.commit(\"sounds/play\", {\"name\": \"dshop_hover\", \"volume\": .1});\r\n    },\r\n    playClick(){\r\n        this.$store.commit(\"sounds/play\", {\"name\": \"dshop_click\", \"volume\": .1});\r\n    },\r\n    showHelp() {\r\n      if(!this.isGameBegine) return;\r\n      this.startTimer();\r\n      this.setHelpVisibility(true);\r\n      this.playClick();      \r\n      setTimeout(() => {\r\n        this.stopTimer;\r\n      }, 30000);\r\n    },\r\n    startTimer() {\r\n      this.currentTime = 30;\r\n      this.timer = setInterval(() => {\r\n        this.currentTime--;\r\n      }, 1000);\r\n    },\r\n    stopTimer() {\r\n      this.setHelpVisibility(false);\r\n      clearTimeout(this.timer);\r\n      this.timer = null;\r\n    },\r\n    timeProgressBar() {\r\n      let circle = document.getElementById('circleProgress');\r\n      if (circle) {\r\n        this.r = this.convertRemToPx(circle.getAttribute('r'));\r\n        this.c = Math.PI * (this.r * 2);\r\n        let progress = this.c - this.currentTime * (this.c / 30);\r\n        return progress;\r\n      } else return 0;\r\n    },\r\n    convertRemToPx(rem) {\r\n      let remNum = rem.replace('rem', '');\r\n      return remNum * parseFloat(getComputedStyle(document.body).fontSize);\r\n    },\r\n  },\r\n  watch: {\r\n    currentTime(time) {\r\n      if (time === 0) {\r\n        this.stopTimer();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.main-top__right {\r\n  padding: 2rem;\r\n  #btn-sound {\r\n    display: none;\r\n  }\r\n}\r\n.button-help {\r\n  z-index: 2;\r\n  width: 4.8rem;\r\n  height: 4.8rem;\r\n  background: url('/img/miniGames/makeWeapon/btn-ellipse.png');\r\n  background-size: contain;\r\n  padding: 0.7rem;\r\n  margin-left: 0.5rem;\r\n  float: left;\r\n  &__icon {\r\n    display: block;\r\n    opacity: 1;\r\n    width: 3.4rem;\r\n    height: 3.4rem;\r\n    border-radius: 3.4rem;\r\n    background-color: #08090b;\r\n    background-image: url('/img/miniGames/makeWeapon/help-icon.png');\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n    background-size: 1.3rem 1.3rem;\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n    cursor: pointer;\r\n    transition: opacity 0.2s ease;\r\n    z-index: 1;\r\n\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n  }\r\n  &.timer {\r\n    background: transparent;\r\n    .button-help__icon {\r\n      opacity: 0;\r\n    }\r\n  }\r\n  &__icon:hover ~ &__wrong {\r\n    opacity: 1;\r\n  }\r\n  &__progress {\r\n    width: 3.1rem;\r\n    height: 3.1rem;\r\n    position: absolute;\r\n    top: 0.85rem;\r\n    left: 0.85rem;\r\n    border-radius: 100%;\r\n    z-index: -1;\r\n    opacity: 0;\r\n    transition: opacity 0.2s ease;\r\n    .timer & {\r\n      z-index: 3;\r\n      opacity: 1;\r\n    }\r\n  }\r\n  &__time {\r\n    display: block;\r\n    width: 100%;\r\n    position: absolute;\r\n    top: 50%;\r\n    line-height: 2rem;\r\n    margin-top: -1rem;\r\n    text-align: center;\r\n    \r\n    font-size: 1.1rem;\r\n    //font-weight: 700;\r\n    color: #fff;\r\n    z-index: 3;\r\n  }\r\n  &__svg {\r\n    margin-top: -0.15rem;\r\n    margin-left: -0.15rem;\r\n    z-index: 2;\r\n  }\r\n  &__svg-circle {\r\n    stroke-dashoffset: 0;\r\n    transition: stroke-dashoffset 1s linear;\r\n    stroke: #666;\r\n    stroke-width: 0.15rem;\r\n  }\r\n  &__svg-progress {\r\n    stroke: #dcff00 !important;\r\n    transform: rotate(-90deg);\r\n    stroke-width: 0.15rem;\r\n  }\r\n  // &__shadow {\r\n  //   width: 2.3rem;\r\n  //   height: 5.3rem;\r\n  //   stroke-width: 0.2rem;\r\n  // }\r\n}\r\n</style>\r\n"]}]}