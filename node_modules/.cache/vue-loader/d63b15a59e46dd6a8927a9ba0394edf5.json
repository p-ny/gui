{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\Smartphone\\components\\MessengerTab\\components\\ChatSection\\CanalSubsection\\index.vue?vue&type=style&index=0&id=4d9ff088&lang=scss&scoped=true&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\Smartphone\\components\\MessengerTab\\components\\ChatSection\\CanalSubsection\\index.vue","mtime":1625151245572},{"path":"C:\\gta go\\Gui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1685190019100},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1685190024220},{"path":"C:\\gta go\\Gui\\node_modules\\postcss-loader\\src\\index.js","mtime":1685190021333},{"path":"C:\\gta go\\Gui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1685190017369},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGtleWZyYW1lcyBmYWRlIHsNCiAgZnJvbSB7DQogICAgb3BhY2l0eTogMDsNCiAgfQ0KICB0byB7DQogICAgb3BhY2l0eTogMTsNCiAgfQ0KfQ0KLmNhbmFsLXN1YnNlY3Rpb24gew0KICBoZWlnaHQ6IDEwMCU7DQogIHdpZHRoOiAxMDAlOw0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICZfX21haW4gew0KICAgIGhlaWdodDogMTAwJTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICB9DQogICZfX2hlYWRlciB7DQogICAgZmxleDogMCAwIDQuNXJlbTsNCiAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgcGFkZGluZzogMnJlbSAwLjVyZW0gMC41cmVtIDAuNzVyZW07DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIC5kZXNjIHsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApOw0KICAgICAgbGVmdDogNTAlOw0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAmX190aXRsZSB7DQogICAgICAgIGZvbnQtc2l6ZTogMC43cmVtOw0KICAgICAgICBmb250LXdlaWdodDogNTAwOw0KICAgICAgICBsaW5lLWhlaWdodDogMC44cmVtOw0KICAgICAgICBjb2xvcjogIzAyMDIwMjsNCiAgICAgICAgd2lkdGg6IDguODVyZW07DQogICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICAgICAgfQ0KICAgICAgJl9fc3Vic2NyaWJlcnMgew0KICAgICAgICBtYXJnaW46IDAuMXJlbSAwIDAgMDsNCiAgICAgICAgZm9udC1zaXplOiAwLjY1cmVtOw0KICAgICAgICBsaW5lLWhlaWdodDogMC43NXJlbTsNCiAgICAgICAgY29sb3I6ICM5RTlFQTI7DQogICAgICB9DQogICAgfQ0KICAgIC5hdmF0YXIgew0KICAgICAgd2lkdGg6IDJyZW07DQogICAgICBoZWlnaHQ6IDJyZW07DQogICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgJjo6YWZ0ZXIgew0KICAgICAgICBjb250ZW50OiAnJzsNCiAgICAgICAgYmFja2dyb3VuZDogY2VudGVyIC9jb250YWluIG5vLXJlcGVhdCB1cmwoIi9pbWcvaHVkL3NtYXJ0cGhvbmUvbWVzc2VuZ2VyVGFiL21lZ2FwaG9uZS5zdmciKTsNCiAgICAgICAgd2lkdGg6IDAuOXJlbTsNCiAgICAgICAgaGVpZ2h0OiAwLjlyZW07DQogICAgICB9DQogICAgfQ0KICB9DQogICZfX2xpc3Qgew0KICAgIGhlaWdodDogMjVyZW0gIWltcG9ydGFudDsNCiAgfQ0KICAmX19mb290ZXIgew0KICAgIGhlaWdodDogMy41cmVtOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgYmFja2dyb3VuZDogI2ZmZjsNCiAgICBwYWRkaW5nOiAxcmVtIDAgMCAwOw0KICAgIC5idG4tY3JlYXRlIHsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgaGVpZ2h0OiBmaXQtY29udGVudDsNCiAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KICAgICAgJjpob3ZlciB7DQogICAgICAgIC5pY29uIHsNCiAgICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICB9DQogICAgICAgIC50ZXh0OjphZnRlciB7DQogICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLmljb24gew0KICAgICAgICBtYXNrOiB1cmwoIi9pbWcvaHVkL3NtYXJ0cGhvbmUvbWVzc2VuZ2VyVGFiL2VkaXQuc3ZnIikgbm8tcmVwZWF0IGNlbnRlciAvIGNvbnRhaW47DQogICAgICAgIGJhY2tncm91bmQ6ICM0RTZFRDk7DQogICAgICAgIG9wYWNpdHk6IDAuNTsNCiAgICAgICAgd2lkdGg6IDAuOXJlbTsNCiAgICAgICAgaGVpZ2h0OiAwLjlyZW07DQogICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4yczsNCiAgICAgIH0NCiAgICAgIC50ZXh0IHsNCiAgICAgICAgZm9udC1zaXplOiAwLjdyZW07DQogICAgICAgIGxpbmUtaGVpZ2h0OiAwLjhyZW07DQogICAgICAgIGNvbG9yOiAjNEU2RUQ5Ow0KICAgICAgICBtYXJnaW46IDAgMCAwIDAuNXJlbTsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAmOjphZnRlciB7DQogICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7DQogICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnM7DQogICAgICAgICAgdG9wOiAxMDAlOw0KICAgICAgICAgIGxlZnQ6IDA7DQogICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgY29udGVudDogJyc7DQogICAgICAgICAgaGVpZ2h0OiAxcHg7DQogICAgICAgICAgYmFja2dyb3VuZDogcmdiYSg3OCwgMTEwLCAyMTcsIDAuMyk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCiAgJl9fbGF5ZXIgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IDA7DQogICAgbGVmdDogMDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjcpOw0KICB9DQp9DQouY2FuYWwtc3Vic2VjdGlvbl9fbGF5ZXItZW50ZXItYWN0aXZlIHsNCiAgYW5pbWF0aW9uOiBmYWRlIDAuNHM7DQp9DQouY2FuYWwtc3Vic2VjdGlvbl9fbGF5ZXItbGVhdmUtYWN0aXZlIHsNCiAgYW5pbWF0aW9uOiBmYWRlIDAuNHMgcmV2ZXJzZTsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Smartphone/components/MessengerTab/components/ChatSection/CanalSubsection","sourcesContent":["<template>\r\n  <div class=\"canal-subsection\">\r\n    <preloader-circle v-if=\"messengerData.CurrentChat.IsLoading\" />\r\n    <div v-else class=\"canal-subsection__content\">\r\n      <div class=\"canal-subsection__header\">\r\n        <back-button :location=\"{ key: currentTab.key, section: 'GeneralSection' }\" @extraClick=\"closeCurrentChat\" />\r\n        <div class=\"desc\">\r\n          <span class=\"desc__title\">{{ messengerData.CurrentChat.Name }}</span>\r\n          <span class=\"desc__subscribers\">{{loc(`phone:chat:post:1@${messengerData.CurrentChat.SubscribersCount}`)}}</span>\r\n        </div>\r\n        <div \r\n          :style=\"{ background: messengerData.CurrentChat.IconColors }\" \r\n          class=\"avatar\"\r\n          @click=\"setCurrentTab({key: currentTab.key, section: currentTab.section, subsection: 'CanalOptionsSubsection' })\"\r\n        ></div>\r\n      </div>\r\n      <div v-bar>\r\n        <div class=\"canal-subsection__list\">\r\n          <list-item\r\n            v-for=\"item in items\"\r\n            :key=\"item.Id\"\r\n            :item=\"item\"\r\n            @edit=\"edit\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"canal-subsection__footer\">\r\n        <button v-if=\"messengerData.CurrentChat.CanCreatingPosts\" class=\"btn-create\" @click=\"isCreation = true\">\r\n          <div class=\"icon\"></div>\r\n          <span class=\"text\">{{loc('phone:chat:post:4')}}</span>\r\n        </button>\r\n        <button v-else-if=\"messengerData.CurrentChat.IsMuted\" class=\"btn-create\" @click=\"toggleMuted(false)\">\r\n          <span class=\"text\">{{loc('phone:chat:post:2')}}</span>\r\n        </button>\r\n        <button v-else class=\"btn-create\" @click=\"toggleMuted(true)\">\r\n          <span class=\"text\">{{loc('phone:chat:post:3')}}</span>\r\n        </button>\r\n      </div>\r\n      <transition name=\"smartphone-fade\">\r\n        <div class=\"canal-subsection__layer\" v-if=\"isCreation || isEdit\"></div>\r\n      </transition>\r\n      <transition name=\"smartphone-bottom-to-top-slide\">\r\n        <create-popup v-if=\"isCreation\" @closeCreation=\"isCreation = false\" @create=\"create\" />\r\n      </transition>\r\n      <transition name=\"smartphone-bottom-to-top-slide\">\r\n        <edit-popup\r\n          v-if=\"isEdit\"\r\n          :currentId=\"currentPostEditedId\"\r\n          @close=\"isEdit = false\"\r\n          @confirm=\"editConfirm\"\r\n          @delete=\"deleteEditPost\"\r\n        />\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState, mapActions, mapGetters } from 'vuex'\r\nimport BackButton from '../common/BackButton'\r\nimport CreatePopup from './CreatePopup'\r\nimport EditPopup from './EditPopup'\r\nimport ListItem from './LIstItem'\r\nimport PreloaderCircle from '../../PreloaderCircle'\r\n\r\nexport default {\r\n  name: 'CanalSection',\r\n\r\n  components: {\r\n    BackButton,\r\n    CreatePopup,\r\n    EditPopup,\r\n    ListItem,\r\n    PreloaderCircle\r\n  },\r\n\r\n  data: function() {\r\n    return {\r\n      isCreation: false,\r\n      isEdit: false,\r\n      currentPostEditedId: null,\r\n      items: []\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('smartphone', ['currentTab']),\r\n    ...mapState('smartphone/messagePage', ['messengerData']),\r\n    ...mapGetters('localization', ['loc']),\r\n  },\r\n\r\n  watch: {\r\n    messengerData: {\r\n      handler: function() {\r\n        this.setCurrentPosts();\r\n      },\r\n      deep: true\r\n    } \r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations('smartphone', ['setCurrentTab']),\r\n    ...mapActions('smartphone/messagePage', ['msg_getIsHavePermission', 'msg_dropCurrentChat']),\r\n    setCurrentPosts: function() {\r\n      const nonSortedItems = this.messengerData.CurrentChat.Items;\r\n      this.items = nonSortedItems.sort((a, b) => b.Time - a.Time);\r\n    },\r\n\r\n    closeCurrentChat: function() {\r\n      this.msg_dropCurrentChat();\r\n    },\r\n\r\n    edit: function(id) {\r\n      this.isEdit = true\r\n      this.currentPostEditedId = id\r\n    },\r\n\r\n    deleteEditPost: function() {\r\n      window.mp.triggerServer('phone::msg::deletePost', this.currentPostEditedId);\r\n      this.isEdit = false;\r\n    },\r\n\r\n    editConfirm: function(imgUrl, title, text) {\r\n      window.mp.triggerServer('phone::msg::editPost', this.currentPostEditedId, imgUrl, title, text);\r\n      this.isEdit = false;\r\n    },\r\n\r\n    create: function(imgUrl, title, text) {\r\n      window.mp.triggerServer('phone::msg::createPost', this.messengerData.CurrentChat.Id, imgUrl, title, text);  \r\n      this.isCreation = false;\r\n    }\r\n  },\r\n\r\n  mounted: function() {\r\n    this.setCurrentPosts();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@keyframes fade {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n.canal-subsection {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n  &__main {\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n  }\r\n  &__header {\r\n    flex: 0 0 4.5rem;\r\n    background: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 2rem 0.5rem 0.5rem 0.75rem;\r\n    position: relative;\r\n    .desc {\r\n      text-align: center;\r\n      position: absolute;\r\n      transform: translate(-50%, 0);\r\n      left: 50%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      &__title {\r\n        font-size: 0.7rem;\r\n        font-weight: 500;\r\n        line-height: 0.8rem;\r\n        color: #020202;\r\n        width: 8.85rem;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      }\r\n      &__subscribers {\r\n        margin: 0.1rem 0 0 0;\r\n        font-size: 0.65rem;\r\n        line-height: 0.75rem;\r\n        color: #9E9EA2;\r\n      }\r\n    }\r\n    .avatar {\r\n      width: 2rem;\r\n      height: 2rem;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      &::after {\r\n        content: '';\r\n        background: center /contain no-repeat url(\"/img/hud/smartphone/messengerTab/megaphone.svg\");\r\n        width: 0.9rem;\r\n        height: 0.9rem;\r\n      }\r\n    }\r\n  }\r\n  &__list {\r\n    height: 25rem !important;\r\n  }\r\n  &__footer {\r\n    height: 3.5rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    background: #fff;\r\n    padding: 1rem 0 0 0;\r\n    .btn-create {\r\n      display: flex;\r\n      align-items: center;\r\n      height: fit-content;\r\n      background: transparent;\r\n      &:hover {\r\n        .icon {\r\n          opacity: 1;\r\n        }\r\n        .text::after {\r\n          transform: scale(1);\r\n        }\r\n      }\r\n      .icon {\r\n        mask: url(\"/img/hud/smartphone/messengerTab/edit.svg\") no-repeat center / contain;\r\n        background: #4E6ED9;\r\n        opacity: 0.5;\r\n        width: 0.9rem;\r\n        height: 0.9rem;\r\n        transition: opacity 0.2s;\r\n      }\r\n      .text {\r\n        font-size: 0.7rem;\r\n        line-height: 0.8rem;\r\n        color: #4E6ED9;\r\n        margin: 0 0 0 0.5rem;\r\n        position: relative;\r\n        &::after {\r\n          position: absolute;\r\n          transform: scale(0);\r\n          transition: transform 0.2s;\r\n          top: 100%;\r\n          left: 0;\r\n          width: 100%;\r\n          content: '';\r\n          height: 1px;\r\n          background: rgba(78, 110, 217, 0.3);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  &__layer {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.7);\r\n  }\r\n}\r\n.canal-subsection__layer-enter-active {\r\n  animation: fade 0.4s;\r\n}\r\n.canal-subsection__layer-leave-active {\r\n  animation: fade 0.4s reverse;\r\n}\r\n</style>\r\n"]}]}