{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\Inventory\\ListItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\Inventory\\ListItems.vue","mtime":1642054900028},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZHJhZ09iamVjdCBmcm9tICcuL2NsYXNzZXMvZGFyZ09iamVjdCcNCmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAndnVleCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIHByb3BzOlsiaWQiLCAiZHJhZyIsICJ3aWR0aCIsICJzb3J0QnlJbmRleCIsICJjYW5Ecm9wIiwgImNoZWNrSW52ZW50b3J5Il0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGxhc3RDbGljazogMCwNCiAgICAgICAgICAgIGNsaWNrRGVsYXk6IDUwMA0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICAuLi5tYXBHZXR0ZXJzKCdpbnZlbnRvcnknLCBbJ2dldEJ5SWQnXSksDQogICAgICAgIGludmVudG9yeSgpew0KICAgICAgICAgICAgaWYodGhpcy5jaGVja0ludmVudG9yeSkgcmV0dXJuIHRoaXMuY2hlY2tJbnZlbnRvcnk7DQogICAgICAgICAgICBlbHNlIHJldHVybiB0aGlzLmdldEJ5SWQodGhpcy5pZCk7DQogICAgICAgIH0sDQogICAgICAgIGl0ZW1zKCl7DQogICAgICAgICAgICBjb25zdCBpdGVtcyA9IFtdOw0KICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgubWF4KHRoaXMuaW52ZW50b3J5LnNpemUsIHRoaXMuaW52ZW50b3J5Lml0ZW1zLmxlbmd0aCk7DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykgew0KICAgICAgICAgICAgICAgIGlmKHRoaXMuc29ydEJ5SW5kZXgpew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW52ZW50b3J5Lml0ZW1zLmZpbmRJbmRleChpdGVtPT5pdGVtLmluZGV4ID09IGkpOw0KICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGluZGV4ID09PSAtMSA/IG51bGwgOiB0aGlzLmludmVudG9yeS5pdGVtc1tpbmRleF0pOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHRoaXMuaW52ZW50b3J5Lml0ZW1zW2ldID09IHVuZGVmaW5lZCA/IG51bGwgOiB0aGlzLmludmVudG9yeS5pdGVtc1tpXSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGl0ZW1zOw0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGFkcmVzcyhpbmRleCl7DQogICAgICAgICAgICByZXR1cm4gYGludl8ke3RoaXMuaWR9XyR7aW5kZXh9YA0KICAgICAgICB9LA0KICAgICAgICBpc0FjdGl2ZShpbmRleCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5kcmFnICYmIHRoaXMuYWRyZXNzKGluZGV4KSA9PSB0aGlzLmRyYWcub3ZlckFkcmVzcw0KICAgICAgICB9LA0KICAgICAgICBvbk1vdXNlRG93bihpbmRleCwgaXRlbSwgZSl7DQogICAgICAgICAgICBpZihpdGVtID09IG51bGwpIHJldHVybjsNCiAgICAgICAgICAgIHZhciBhZHJlc3MgPSB0aGlzLmFkcmVzcyhpbmRleCk7DQogICAgICAgICAgICBpZihlLmJ1dHRvbiA9PT0gMil7DQogICAgICAgICAgICAgICAgaWYoaXRlbS5pc1VzYWJsZSgpIHx8IGl0ZW0uaXNXZWFwb24oKSB8fCBpdGVtLmlzTWFzaygpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgib25Eb3VibGVDbGljayIsIGFkcmVzcywgaXRlbSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmxhc3RDbGljayA+IERhdGUubm93KCkpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW0uaXNVc2FibGUoKSkgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJvbkRvdWJsZUNsaWNrIiwgYWRyZXNzLCBpdGVtKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0ID0gbmV3IGRyYWdPYmplY3QoYWRyZXNzLCBpdGVtLCBlLmNsaWVudFgsIGUuY2xpZW50WSk7DQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgib25Nb3VzZURvd24iLCBvYmplY3QpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmxhc3RDbGljayA9IERhdGUubm93KCkgKyB0aGlzLmNsaWNrRGVsYXk7ICAgICAgICAgICAgDQogICAgICAgIH0sDQogICAgfQ0KfQ0K"},{"version":3,"sources":["ListItems.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListItems.vue","sourceRoot":"src/views/Inventory","sourcesContent":["<template>\r\n    <div class=\"list\"\r\n        :class=\"{'nopoint': canDrop}\"\r\n        :style=\"{'width': width == undefined ? '96%' : `${width * 5.6}rem`}\"\r\n    >\r\n        <div \r\n            class=\"list-item\" :id=\"canDrop ? 'drop' : 'nodrop'\" \r\n            v-for=\"(item, index) in items\" \r\n            :key=\"index\" \r\n            :adress=\"adress(index)\" \r\n            :class=\"{'list-active': isActive(index), 'list-with-item': item && !item.promo, 'list-with-promo': item && item.promo}\"\r\n            @mousedown=\"onMouseDown(index, item, $event)\"\r\n        >\r\n            <img  v-if=\"item\" :src=\"item.getImage()\" alt=\"item\">\r\n            <div class=\"list-item-count\" v-if=\"item\">x{{item.count}}</div>\r\n            <div class=\"list-item-promo\" v-if=\"item && item.promo\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport dragObject from './classes/dargObject'\r\nimport {mapGetters} from 'vuex'\r\n\r\nexport default {\r\n    props:[\"id\", \"drag\", \"width\", \"sortByIndex\", \"canDrop\", \"checkInventory\"],\r\n    data() {\r\n        return {\r\n            lastClick: 0,\r\n            clickDelay: 500\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters('inventory', ['getById']),\r\n        inventory(){\r\n            if(this.checkInventory) return this.checkInventory;\r\n            else return this.getById(this.id);\r\n        },\r\n        items(){\r\n            const items = [];\r\n            const size = Math.max(this.inventory.size, this.inventory.items.length);\r\n            for (let i = 0; i < size; i++) {\r\n                if(this.sortByIndex){\r\n                    const index = this.inventory.items.findIndex(item=>item.index == i);\r\n                    items.push(index === -1 ? null : this.inventory.items[index]);\r\n                }else{\r\n                    items.push(this.inventory.items[i] == undefined ? null : this.inventory.items[i]);\r\n                }\r\n            }\r\n            return items;\r\n        }\r\n    },\r\n    methods: {\r\n        adress(index){\r\n            return `inv_${this.id}_${index}`\r\n        },\r\n        isActive(index){\r\n            return this.drag && this.adress(index) == this.drag.overAdress\r\n        },\r\n        onMouseDown(index, item, e){\r\n            if(item == null) return;\r\n            var adress = this.adress(index);\r\n            if(e.button === 2){\r\n                if(item.isUsable() || item.isWeapon() || item.isMask()){\r\n                    this.$emit(\"onDoubleClick\", adress, item)\r\n                }\r\n            }else if(this.lastClick > Date.now()){\r\n                if(item.isUsable())                    \r\n                    this.$emit(\"onDoubleClick\", adress, item)\r\n                \r\n            }else{\r\n                const object = new dragObject(adress, item, e.clientX, e.clientY);\r\n                this.$emit(\"onMouseDown\", object)\r\n            }\r\n            this.lastClick = Date.now() + this.clickDelay;            \r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.list{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    overflow: hidden auto;\r\n    margin: auto;\r\n    max-height: 33rem;\r\n    &::-webkit-scrollbar {\r\n      width: 2px;\r\n    }\r\n    &::-webkit-scrollbar-track {\r\n      border: solid 0 transparent;\r\n      margin: .1rem;\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n      border: solid 0 transparent;      \r\n      background-color: rgba(#fff,.1);\r\n    }\r\n    &-item{\r\n        width: 4.5rem;\r\n        height: 4.5rem;\r\n        margin: 0 1rem 1rem 0;\r\n        background: rgba(255, 255, 255, 0.03);\r\n        border: 2px solid rgba(255, 255, 255, 0.1);\r\n        box-sizing: border-box;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        position: relative;\r\n        img{\r\n            width: 70%;\r\n            height: 70%;\r\n            -webkit-user-drag: none;\r\n            -o-user-drag: none;\r\n            pointer-events: none;            \r\n        }\r\n        &-count{\r\n            color: #fff;\r\n            position: absolute;\r\n            top: .1rem;\r\n            left: .3rem;\r\n            font-size: .9rem;\r\n            line-height: 1.2rem;\r\n            letter-spacing: .03rem;\r\n        }\r\n        &-promo{\r\n            position: absolute;\r\n            height: .01rem;\r\n            width: 100%;\r\n            left: 0;\r\n            bottom: 0;\r\n            background: #B6D300;\r\n        }\r\n    }\r\n    &-active{\r\n        border: 2px solid rgba(255, 255, 255, 0.6);\r\n        \r\n    }\r\n    &-with-item{\r\n        background: radial-gradient(80.56% 80.56% at 50% 76.11%, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0) 100%);\r\n    }\r\n    &-with-promo{        \r\n        background: radial-gradient(80.56% 80.56% at 50% 76.11%, rgba(182, 211, 0, 0.2) 0%, rgba(182, 211, 0, 0) 100%);\r\n    }\r\n}\r\n</style>"]}]}