{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\ParliamentPortal\\components\\CurrentMeeting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\ParliamentPortal\\components\\CurrentMeeting.vue","mtime":1625043595807},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgVm90ZUl0ZW0gZnJvbSAnLi9Wb3RlSXRlbScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0N1cnJlbnRNZWV0aW5nJywNCg0KICBwcm9wczogew0KICAgIGl0ZW06IE9iamVjdA0KICB9LA0KDQogIGNvbXBvbmVudHM6IHsNCiAgICBWb3RlSXRlbQ0KICB9LA0KDQogIGRhdGE6IGZ1bmN0aW9uKCkgew0KICAgIHJldHVybiB7DQogICAgICB2b3Rlc0FuZ2xlczogW10sDQogICAgICAvLyBwYXRoUGFyYW1zOiBbXSwNCiAgICAgIHZvdGVMaXN0OiBbDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogJ3BhcmxpYW1lbnRQb3J0YWxfNycsDQogICAgICAgICAgdmFsdWU6IDINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAncGFybGlhbWVudFBvcnRhbF85JywNCiAgICAgICAgICB2YWx1ZTogMA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICdwYXJsaWFtZW50UG9ydGFsXzgnLA0KICAgICAgICAgIHZhbHVlOiAxDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICBjdXJyZW50Vm90ZTogbnVsbCwNCiAgICAgIGRyb3Bkb3duRmxhZzogZmFsc2UNCiAgICB9DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZSgncGFybGlhbWVudFBvcnRhbCcsIFsnY3VycmVudE1lZXRpbmcnLCAnY3VycmVudFZvdGVEYXRhJ10pLA0KICAgIC4uLm1hcEdldHRlcnMoJ2xvY2FsaXphdGlvbicsIFsnbG9jJ10pLA0KICAgIGN1cnJlbnRWb3RlczogZnVuY3Rpb24oKSB7DQogICAgICBsZXQgYXJyID0gW107DQogICAgICBsZXQgbmV3QXJyID0gW107DQogICAgICBsZXQgdm90ZUZvciA9IDA7DQogICAgICBsZXQgdm90ZU5ldHVyYWwgPSAwOw0KICAgICAgbGV0IHZvdGVBZ2FpbnN0ID0gMDsNCiAgICAgIGlmICh0aGlzLlZvdGVzQXJlKSB7DQogICAgICAgIHRoaXMuY3VycmVudFZvdGVEYXRhLnBhcnRpZXNMaXN0LmZvckVhY2goZWxlbWVudCA9PiB7DQogICAgICAgICAgZWxlbWVudC5tZW1iZXJzLmZvckVhY2goZWxlbWVudCA9PiANCiAgICAgICAgICAgIGFyci5wdXNoKGVsZW1lbnQpDQogICAgICAgICAgKQ0KICAgICAgICB9KQ0KICAgICAgICBhcnIuZm9yRWFjaChlbGVtZW50ID0+IHsNCiAgICAgICAgICBpZiAoZWxlbWVudC52b3RlID09PSAxKSB7DQogICAgICAgICAgICB2b3RlTmV0dXJhbCArPSAxDQogICAgICAgICAgICANCiAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQudm90ZSA9PT0gMikgew0KICAgICAgICAgICAgdm90ZUZvciArPSAxDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHZvdGVBZ2FpbnN0ICs9IDENCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIG5ld0FyciA9IFt2b3RlRm9yLCB2b3RlTmV0dXJhbCwgdm90ZUFnYWluc3RdDQogICAgICAgIHJldHVybiBuZXdBcnINCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBbMCwgMCwgMF0NCiAgICAgIH0NCiAgICB9LA0KICAgIFZvdGVzQXJlOiBmdW5jdGlvbigpIHsNCiAgICAgIGxldCBib29sZWFuID0gZmFsc2UNCiAgICAgIGlmICh0aGlzLmN1cnJlbnRWb3RlRGF0YS5wYXJ0aWVzTGlzdC5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmN1cnJlbnRWb3RlRGF0YS5wYXJ0aWVzTGlzdC5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jdXJyZW50Vm90ZURhdGEucGFydGllc0xpc3RbaW5kZXhdDQogICAgICAgICAgaWYgKGVsZW1lbnQubWVtYmVycy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBib29sZWFuID0gdHJ1ZQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBib29sZWFuID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7IA0KICAgICAgICBib29sZWFuID0gZmFsc2UNCiAgICAgIH0NCiAgICAgIHJldHVybiBib29sZWFuDQogICAgfSwNCg0KICAgIHBpZUNoYXJ0OiBmdW5jdGlvbigpIHsNCiAgICAgIHRoaXMubnVsbFZvdGVBbmdsZXMoKQ0KICAgICAgbGV0IGFsbCA9IDA7DQogICAgICBsZXQgYXJyQW5nbGVzID0gdGhpcy52b3Rlc0FuZ2xlcw0KICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLmN1cnJlbnRWb3Rlcykgew0KICAgICAgICBsZXQgbiA9IHZhbHVlDQogICAgICAgIGFsbCA9IGFsbCArIG4NCiAgICAgIH0NCiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5jdXJyZW50Vm90ZXMpIHsNCiAgICAgICAgbGV0IG4gPSB2YWx1ZQ0KICAgICAgICBsZXQgYW5nbGUgPSBuL2FsbCozNjANCiAgICAgICAgYXJyQW5nbGVzLnB1c2goYW5nbGUpDQogICAgICB9DQogICAgICByZXR1cm4gdGhpcy5waWVQYXRoUGFyYW1zKGFyckFuZ2xlcykNCiAgICB9LA0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBwb2xhcjJDYXJ0ZXNpYW46IGZ1bmN0aW9uIChjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIGFuZ2xlSW5EZWdyZWVzKSB7DQogICAgICBjb25zdCBhbmdsZUluUmFkaWFucyA9IChhbmdsZUluRGVncmVlcyAtIDkwKSAqIE1hdGguUEkgLyAxODAuMDsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHg6IGNlbnRlclggKyAocmFkaXVzICogTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpKSwNCiAgICAgICAgeTogY2VudGVyWSArIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucykpDQogICAgICB9Ow0KICAgIH0sDQoNCiAgICBudWxsVm90ZUFuZ2xlczogZnVuY3Rpb24oKSB7DQogICAgICB0aGlzLnZvdGVzQW5nbGVzID0gW10NCiAgICB9LA0KDQogICAgYXJjOiBmdW5jdGlvbiAoeCwgeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSkgew0KICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLnBvbGFyMkNhcnRlc2lhbih4LCB5LCByYWRpdXMsIGVuZEFuZ2xlKTsNCiAgICAgIGNvbnN0IGVuZCA9IHRoaXMucG9sYXIyQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSk7DQogICAgICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGUgPD0gMTgwID8gIjAiIDogIjEiOw0KICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IDAgJiYgZW5kQW5nbGUgPT09IDM2MCkgew0KICAgICAgICByZXR1cm4gWw0KICAgICAgICAnTScsIChzdGFydC54IC0gcmFkaXVzKSwgJzUwJywNCiAgICAgICAgJ2EgMjUsMjUgMCAxLDEnLCAyKnJhZGl1cywnLDAnLA0KICAgICAgICAnYSAyNSwyNSAwIDEsMSAnLCAtMipyYWRpdXMsJywwJw0KICAgICAgXS5qb2luKCIgIikNCiAgICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gWw0KICAgICAgICAiTSIsIHN0YXJ0LngsIHN0YXJ0LnksDQogICAgICAgICJBIiwgcmFkaXVzLCByYWRpdXMsIDAsIGxhcmdlQXJjRmxhZywgMCwgZW5kLngsIGVuZC55DQogICAgICBdLmpvaW4oIiAiKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgcGllUGF0aFBhcmFtczogZnVuY3Rpb24gKGFuZ2xlcykgew0KICAgICAgY29uc3QgY2VudGVyWCA9IDUwLCBjZW50ZXJZID0gNTA7DQogICAgICBjb25zdCByYWRpdXMgPSA0MDsNCiAgICAgIGxldCBydW5uaW5nQW5nbGUgPSAwOw0KICAgICAgY29uc3QgcGFyYW1zID0gW107DQogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYW5nbGVzLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICBjb25zdCBhID0gYW5nbGVzW2luZGV4XTsNCiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IHJ1bm5pbmdBbmdsZTsNCiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSBydW5uaW5nQW5nbGUgKyBhOw0KICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuYXJjKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhgU3RhcnQ6ICR7c3RhcnRBbmdsZX0gLCBlbmQ6ICR7ZW5kQW5nbGV9YCk7DQogICAgICAgIHJ1bm5pbmdBbmdsZSA9IGVuZEFuZ2xlOw0KICAgICAgICBwYXJhbXMucHVzaChwYXJhbSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBwYXJhbXM7DQogICAgfSwNCiAgICANCiAgICBjYWxjVm90ZXM6IGZ1bmN0aW9uKGluZGV4KSB7DQogICAgICBsZXQgY2FwYWNpdHlWb3RlcyA9IHRoaXMuY3VycmVudFZvdGVzWzFdICsgdGhpcy5jdXJyZW50Vm90ZXNbMF0gKyB0aGlzLmN1cnJlbnRWb3Rlc1syXQ0KICAgICAgcmV0dXJuIE1hdGgucm91bmQoKHRoaXMuY3VycmVudFZvdGVzW2luZGV4XS9jYXBhY2l0eVZvdGVzKSAqIDEwMCkNCiAgICB9LA0KICAgIA0KICAgIHNldFZvdGU6IGZ1bmN0aW9uKHZhbHVlKSB7DQogICAgICB0aGlzLmN1cnJlbnRWb3RlID0gdmFsdWUNCiAgICB9LA0KDQogICAgc2VsZWN0Vm90ZTogZnVuY3Rpb24oKSB7DQogICAgICBpZiAodGhpcy5jdXJyZW50Vm90ZSAhPT0gbnVsbCkgew0KICAgICAgICB3aW5kb3cubXAudHJpZ2dlcigncGFybGlhbWVudFBvcnRhbDpzZWxlY3RWb3RlJywgdGhpcy5jdXJyZW50TWVldGluZy5pZCwgdGhpcy5jdXJyZW50Vm90ZSkNCiAgICAgIH0NCiAgICB9LA0KDQogICAgdm90ZVRvU3RyaW5nOiBmdW5jdGlvbihudW1iZXIpIHsNCiAgICAgIGlmIChudW1iZXIgPT09IDIpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMubG9jKCdwYXJsaWFtZW50UG9ydGFsXzcnKQ0KICAgICAgfSBlbHNlIGlmIChudW1iZXIgPT09IDEpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMubG9jKCdwYXJsaWFtZW50UG9ydGFsXzgnKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMubG9jKCdwYXJsaWFtZW50UG9ydGFsXzknKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCn0NCg=="},{"version":3,"sources":["CurrentMeeting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CurrentMeeting.vue","sourceRoot":"src/views/ParliamentPortal/components","sourcesContent":["<template>\r\n  <div class=\"current-meeting\">\r\n    <div \r\n      v-if=\"currentMeeting.isCompleted === 1\"\r\n      class=\"current-meeting__prompt positive\"\r\n    >{{loc('parliamentPortal_10')}}</div>\r\n    <div \r\n      v-else-if=\"currentMeeting.isCompleted === 2\"\r\n      class=\"current-meeting__prompt negative\"\r\n    >{{loc('parliamentPortal_11')}}</div>\r\n    <div \r\n      v-else\r\n      class=\"current-meeting__prompt\"\r\n    >{{loc('parliamentPortal_12')}}</div>\r\n    <div class=\"current-meeting__title\">{{currentMeeting.topic}}</div>\r\n    <div class=\"current-meeting__desc\">{{currentMeeting.desc}}</div>\r\n\r\n    <div \r\n      class=\"current-meeting__vote-block\"\r\n      v-if=\"!currentMeeting.isCompleted\"\r\n    >\r\n      <div class=\"title\">{{loc('parliamentPortal_13')}}</div>\r\n      <div class=\"vote-block__values\">\r\n        <vote-item \r\n          v-for=\"vote in voteList\"\r\n          :key=\"vote.value\"\r\n          :item=\"vote\"\r\n          @setVote=\"setVote\"\r\n        />\r\n      </div>\r\n      <div \r\n        class=\"vote-block__status\"\r\n        v-if=\"currentVoteData.currentVote !== null && currentVoteData.currentVote >= 0\"\r\n      >{{loc('parliamentPortal_14')}}</div>\r\n      <div \r\n        class=\"vote-block__btn btn\"\r\n        @click=\"selectVote\"\r\n        v-else\r\n      >{{loc('parliamentPortal_15')}}</div>\r\n    </div>\r\n\r\n    <template v-if=\"VotesAre\">\r\n      <div class=\"current-meeting__results-block\">\r\n        <div class=\"results-block__pie\">\r\n          <svg \r\n            id=\"root\"\r\n            xmlns=\"http://www.w3.org/2000/svg\" \r\n            viewBox=\"0 0 100 100\"\r\n          >\r\n            <path \r\n              v-for=\"(d, index) in pieChart\" \r\n              :key=\"index\"\r\n              :d=\"d\"\r\n              :class=\"'path-' + index\"\r\n            ></path>\r\n          </svg>\r\n        </div>\r\n        <div class=\"results-block__info\">\r\n          <div class=\"title\">{{loc('parliamentPortal_16')}}</div>\r\n          <div class=\"voted-wrap\">\r\n            <div class=\"voted-wrap__label voted-for\"></div>\r\n            <div class=\"voted-wrap__desc\">{{loc('parliamentPortal_7')}}</div>\r\n            <div class=\"voted-wrap__value\">{{calcVotes(0)}}%</div>\r\n          </div>\r\n          <div class=\"voted-wrap\">\r\n            <div class=\"voted-wrap__label\"></div>\r\n            <div class=\"voted-wrap__desc\">{{loc('parliamentPortal_8')}}</div>\r\n            <div class=\"voted-wrap__value\">{{calcVotes(1)}}%</div>\r\n          </div>\r\n          <div class=\"voted-wrap\">\r\n            <div class=\"voted-wrap__label voted-against\"></div>\r\n            <div class=\"voted-wrap__desc\">{{loc('parliamentPortal_9')}}</div>\r\n            <div class=\"voted-wrap__value\">{{calcVotes(2)}}%</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"current-meeting__more\">\r\n        <div \r\n          :class=\"[{collapsed: dropdownFlag}, 'drop-header']\"\r\n          @click=\"dropdownFlag = !dropdownFlag\"\r\n        >\r\n          <div class=\"drop-header__value\">{{loc('parliamentPortal_17')}}</div>\r\n          <div class=\"drop-header__icon\"></div>\r\n        </div>\r\n        <transition name=\"dropdown\">\r\n          <div \r\n            class=\"drop-body\"\r\n            v-if=\"dropdownFlag\"\r\n          >\r\n            <div class=\"drop-body__head\">\r\n              <div class=\"block-value\">\r\n                <div class=\"block-value__value\">{{currentVotes[0]}}</div>\r\n                <div class=\"block-value__title\">\"{{loc('parliamentPortal_7')}}\"</div>\r\n              </div>\r\n              <div class=\"block-value\">\r\n                <div class=\"block-value__value\">{{currentVotes[2]}}</div>\r\n                <div class=\"block-value__title\">\"{{loc('parliamentPortal_9')}}\"</div>\r\n              </div>\r\n              <div class=\"block-value\">\r\n                <div class=\"block-value__value\">{{currentVotes[1]}}</div>\r\n                <div class=\"block-value__title\">\"{{loc('parliamentPortal_8')}}\"</div>\r\n              </div>\r\n            </div>\r\n            <div \r\n              class=\"drop-body__parties\"\r\n              v-for=\"parti in currentVoteData.partiesList\"\r\n              :key=\"parti.id\"\r\n            >\r\n              <div class=\"parti-name\">{{parti.name}}</div>\r\n              <div class=\"parti-list\">\r\n                <div \r\n                  class=\"parti-list__item\"\r\n                  v-for=\"member in parti.members\"\r\n                  :key=\"member.id\"\r\n                >\r\n                  <div class=\"nickname\">{{member.nickname}}</div>\r\n                  <div class=\"vote\">{{voteToString(member.vote)}}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex'\r\nimport VoteItem from './VoteItem'\r\nexport default {\r\n  name: 'CurrentMeeting',\r\n\r\n  props: {\r\n    item: Object\r\n  },\r\n\r\n  components: {\r\n    VoteItem\r\n  },\r\n\r\n  data: function() {\r\n    return {\r\n      votesAngles: [],\r\n      // pathParams: [],\r\n      voteList: [\r\n        {\r\n          title: 'parliamentPortal_7',\r\n          value: 2\r\n        },\r\n        {\r\n          title: 'parliamentPortal_9',\r\n          value: 0\r\n        },\r\n        {\r\n          title: 'parliamentPortal_8',\r\n          value: 1\r\n        }\r\n      ],\r\n      currentVote: null,\r\n      dropdownFlag: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('parliamentPortal', ['currentMeeting', 'currentVoteData']),\r\n    ...mapGetters('localization', ['loc']),\r\n    currentVotes: function() {\r\n      let arr = [];\r\n      let newArr = [];\r\n      let voteFor = 0;\r\n      let voteNetural = 0;\r\n      let voteAgainst = 0;\r\n      if (this.VotesAre) {\r\n        this.currentVoteData.partiesList.forEach(element => {\r\n          element.members.forEach(element => \r\n            arr.push(element)\r\n          )\r\n        })\r\n        arr.forEach(element => {\r\n          if (element.vote === 1) {\r\n            voteNetural += 1\r\n            \r\n          } else if (element.vote === 2) {\r\n            voteFor += 1\r\n          } else {\r\n            voteAgainst += 1\r\n          }\r\n        })\r\n        newArr = [voteFor, voteNetural, voteAgainst]\r\n        return newArr\r\n      } else {\r\n        return [0, 0, 0]\r\n      }\r\n    },\r\n    VotesAre: function() {\r\n      let boolean = false\r\n      if (this.currentVoteData.partiesList.length > 0) {\r\n        for (let index = 0; index < this.currentVoteData.partiesList.length; index++) {\r\n          const element = this.currentVoteData.partiesList[index]\r\n          if (element.members.length > 0) {\r\n            boolean = true\r\n          } else {\r\n            boolean = false\r\n          }\r\n        }\r\n      } else { \r\n        boolean = false\r\n      }\r\n      return boolean\r\n    },\r\n\r\n    pieChart: function() {\r\n      this.nullVoteAngles()\r\n      let all = 0;\r\n      let arrAngles = this.votesAngles\r\n      for (const value of this.currentVotes) {\r\n        let n = value\r\n        all = all + n\r\n      }\r\n      for (const value of this.currentVotes) {\r\n        let n = value\r\n        let angle = n/all*360\r\n        arrAngles.push(angle)\r\n      }\r\n      return this.piePathParams(arrAngles)\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    polar2Cartesian: function (centerX, centerY, radius, angleInDegrees) {\r\n      const angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;\r\n      return {\r\n        x: centerX + (radius * Math.cos(angleInRadians)),\r\n        y: centerY + (radius * Math.sin(angleInRadians))\r\n      };\r\n    },\r\n\r\n    nullVoteAngles: function() {\r\n      this.votesAngles = []\r\n    },\r\n\r\n    arc: function (x, y, radius, startAngle, endAngle) {\r\n      const start = this.polar2Cartesian(x, y, radius, endAngle);\r\n      const end = this.polar2Cartesian(x, y, radius, startAngle);\r\n      const largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\r\n      if (startAngle === 0 && endAngle === 360) {\r\n        return [\r\n        'M', (start.x - radius), '50',\r\n        'a 25,25 0 1,1', 2*radius,',0',\r\n        'a 25,25 0 1,1 ', -2*radius,',0'\r\n      ].join(\" \")\r\n      } else {\r\n      return [\r\n        \"M\", start.x, start.y,\r\n        \"A\", radius, radius, 0, largeArcFlag, 0, end.x, end.y\r\n      ].join(\" \");\r\n      }\r\n    },\r\n\r\n    piePathParams: function (angles) {\r\n      const centerX = 50, centerY = 50;\r\n      const radius = 40;\r\n      let runningAngle = 0;\r\n      const params = [];\r\n      for (let index = 0; index < angles.length; index++) {\r\n        const a = angles[index];\r\n        const startAngle = runningAngle;\r\n        const endAngle = runningAngle + a;\r\n        const param = this.arc(centerX, centerY, radius, startAngle, endAngle);\r\n        // console.log(`Start: ${startAngle} , end: ${endAngle}`);\r\n        runningAngle = endAngle;\r\n        params.push(param)\r\n      }\r\n      return params;\r\n    },\r\n    \r\n    calcVotes: function(index) {\r\n      let capacityVotes = this.currentVotes[1] + this.currentVotes[0] + this.currentVotes[2]\r\n      return Math.round((this.currentVotes[index]/capacityVotes) * 100)\r\n    },\r\n    \r\n    setVote: function(value) {\r\n      this.currentVote = value\r\n    },\r\n\r\n    selectVote: function() {\r\n      if (this.currentVote !== null) {\r\n        window.mp.trigger('parliamentPortal:selectVote', this.currentMeeting.id, this.currentVote)\r\n      }\r\n    },\r\n\r\n    voteToString: function(number) {\r\n      if (number === 2) {\r\n        return this.loc('parliamentPortal_7')\r\n      } else if (number === 1) {\r\n        return this.loc('parliamentPortal_8')\r\n      } else {\r\n        return this.loc('parliamentPortal_9')\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.current-meeting{\r\n  padding: 2.4rem 1rem 2.4rem 5.5rem;\r\n  margin-right: 7rem;\r\n  overflow-y: auto;\r\n  &>div{\r\n    min-width: 30rem;\r\n  }\r\n  &::-webkit-scrollbar{\r\n    background: transparent;\r\n    width: .2rem;\r\n    &-thumb{\r\n      background: rgba(70, 85, 95, 0.2);\r\n      border-radius: .1rem;\r\n    }\r\n  }\r\n  &__prompt, &__title{\r\n    font-family: Merriweather;\r\n    font-weight: bold;\r\n  }\r\n  &__prompt{\r\n    font-size: .8rem;\r\n    line-height: 1rem;\r\n    color: rgba(70, 85, 95, 0.3);\r\n    margin-bottom: .6rem;\r\n    display: flex;\r\n    align-items: center;\r\n    &.negative, &.positive{\r\n      &:after{\r\n        content: '';\r\n        width: 1.2rem;\r\n        height: 1.2rem;\r\n        margin-left: .3rem;\r\n        background-size: contain;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n      }\r\n    }\r\n    &.negative{\r\n      color: #F14B30;\r\n      &:after{\r\n        background-image: url('/img/parliamentPortal/negative.svg');\r\n      }\r\n    }\r\n    &.positive{\r\n      color: #6BC64B;\r\n      &:after{\r\n        background-image: url('/img/parliamentPortal/positive.svg');\r\n      }\r\n    }\r\n  }\r\n  &__title{ \r\n    font-size: 1.7rem;\r\n    line-height: 2.15rem;\r\n    color: #46555F;\r\n    margin-bottom: .6rem;\r\n  }\r\n  &__desc{\r\n    margin-bottom: 1.5rem;\r\n    max-height: 9rem;\r\n    overflow-y: auto;\r\n    font-weight: normal;\r\n    font-size: .8rem;\r\n    line-height: 130%;\r\n    color: #46555F;\r\n  }\r\n  &__vote-block, &__results-block{\r\n    border: 1px solid rgba(70, 85, 95, 0.2);\r\n    border-radius: .3rem;\r\n    width: 100%;\r\n    display: flex;\r\n    margin-bottom: 1.5rem;\r\n    .title{\r\n      font-family: Merriweather;\r\n      font-style: normal;\r\n      font-weight: bold;\r\n      font-size: 1.1rem;\r\n      line-height: 1.4rem;\r\n      color: #000000;\r\n      margin-bottom: 1rem;\r\n    }\r\n  }\r\n  &__vote-block{\r\n    padding: 1.2rem 1.5rem;\r\n    flex-flow: column;\r\n    align-items: flex-start;\r\n    min-height: 10rem;\r\n    .vote-block{\r\n      &__values{\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 1rem;\r\n        justify-content: flex-start;\r\n        .vote-item{\r\n          width: fit-content;\r\n          margin-right: 1.5rem;\r\n          &:last-child{\r\n            margin-right: 0;\r\n          }\r\n        }\r\n      }\r\n      &__status{\r\n        display: flex;\r\n        align-items: center;\r\n        font-weight: 500;\r\n        font-size: .8rem;\r\n        line-height: .95rem;\r\n        letter-spacing: 0.04em;\r\n        margin-top: .5rem;;\r\n        color: #3FA8E3;\r\n        &:before{\r\n          content: '';\r\n          width: 1.3rem;\r\n          height: 1.3rem;\r\n          background-size: contain;\r\n          background-position: center;\r\n          background-repeat: no-repeat;\r\n          background-image: url('/img/parliamentPortal/icon-status.svg');\r\n          margin-right: .5rem;\r\n        }\r\n      }\r\n      &__btn{\r\n        padding: .9rem 1.3rem;\r\n        background: linear-gradient(0deg, #3FA8E3, #3FA8E3), #E00B29;\r\n        border-radius: .3rem;\r\n        font-weight: 500;\r\n        font-size: .8rem;\r\n        color: #FFFFFF;\r\n      }\r\n    }\r\n  }\r\n  &__results-block{\r\n    align-items: center;\r\n    padding: 1rem 1.5rem;\r\n    .results-block{\r\n      &__pie{\r\n        width: 7.5rem;\r\n        height: 7.5rem;\r\n        margin-right: 2rem;\r\n        border-radius: 50%;\r\n        svg{\r\n          width: 7.5rem;\r\n          height: 7.5rem;\r\n          path {\r\n            stroke-width: 15;\r\n            fill: none;\r\n            &.path-0 {\r\n              stroke: #3FA8E3;\r\n            }\r\n            &.path-1 {\r\n              stroke: #E2E5E8;\r\n            }\r\n            &.path-2 {\r\n              stroke: #BAE0F5;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      &__info{\r\n        display: flex;\r\n        flex-flow: column;\r\n        width: 9rem;\r\n        .voted-wrap{\r\n          width: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          position: relative;\r\n          text-align: left;\r\n          padding-left: 1.6rem;\r\n          margin-bottom: .7rem;\r\n          &:last-child{\r\n            margin-bottom: 0;\r\n          }\r\n          &__label{\r\n            width: 1rem;\r\n            height: 1rem;\r\n            position: absolute;\r\n            left: 0;\r\n            background-color: #E2E5E8;\r\n            &.voted-for{\r\n              background-color: #3FA8E3;\r\n            }\r\n            &.voted-against{\r\n              background-color: #BAE0F5;\r\n            }\r\n          }\r\n          &__desc, &__value{\r\n            font-size: .7rem;\r\n            line-height: .8rem;\r\n            text-align: center;\r\n            color: #46555F;\r\n          }\r\n          &__desc{\r\n            font-weight: normal;\r\n          }\r\n          &__value{\r\n            font-weight: 500;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  &__more{\r\n    width: 100%;\r\n    overflow: hidden;\r\n    background: #FFFFFF;\r\n    border-radius: .3rem;\r\n    &>div{\r\n      width: 100%;\r\n    }\r\n    .drop-header{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 1rem 1.1rem;\r\n      z-index: 2;\r\n      background-color: #fff;\r\n      &.collapsed{\r\n        .drop-header__icon{\r\n          transform: rotate(-180deg);\r\n          transition: .3s;\r\n        }\r\n      }\r\n      &__value{\r\n        font-family: Merriweather;\r\n        font-style: normal;\r\n        font-weight: bold;\r\n        font-size: .8rem;\r\n        line-height: 1rem;\r\n        color: #000000;\r\n      }\r\n      &__icon{\r\n        width: 1.2rem;\r\n        height: 1.2rem;\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n        background-image: url('/img/parliamentPortal/arr.svg');\r\n        transition: .3s;\r\n        transform-origin: 50% 50%;\r\n      }\r\n    }\r\n    .drop-body{\r\n      z-index: 1;\r\n      &__head{\r\n        background: rgba(70, 85, 95, 0.03);\r\n        border-top: 1px solid rgba(70, 85, 95, 0.1);\r\n        border-bottom: 1px solid rgba(70, 85, 95, 0.1);\r\n        padding: .75rem 5rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .block-value{\r\n          display: flex;\r\n          flex-flow: column;\r\n          align-items: center;\r\n          text-align: center;\r\n          color: #3FA8E3;\r\n          font-weight: 500;\r\n          &__value{\r\n            font-size: 1.5rem;\r\n            line-height: 1.75rem;\r\n          }\r\n          &__title{\r\n            font-size: .8rem;\r\n            line-height: .95rem;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            width: 1px;\r\n          }\r\n        }\r\n      }\r\n      &__parties{\r\n        &:last-child{\r\n          .parti-list__item{\r\n            &:last-child{\r\n              border-bottom: 0;\r\n            }\r\n          }\r\n        }\r\n        .parti-name, .parti-list .parti-list__item{\r\n          padding-left: 1.15rem;\r\n          padding-right: 1.15rem;\r\n        }\r\n        .parti-name{\r\n          padding-top: 1rem;\r\n          padding-bottom: .75rem;\r\n        }\r\n        .parti-list{\r\n          &__item{\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            padding-top: .6rem;\r\n            padding-bottom: .6rem;\r\n            border-bottom: 1px solid rgba(70, 85, 95, 0.08);\r\n            &:first-child{\r\n              border-top: 1px solid rgba(70, 85, 95, 0.08);\r\n            }\r\n            &:nth-child(2n){\r\n              background-color: #fff;\r\n            }\r\n            &:nth-child(2n+1){\r\n              background-color: rgba(123, 135, 150, 0.05);\r\n            }\r\n            .nickname{\r\n              font-weight: normal;\r\n              font-size: .8rem;\r\n              line-height: .95rem;\r\n              color: #46555F;\r\n            }\r\n            .vote{\r\n              font-weight: 500;\r\n              font-size: .8rem;\r\n              line-height: .95rem;\r\n              text-align: right;\r\n              color: #46555F;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .dropdown-enter-active, .dropdown-leave-active {\r\n    transition: opacity .2s;\r\n  }\r\n  .dropdown-enter, .dropdown-leave-to /* .dropdown-leave-active below version 2.1.8 */ {\r\n    opacity: 0;\r\n  }\r\n}\r\n</style>\r\n"]}]}