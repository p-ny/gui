{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\News\\MainPage\\EditWindow\\EditAd\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\News\\MainPage\\EditWindow\\EditAd\\index.vue","mtime":1625151238177},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0VkaXRBZCcsDQoNCiAgZGF0YTogZnVuY3Rpb24oKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGFkSW5mbzoge30sDQogICAgICBpc0FkZGluZ0ltYWdlOiBudWxsLA0KICAgICAgb3B0aW9uczogew0KICAgICAgICB0aW1lem9uZTogJ1VUQycsDQogICAgICAgIGhvdXI6ICdudW1lcmljJywNCiAgICAgICAgbWludXRlOiAnbnVtZXJpYycNCiAgICAgIH0NCiAgICB9DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKCdsb2NhbGl6YXRpb24nLCBbJ2xvYyddKSwNCiAgICAuLi5tYXBTdGF0ZSgnbmV3cycsIFsnY3VycmVudEFkJywgJ3ByaWNlUGVyU3ltYm9sJywgJ3ByaWNlUHJlUHJlbWl1bSddKSwNCiAgICBpc1ByZW1pdW1BZDogZnVuY3Rpb24oKSB7DQogICAgICBpZiAodGhpcy5hZEluZm8uUHJpbWVBZHZlcnQpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMucHJpY2VQcmVQcmVtaXVtDQogICAgICB9DQogICAgICByZXR1cm4gMA0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwTXV0YXRpb25zKCduZXdzJywgWydzZXRNb2RhbCddKSwNCiAgICBnZXRUaW1lKHNlY29uZHMpIHsNCiAgICAgIHJldHVybiBuZXcgRGF0ZShzZWNvbmRzICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoInJ1IiwgdGhpcy5vcHRpb25zKTsgDQogICAgfSwNCiAgICBkZWxldGVJbWFnZTogZnVuY3Rpb24oKSB7DQogICAgICB0aGlzLmFkSW5mby5QaWN0dXJlID0gbnVsbDsNCiAgICAgIC8vIHdpbmRvdy5tcC50cmlnZ2VyKCduZXdzOmRlbGV0ZUltYWdlJywgdGhpcy5hZEluZm8pDQogICAgfSwNCiAgICB6b29tSW1hZ2U6IGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5zZXRNb2RhbCh7c2hvdzogdHJ1ZSwgY3VycmVudE1vZGFsOiAnSW1hZ2VNb2RhbCcsIGRhdGE6IHRoaXMuYWRJbmZvLlBpY3R1cmV9KQ0KICAgIH0sDQogICAgYXBwbHlBZDogZnVuY3Rpb24oKSB7DQogICAgICB3aW5kb3cubXAudHJpZ2dlclNlcnZlcignbHNuZXdzOjpjb21wbGVhdGVBZHZlcnQnLCB0aGlzLmFkSW5mby5JZCwgdGhpcy5hZEluZm8uVGl0bGUsIHRoaXMuYWRJbmZvLlBpY3R1cmUpDQogICAgfSwNCiAgICByZWplY3RBZDogZnVuY3Rpb24oKSB7DQogICAgICB3aW5kb3cubXAudHJpZ2dlclNlcnZlcignbHNuZXdzOjpjYW5jZWxlZEFkdmVydCcsIHRoaXMuYWRJbmZvLklkKQ0KICAgIH0sDQogICAgLy8gYWRkTmV3SW1hZ2U6IGZ1bmN0aW9uKCkgew0KICAgIC8vICAgd2luZG93Lm1wLnRyaWdnZXIoJ25ld3M6YWRkTmV3SW1hZ2UnLCB0aGlzLmlzQWRkaW5nSW1hZ2UpDQogICAgLy8gICB0aGlzLnNldENsYXJpZmljYXRpb24NCiAgICAvLyB9DQogIH0sDQoNCiAgd2F0Y2g6IHsNCiAgICBjdXJyZW50QWQ6IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgIHRoaXMuYWRJbmZvID0gey4uLnZhbH0NCiAgICB9DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmFkSW5mbyA9IHsuLi50aGlzLmN1cnJlbnRBZH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/News/MainPage/EditWindow/EditAd","sourcesContent":["<template>\r\n  <div class=\"edit-ad\">\r\n    <div class=\"edit-ad-info\">\r\n      <div class=\"edit-ad-info__row\">\r\n        <div>{{adInfo.Sender}}</div>\r\n        <div>{{getTime(adInfo.DateCreate)}}</div>\r\n      </div>\r\n      <div class=\"edit-ad-info__row\">\r\n        <div>#{{adInfo.SenderUUID}}</div>\r\n        <div>{{adInfo.Simnum}}</div>\r\n      </div>\r\n    </div>\r\n    <div \r\n      v-if=\"!adInfo.Picture && adInfo.PrimeAdvert && adInfo.Status === 'Created'\"\r\n      class=\"edit-ad-img edit-ad-img--empty\"\r\n      :style=\"{backgroundImage: `url(${adInfo.Picture})`}\"\r\n    >\r\n    </div>\r\n    <div \r\n      class=\"edit-ad-img\"\r\n      :style=\"{backgroundImage: `url(${adInfo.Picture})`}\"\r\n      v-else-if=\"isPremiumAd\"\r\n    >\r\n      <div \r\n        class=\"edit-ad-img__btn edit-ad-img__btn--zoom\"\r\n        @click=\"zoomImage\"\r\n        v-if=\"adInfo.Status === 'Created'\"\r\n      ></div>\r\n      <div \r\n        class=\"edit-ad-img__btn edit-ad-img__btn--delete\"\r\n        @click=\"deleteImage\"\r\n        v-if=\"adInfo.Status === 'Created'\"\r\n      ></div>\r\n    </div>\r\n    <div class=\"edit-ad-edit\">\r\n      <div class=\"edit-ad-edit-title\">{{loc('news:edit:1')}}</div>\r\n      <textarea \r\n        :class=\"[{edited: adInfo.Status !== 'Created'}, 'edit-ad-edit-text']\"\r\n        v-model=\"adInfo.Title\"\r\n        :readonly=\"adInfo.Status !== 'Created'\"\r\n      ></textarea>\r\n    </div>\r\n    <div \r\n      class=\"edit-ad-affirmation\"\r\n      v-if=\"adInfo.Status === 'Created'\"\r\n    >\r\n      <div class=\"edit-ad-affirmation__title\">{{loc('news:edit:2')}} <span> ${{(pricePerSymbol * adInfo.Title.length) + isPremiumAd}}</span></div>\r\n      <div class=\"edit-ad-affirmation__btns\">\r\n        <div \r\n          class=\"edit-ad-affirmation__btns-btn btn edit-ad-affirmation__btns-btn--apply\"\r\n          @click=\"applyAd\"\r\n        >{{loc('news:edit:3')}}</div>\r\n        <div \r\n          class=\"edit-ad-affirmation__btns-btn btn\"\r\n          @click=\"rejectAd\"\r\n        >{{loc('news:edit:4')}}</div>\r\n      </div>\r\n    </div>\r\n    <div \r\n      class=\"edit-ad-affirmation\"\r\n      v-if=\"adInfo.Status === 'Compleate'\"\r\n    >\r\n      <div class=\"edit-ad-affirmation__title\">{{loc('news:edit:5')}} <span> {{adInfo.Editor}}</span></div>\r\n      <div class=\"edit-ad-affirmation__evaluate\">\r\n        <div \r\n          class=\"edit-ad-affirmation__evaluate-star\"\r\n          v-for=\"(item, index) in 5\"\r\n          :key=\"index\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState, mapGetters } from 'vuex'\r\nexport default {\r\n  name: 'EditAd',\r\n\r\n  data: function() {\r\n    return {\r\n      adInfo: {},\r\n      isAddingImage: null,\r\n      options: {\r\n        timezone: 'UTC',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters('localization', ['loc']),\r\n    ...mapState('news', ['currentAd', 'pricePerSymbol', 'pricePrePremium']),\r\n    isPremiumAd: function() {\r\n      if (this.adInfo.PrimeAdvert) {\r\n        return this.pricePrePremium\r\n      }\r\n      return 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations('news', ['setModal']),\r\n    getTime(seconds) {\r\n      return new Date(seconds * 1000).toLocaleString(\"ru\", this.options); \r\n    },\r\n    deleteImage: function() {\r\n      this.adInfo.Picture = null;\r\n      // window.mp.trigger('news:deleteImage', this.adInfo)\r\n    },\r\n    zoomImage: function() {\r\n      this.setModal({show: true, currentModal: 'ImageModal', data: this.adInfo.Picture})\r\n    },\r\n    applyAd: function() {\r\n      window.mp.triggerServer('lsnews::compleateAdvert', this.adInfo.Id, this.adInfo.Title, this.adInfo.Picture)\r\n    },\r\n    rejectAd: function() {\r\n      window.mp.triggerServer('lsnews::canceledAdvert', this.adInfo.Id)\r\n    },\r\n    // addNewImage: function() {\r\n    //   window.mp.trigger('news:addNewImage', this.isAddingImage)\r\n    //   this.setClarification\r\n    // }\r\n  },\r\n\r\n  watch: {\r\n    currentAd: function (val) {\r\n      this.adInfo = {...val}\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.adInfo = {...this.currentAd}\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.edit-ad{\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  &-info, &-img, &-edit{\r\n    width: calc(100% - (2rem));\r\n  }\r\n  &-info{\r\n    font-weight: 600;\r\n    font-size: .9rem;\r\n    line-height: 1.05rem;\r\n    color: #212121;\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-bottom: .85rem;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    margin-bottom: 1rem;\r\n    &__row{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: .5rem;\r\n      &:last-child{\r\n        margin-bottom: 0;\r\n      }\r\n    }\r\n  }\r\n  &-img{\r\n    height: 7.6rem;\r\n    background-size: cover;\r\n    background-position: center;\r\n    margin-bottom: 1rem;\r\n    border-radius: .3rem;\r\n    overflow: hidden;\r\n    position: relative;\r\n    &--empty{\r\n      border: 1px dashed #D3D3D3;\r\n      padding: 0 1rem;\r\n      display: flex;\r\n      align-items: flex-start;\r\n      justify-content: center;\r\n      flex-direction: column;\r\n    }\r\n    &__btn{\r\n      position: absolute;\r\n      width: 1.2rem;\r\n      height: 1.2rem;\r\n      background-size: contain;\r\n      background-position: center;\r\n      background-repeat: no-repeat;\r\n      opacity: .8;\r\n      transition: .2s;\r\n      &:hover{\r\n        opacity: 1;\r\n      }\r\n      &--zoom{\r\n        top: .5rem;\r\n        right: .5rem;\r\n        background-image: url('/img/news/icon-zoom.svg');\r\n      }\r\n      &--delete{\r\n        bottom: .5rem;\r\n        left: .5rem;\r\n        background-image: url('/img/news/icon-delete.svg');\r\n      }\r\n    }\r\n    &-desc{\r\n      font-weight: normal;\r\n      font-size: .8rem;\r\n      line-height: .9rem;\r\n      color: rgba(70, 85, 95, 0.7);\r\n      margin-bottom: .65rem;\r\n    }\r\n    &-input{\r\n      width: 100%;\r\n      padding: 0 .7rem;\r\n      height: 2.1rem;\r\n      border: 1px solid rgba(126, 136, 143, 0.4);\r\n      box-sizing: border-box;\r\n      border-radius: .1rem;\r\n      font-size: 14px;\r\n      color: rgba(70, 85, 95, 0.7);\r\n      &::placeholder{\r\n        color: rgba(70, 85, 95, 0.4);\r\n      }\r\n    }\r\n  }\r\n  &-edit{\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: #000000;\r\n    &-title{\r\n      font-weight: bold;\r\n      font-size: 1.2rem;\r\n      line-height: 1.35rem;\r\n      margin-bottom: .5rem;\r\n    }\r\n    &-text{\r\n      width: 100%;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      box-sizing: border-box;\r\n      border-radius: .1rem;\r\n      height: 17.5rem;\r\n      padding: .6rem .8rem;\r\n      font-weight: 500;\r\n      font-size: .9rem;\r\n      line-height: 1.1rem;\r\n      resize: none;\r\n      outline: none;\r\n      &.edited{\r\n        border: 0;\r\n        padding: 0;\r\n      }\r\n    }\r\n  }\r\n  &-affirmation{\r\n    width: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    height: 7.7rem;\r\n    background: #FFFFFF;\r\n    box-shadow: 0 -1px .5rem rgba(0, 0, 0, 0.08);\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 1rem;\r\n    &__title{\r\n      font-weight: bold;\r\n      font-size: .9rem;\r\n      line-height: 1.05rem;\r\n      color: #000000;\r\n      margin-bottom: 1.15rem;\r\n      span{\r\n        font-weight: 500;\r\n      }\r\n    }\r\n    &__btns{\r\n      display: flex;\r\n      align-items: center;\r\n      &-btn{\r\n        margin-right: 1rem;\r\n        width: 100%;\r\n        height: 2.5rem;\r\n        font-weight: 600;\r\n        font-size: .8rem;\r\n        line-height: .9rem;\r\n        text-align: center;\r\n        color: #E30000;\r\n        border: 1px solid #E30000;\r\n        box-sizing: border-box;\r\n        border-radius: .3rem;\r\n        transition: .3s;\r\n        &:hover{\r\n          filter: drop-shadow(0 0 .15rem #D92C2C);\r\n        }\r\n        &:last-child{\r\n          margin-right: 0;\r\n        }\r\n        &--apply{\r\n          background: linear-gradient(0deg, #E30000, #E30000);\r\n          color: #fff;\r\n          border: none;\r\n          &:hover{\r\n            box-shadow: 0 0 .6rem #D92C2C;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    &__evaluate{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding-top: 1rem;\r\n      width: calc(100% + 2rem);\r\n      margin-left: -1rem;\r\n      border-top: 1px solid rgba(70, 85, 95, .2);\r\n      &:hover{\r\n        .edit-ad-affirmation__evaluate-star{\r\n          background-image: url('/img/news/star-active.svg');\r\n        }\r\n      }\r\n      &-star{\r\n        width: calc((2rem) + (1.1rem));\r\n        height: 2rem;\r\n        background-size: contain;\r\n        background-position: left center;\r\n        background-repeat: no-repeat;\r\n        background-image: url('/img/news/star.svg');\r\n        padding-right: 1.1rem;\r\n        &:last-child{\r\n          padding-right: 0;\r\n          width: 2rem;\r\n        }\r\n        &:hover ~ .edit-ad-affirmation__evaluate-star{\r\n          background-image: url('/img/news/star.svg');\r\n        }\r\n        &.active{\r\n          background-image: url('/img/news/star-active.svg');\r\n        }\r\n      }\r\n      // &-star{\r\n      //   width: 2rem;\r\n      //   height: 2rem;\r\n      //   border: 1px solid red;\r\n      // }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}