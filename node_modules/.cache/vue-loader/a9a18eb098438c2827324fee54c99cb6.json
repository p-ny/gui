{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\Poker\\components\\CurrentPlayerMenuRange.vue?vue&type=style&index=0&id=d9582f46&lang=scss&scoped=true&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\Poker\\components\\CurrentPlayerMenuRange.vue","mtime":1625482892261},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1685190019100},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1685190024220},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\postcss-loader\\src\\index.js","mtime":1685190021333},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1685190017369},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnNsaWRlciB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgd2lkdGg6IDEwcmVtOw0KICBtaW4td2lkdGg6IDEwcmVtOw0KICAmLmRpc2FibGVkIHsNCiAgICBvcGFjaXR5OiAwOw0KICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KICB9DQogICZfX3dyYXAgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgbGVmdDogMDsNCiAgICBib3R0b206IDA7DQogIH0NCiAgJl9fYmFyIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IC4xcmVtOw0KICAgIHBhZGRpbmc6IC4xcmVtOw0KICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KTsNCiAgICAmLWJhY2t7DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICBsZWZ0OiAwOw0KICAgICAgYm90dG9tOiAwOw0KICAgICAgYmFja2dyb3VuZDogI0Q2RkYwMDsNCiAgICB9DQogIH0NCiAgJl9faGFuZGxlIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiA1MCU7DQogICAgbGVmdDogMDsNCiAgICB3aWR0aDogLjhyZW07DQogICAgbWluLXdpZHRoOiAuOHJlbTsNCiAgICBoZWlnaHQ6IC44cmVtOw0KICAgIGJhY2tncm91bmQ6ICNENkZGMDA7DQogICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KICB9DQogICZfX2J0biB7DQogICAgb3V0bGluZTogbm9uZTsNCiAgICBib3JkZXI6IDA7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgIHdpZHRoOiAxLjJyZW07DQogICAgaGVpZ2h0OiAxLjJyZW07DQogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOw0KICAgIGJvcmRlci1yYWRpdXM6IC4xcmVtOw0KICAgIGNvbG9yOiAjZmZmOw0KICAgIGZvbnQtc2l6ZTogLjhyZW07DQogICAgJjpkaXNhYmxlZCB7DQogICAgICBpbWcgew0KICAgICAgICBmaWx0ZXI6IGdyYXlzY2FsZSgxKSBvcGFjaXR5KC41KTsNCiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDsNCiAgICAgIH0NCiAgICB9DQogICAgc3ZnIHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgaGVpZ2h0OiAxcmVtOw0KICAgIH0NCiAgICBpbWcgew0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgfQ0KICB9DQogICZfX2J0bi1wcmV2IHsNCiAgICBsZWZ0OiAtLjhyZW0NCiAgfQ0KICAmX19idG4tbmV4dCB7DQogICAgcmlnaHQ6IC0uOHJlbTsNCiAgfQ0KfQ0KLndpdGgtYnV0dG9ucyB7DQogIHBhZGRpbmc6IDAgMS4yNXJlbTsNCiAgaGVpZ2h0OiAxMDAlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQp9DQo="},{"version":3,"sources":["CurrentPlayerMenuRange.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CurrentPlayerMenuRange.vue","sourceRoot":"src/views/Poker/components","sourcesContent":["<template>\r\n    <div\r\n      class=\"slider with-buttons\"\r\n      @mouseup=\"captureOff\"\r\n      @mouseleave=\"captureOff\"\r\n      :class=\"{ disabled: !currentPlayerMove }\"\r\n    >\r\n      <div\r\n        class=\"slider__wrap\"\r\n        id=\"sliderWrap\"\r\n        @click=\"mouseClick($event)\"\r\n        @mouseup=\"captureOff\"\r\n        @mousedown=\"captureOn\"\r\n        @mousemove=\"move\"\r\n      >\r\n        <div class=\"slider__bar\">\r\n          <div class=\"slider__progress\"></div>\r\n        </div>\r\n        <div \r\n          class=\"slider__bar-back\"\r\n          :style=\"'width:' + posHandle + 'px'\"\r\n        ></div>\r\n        <div\r\n          class=\"slider__handle\"\r\n          :style=\"'left:' + posHandle + 'px'\"\r\n          @mouseup=\"captureOff\"\r\n        ></div>\r\n        \r\n      </div>\r\n      <template>\r\n        <button\r\n          :disabled=\"!currentPlayerMove\"\r\n          class=\"slider__btn slider__btn-prev\"\r\n          @click=\"btnPrev\"\r\n        >-</button>\r\n        <button\r\n          :disabled=\"!currentPlayerMove\"\r\n          class=\"slider__btn slider__btn-next\"\r\n          @click=\"btnNext\"\r\n        >+</button>\r\n      </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'CurrentPlayerMenuRange',\r\n\r\n  data: function () {\r\n    return {\r\n      captureToggle: false,\r\n      posLastCursor: 0,\r\n      posCurCursor:0\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('poker', [\r\n      'currentPlayerMoveValues',\r\n      'currentPlayer',\r\n      'rangeSlider',\r\n      'currentPlayerMove'\r\n    ]),\r\n\r\n    min: function () {\r\n      return this.currentPlayerMoveValues.minValue\r\n    },\r\n\r\n    max: function () {\r\n      return this.currentPlayer.chipsCount\r\n    },\r\n\r\n    step: function () {\r\n      return this.currentPlayerMoveValues.stepValue\r\n    },\r\n\r\n    value: function () {\r\n      return this.currentPlayerMoveValues.minValue\r\n    },\r\n\r\n    listValue: function () {\r\n      return this.rangeSlider.listValue\r\n    },\r\n\r\n    posHandle: {\r\n      get: function () {\r\n        return this.rangeSlider.posHandle\r\n      },\r\n      set: function (value) {\r\n        this.setRangeSliderPosHandle(value)\r\n      }\r\n    },\r\n\r\n    currentIndex: {\r\n      get: function () {\r\n        return this.rangeSlider.currentIndex\r\n      },\r\n      set: function (value) {\r\n        this.setRangeSliderCurrentIndex(value)\r\n      }\r\n    },\r\n    \r\n    lastValue: {\r\n      get: function () {\r\n        return this.rangeSlider.lastValue\r\n      },\r\n      set: function (value) {\r\n        this.setRangeSliderLastValue(value)\r\n      }\r\n    },\r\n    \r\n    coodrLeftWrap: function () {\r\n      return this.rangeSlider.coodrLeftWrap\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations('poker', [\r\n      'setCurrentPlayerRaiseInput',\r\n      'initRangeSlider',\r\n      'setRangeSliderCurrentIndex',\r\n      'setRangeSliderPosHandle',\r\n      'setRangeSliderLastValue'\r\n    ]),\r\n\r\n    selected: function (dir){\r\n      this.listValue.forEach((item, index) => {\r\n        if (item.period_start < this.posCurCursor && this.posCurCursor <= item.period_end){\r\n          if (this.lastValue !== item.value) {\r\n            this.setRangeSliderCurrentIndex(index)\r\n            switch(dir) {\r\n              case 'plus': {\r\n                this.setRangeSliderPosHandle(item.period_end)\r\n              }\r\n              break\r\n              case 'minus': {\r\n                this.setRangeSliderPosHandle(item.period_start)\r\n              }\r\n              break\r\n              default: {\r\n                if (this.posHandle > this.posLastCursor) {\r\n                  this.setRangeSliderPosHandle(item.period_start)\r\n                } else {\r\n                  this.setRangeSliderPosHandle(item.period_end)\r\n                }\r\n              }\r\n              break\r\n            }\r\n            this.setCurrentPlayerRaiseInput(item.value)\r\n            this.lastValue = item.value\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    mouseClick: function (e) {\r\n      this.posCurCursor = e.clientX - this.coodrLeftWrap\r\n      \r\n      this.listValue.forEach((item) => {\r\n        if (item.period_start < this.posCurCursor && this.posCurCursor <= item.period_end) {\r\n          if (this.lastValue !== item.value) {\r\n            this.selected()\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    move: function (e) {\r\n      if (this.captureToggle) {\r\n        this.posCurCursor = e.clientX - this.coodrLeftWrap\r\n        if (this.posLastCursor < this.posCurCursor) {\r\n          this.selected('plus')\r\n        }\r\n        if (this.posLastCursor > this.posCurCursor) {\r\n          this.selected('minus')\r\n        }\r\n        this.posLastCursor = e.clientX - this.coodrLeftWrap\r\n      }\r\n    },\r\n\r\n    captureOn: function (e) {\r\n      this.captureToggle = true\r\n      this.posLastCursor = e.clientX - this.coodrLeftWrap\r\n    },\r\n\r\n    captureOff: function () {\r\n      this.captureToggle = false\r\n    },\r\n\r\n    btnPrev: function () {\r\n      this.currentIndex -= 1\r\n\r\n      if (this.currentIndex < 0) {\r\n        this.currentIndex = 0\r\n      }\r\n\r\n      this.setRangeSliderPosHandle(this.listValue[this.currentIndex].period_start)\r\n      this.setCurrentPlayerRaiseInput(this.listValue[this.currentIndex].value)\r\n    },\r\n\r\n    btnNext: function () {\r\n      this.currentIndex += 1\r\n\r\n      if (this.currentIndex > this.listValue.length - 1) {\r\n        this.currentIndex = this.listValue.length - 1\r\n      }\r\n\r\n      this.setRangeSliderPosHandle(this.listValue[this.currentIndex].period_end)\r\n      this.setCurrentPlayerRaiseInput(this.listValue[this.currentIndex].value)\r\n    }\r\n  },\r\n\r\n  mounted: function () {\r\n    this.initRangeSlider()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.slider {\r\n  position: relative;\r\n  width: 10rem;\r\n  min-width: 10rem;\r\n  &.disabled {\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  }\r\n  &__wrap {\r\n    position: relative;\r\n    width: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n  }\r\n  &__bar {\r\n    width: 100%;\r\n    height: .1rem;\r\n    padding: .1rem;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    &-back{\r\n      height: 100%;\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n      background: #D6FF00;\r\n    }\r\n  }\r\n  &__handle {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    width: .8rem;\r\n    min-width: .8rem;\r\n    height: .8rem;\r\n    background: #D6FF00;\r\n    border-radius: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  &__btn {\r\n    outline: none;\r\n    border: 0;\r\n    cursor: pointer;\r\n    background-color: transparent;\r\n    width: 1.2rem;\r\n    height: 1.2rem;\r\n    background: rgba(255, 255, 255, 0.2);\r\n    border-radius: .1rem;\r\n    color: #fff;\r\n    font-size: .8rem;\r\n    &:disabled {\r\n      img {\r\n        filter: grayscale(1) opacity(.5);\r\n        cursor: not-allowed;\r\n      }\r\n    }\r\n    svg {\r\n      width: 100%;\r\n      height: 1rem;\r\n    }\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n  &__btn-prev {\r\n    left: -.8rem\r\n  }\r\n  &__btn-next {\r\n    right: -.8rem;\r\n  }\r\n}\r\n.with-buttons {\r\n  padding: 0 1.25rem;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n"]}]}