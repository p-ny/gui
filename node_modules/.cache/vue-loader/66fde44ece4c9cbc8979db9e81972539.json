{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\Minigames\\Lockpick\\index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\Minigames\\Lockpick\\index.vue","mtime":1634743351234},{"path":"C:\\gta go\\Gui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1685190019100},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1685190024220},{"path":"C:\\gta go\\Gui\\node_modules\\postcss-loader\\src\\index.js","mtime":1685190021333},{"path":"C:\\gta go\\Gui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1685190017369},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1nbG9ja3BpY2t7CiAgICB3aWR0aDogMjVyZW07CiAgICBoZWlnaHQ6IDI1cmVtOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICZfcmluZ3sKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAtd2Via2l0LXVzZXItZHJhZzogbm9uZTsKICAgICAgICAmOmhvdmVyewogICAgICAgICAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMS4yKTsKICAgICAgICB9CiAgICAgICAgJjpudGgtY2hpbGQoMSl7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgfQogICAgICAgICY6bnRoLWNoaWxkKDIpewogICAgICAgICAgICB3aWR0aDogNzAlOwogICAgICAgICAgICBoZWlnaHQ6IDcwJTsKICAgICAgICB9CiAgICAgICAgJjpudGgtY2hpbGQoMyl7CiAgICAgICAgICAgIHdpZHRoOiA0OCU7CiAgICAgICAgICAgIGhlaWdodDogNDglOwogICAgICAgIH0KICAgICAgICAmOm50aC1jaGlsZCg0KXsKICAgICAgICAgICAgLXdlYmtpdC11c2VyLWRyYWc6IG5vbmU7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgd2lkdGg6IDMyJTsKICAgICAgICAgICAgaGVpZ2h0OiAzMiU7CiAgICAgICAgICAgIC8vcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgICAgICAgfQogICAgICAgICY6bnRoLWNoaWxkKDUpewogICAgICAgICAgICB3aWR0aDogMTE4JTsKICAgICAgICAgICAgaGVpZ2h0OiAxMTglOwogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICB9CiAgICB9CiAgICAmX251bWJlcnsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgIC8vYmFja2dyb3VuZDogcmdiYSgjZmZmLCAuNSk7CiAgICAgICAgLy9ib3JkZXI6IC4xcmVtIHNvbGlkIHJnYmEoI2ZmZiwgLjUpOwogICAgICAgIGJvcmRlci1yYWRpdXM6IC4ycmVtOwogICAgICAgIHRvcDogLTEuMmVtCiAgICB9CiAgICAmX2V4aXR7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIHRvcDogLTEuNXJlbTsKICAgICAgICByaWdodDogLTEuNXJlbTsKICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICBmb250LXNpemU6IDEuNXJlbTsKICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgICAgIGxldHRlci1zcGFjaW5nOiAuMDVyZW07CiAgICAgICAgJjpob3ZlcnsKICAgICAgICAgICAgY29sb3I6ICNjY2M7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Minigames/Lockpick","sourcesContent":["<template>\r\n    <div class=\"mglockpick\">\r\n        <img src=\"/img/miniGames/lockpick/ring.png\" alt=\"ring\" class=\"mglockpick_ring\" \r\n            v-for=\"(ring, key, index) in rings\" :key=\"index\" \r\n            :ringid=\"key\"\r\n            :style=\"{'transform': `rotateZ(${ring.angle + ring.offset}deg)`}\"\r\n        >\r\n        <img src=\"/img/miniGames/lockpick/ring_centr.png\" alt=\"ring_centr\" class=\"mglockpick_ring\" @click=\"check\">\r\n        <img src=\"/img/miniGames/lockpick/ring_border.png\" alt=\"ring_centr\" class=\"mglockpick_ring\">\r\n        <div v-if=\"selected !== -1\" class=\"mglockpick_number\">{{rings[selected].number}}</div>\r\n        <div class=\"mglockpick_exit\" @click=\"exit\">exit</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n    data() {\r\n        return {\r\n            selected: -1,\r\n            step: 1,\r\n            mouse: {\r\n                pressed: false,\r\n                x: 0,\r\n                y: 0,\r\n                el: null\r\n            },\r\n            rings:{\r\n                1: {angle: 0, offset: 0, number: 0, target: 0},                    \r\n                2: {angle: 0, offset: 0, number: 0, target: 25},                    \r\n                3: {angle: 0, offset: 0, number: 0, target: 35},\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        check(){\r\n            if(this.spam > Date.now()) return;\r\n            this.spam = Date.now() + 1000;\r\n            if(this.rings[1].number === this.rings[1].target && this.rings[2].number === this.rings[2].target && this.rings[3].number === this.rings[3].target){\r\n                window.mp.triggerServer(this.callback);\r\n                this.$store.commit(\"notifyList/notify\", { type: 2, position: 0, message: \"mglockpick:result:succ\", time: 1000 });\r\n                this.exit();\r\n            } \r\n            else\r\n                this.$store.commit(\"notifyList/notify\", { type: 1, position: 0, message: \"mglockpick:result:bad\", time: 1000 });\r\n        },\r\n        exit(){\r\n            this.$store.commit(\"gameLockpick/setCallback\", \"noCallback\");\r\n            window.mp.trigger(\"mg:lockpick:quit\");\r\n        },\r\n        onMouseDown(e){\r\n            this.mouse.pressed = true;\r\n            this.mouse.x = e.clientX;\r\n            this.mouse.y = e.clientY;\r\n            this.selected = document.elementFromPoint(this.mouse.x, this.mouse.y).getAttribute(\"ringid\") || -1;\r\n            //console.log(`x: ${e.clientX} y: ${e.clientY} s: ${this.selected}`)\r\n        },\r\n        onMouseUp(){\r\n            if(!this.rings[this.selected]) return;\r\n            this.mouse.pressed = false;\r\n            this.rings[this.selected].angle += this.rings[this.selected].offset;\r\n            this.rings[this.selected].angle %= 360;\r\n            this.rings[this.selected].offset = 0;\r\n            this.selected = -1;\r\n        },\r\n        onMouseMove(e){\r\n            if(this.mouse.pressed && this.selected !== -1){\r\n                const newVal = Math.round((e.clientX - this.mouse.x) * 3.6);\r\n                if(newVal !== this.rings[this.selected].offset){\r\n                    const summ = newVal + this.rings[this.selected].angle;\r\n                    if(summ > 359)\r\n                        this.rings[this.selected].offset = newVal - 360;\r\n                    else if(summ < 0)\r\n                        this.rings[this.selected].offset = newVal + 360\r\n                    else\r\n                        this.rings[this.selected].offset = newVal;\r\n                    \r\n                    this.checkNumber(this.rings[this.selected]);\r\n                }\r\n            }\r\n        },\r\n        checkNumber(ring){\r\n            var newNumber = 100 - Math.round((ring.offset + ring.angle) % 360 / 3.6);\r\n            if(newNumber > 99) newNumber -= 100;\r\n            if(newNumber !== ring.number){\r\n                if(newNumber === ring.target)                    \r\n                    this.$store.commit(\"sounds/play\", { name: `roulette_click`, volume: 0.35}); \r\n                else                    \r\n                    this.$store.commit(\"sounds/play\", { name: `tick`, volume: 0.25}); \r\n                ring.number = newNumber;\r\n            }\r\n        },\r\n        getRandomResults(){\r\n            for (const key in this.rings) {\r\n                const ring = this.rings[key];\r\n                ring.number = 0;\r\n                ring.offset = 0;\r\n                ring.angle = 0;\r\n                ring.target = Math.floor(Math.random() * 99);\r\n            }\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapState(\"gameLockpick\", [\"callback\"])\r\n    },\r\n    mounted() {\r\n        this.getRandomResults();\r\n        addEventListener(\"mousedown\", this.onMouseDown);\r\n        addEventListener(\"mouseup\", this.onMouseUp);\r\n        addEventListener(\"mousemove\", this.onMouseMove);\r\n    },\r\n    beforeDestroy(){\r\n        removeEventListener(\"mousedown\", this.onMouseDown);\r\n        removeEventListener(\"mouseup\", this.onMouseUp);\r\n        removeEventListener(\"mousemove\", this.onMouseMove);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .mglockpick{\r\n        width: 25rem;\r\n        height: 25rem;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        &_ring{\r\n            position: absolute;\r\n            border-radius: 50%;\r\n            cursor: pointer;\r\n            -webkit-user-drag: none;\r\n            &:hover{\r\n                filter: brightness(1.2);\r\n            }\r\n            &:nth-child(1){\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n            &:nth-child(2){\r\n                width: 70%;\r\n                height: 70%;\r\n            }\r\n            &:nth-child(3){\r\n                width: 48%;\r\n                height: 48%;\r\n            }\r\n            &:nth-child(4){\r\n                -webkit-user-drag: none;\r\n                position: absolute;\r\n                width: 32%;\r\n                height: 32%;\r\n                //pointer-events: none;\r\n            }\r\n            &:nth-child(5){\r\n                width: 118%;\r\n                height: 118%;\r\n                pointer-events: none;\r\n            }\r\n        }\r\n        &_number{\r\n            position: absolute;\r\n            font-size: 1rem;\r\n            //background: rgba(#fff, .5);\r\n            //border: .1rem solid rgba(#fff, .5);\r\n            border-radius: .2rem;\r\n            top: -1.2em\r\n        }\r\n        &_exit{\r\n            position: absolute;\r\n            top: -1.5rem;\r\n            right: -1.5rem;\r\n            color: #fff;\r\n            font-size: 1.5rem;\r\n            text-transform: uppercase;\r\n            letter-spacing: .05rem;\r\n            &:hover{\r\n                color: #ccc;\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}