{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\TattooShop\\components\\TattoosTab.vue?vue&type=style&index=0&id=4a296eb6&lang=scss&scoped=true&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\TattooShop\\components\\TattoosTab.vue","mtime":1625485623253},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1685190019100},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1685190024220},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\postcss-loader\\src\\index.js","mtime":1685190021333},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1685190017369},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAa2V5ZnJhbWVzIHNoYWtlIHsNCiAgMjUlIHsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMzAlKTsNCiAgfQ0KICA1MCUgew0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxNSUpOw0KICB9DQogIDc1JSB7DQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDMwJSk7DQogIH0NCiAgMTAwJSB7DQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOw0KICB9DQp9DQoudGF0dG9vcy10YWIgew0KICBwYWRkaW5nOiAwLjRyZW0gMCAwIDA7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICZfX2J0biB7DQogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7DQogICAgJjpob3ZlciAuaWNvbiB7DQogICAgICBhbmltYXRpb246IHNoYWtlIDAuNXM7DQogICAgfQ0KICAgIC5pY29uIHsNCiAgICAgIHdpZHRoOiAxcmVtOw0KICAgICAgaGVpZ2h0OiAxcmVtOw0KICAgIH0NCiAgICAudGV4dCB7DQogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgICAgY29sb3I6ICNmZmY7DQogICAgICBtYXJnaW46IDAgMCAwIDAuNTVyZW07DQogICAgICBmb250LXdlaWdodDogMzAwOw0KICAgIH0NCiAgfQ0KICAmX19saXN0IHsNCiAgICBtYXJnaW46IDAuN3JlbSAwIDAgMDsNCiAgICBkaXNwbGF5OiBncmlkOw0KICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDEwLjA1cmVtKTsNCiAgICBncmlkLWdhcDogMC44NXJlbSAxLjJyZW07DQogICAgaGVpZ2h0OiAzNC42NXJlbTsNCiAgICBvdmVyZmxvdy15OiBhdXRvOw0KICAgIHBhZGRpbmc6IDAgMC41NXJlbSAwIDA7DQogICAgJjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgfQ0KICAgICY6Oi13ZWJraXQtc2Nyb2xsYmFyIHsNCiAgICAgIHdpZHRoOiAwLjJyZW07DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICB9DQogICAgJjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDAuMnJlbTsNCiAgICB9DQogIH0NCiAgJl9fYWN0aW9ucyB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgYWxpZ24tc2VsZjogZmxleC1lbmQ7DQogICAgd2lkdGg6IDE1LjJyZW07DQogICAgbWFyZ2luOiAxLjA1cmVtIDAuNzVyZW0gMCAwOw0KICB9DQp9DQo="},{"version":3,"sources":["TattoosTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TattoosTab.vue","sourceRoot":"src/views/TattooShop/components","sourcesContent":["<template>\r\n  <div class=\"tattoos-tab\">\r\n    <button class=\"tattoos-tab__btn\" @click=\"back\">\r\n      <img\r\n        src=\"img/tattooShop/arrow.svg\"\r\n        alt=\"arrow\"\r\n        class=\"icon\"\r\n      >\r\n      <span class=\"text\">{{loc('tattoo_shop_17')}}</span>\r\n    </button>\r\n    <div class=\"tattoos-tab__list\">\r\n      <tattoo-item\r\n        v-for=\"(tattoo, index) in items\"\r\n        :key=\"index\"\r\n        :tattoo=\"tattoo\"\r\n        :index=\"index\"\r\n        :selected=\"current == index\"\r\n        :show=\"isShow(tattoo)\"\r\n        @onTattooSelect=\"selectTattoo\"\r\n      />\r\n    </div>\r\n    <div class=\"tattoos-tab__actions\">\r\n      <main-button\r\n        v-for=\"(button, index) in buttons\"\r\n        :key=\"index\"\r\n        :button=\"button\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport TattooItem from './TattooItem'\r\nimport MainButton from './MainButton'\r\n\r\nexport default {\r\n  name: 'TattoosTab',\r\n\r\n  props: {\r\n    items: Array,\r\n    category: String\r\n  },\r\n\r\n  components: { TattooItem, MainButton },\r\n\r\n  data: function() {\r\n    return {\r\n      current: 0,\r\n      buttons: [\r\n        { text: 'tattoo_shop_18', class: 'close', event: this.toClose },\r\n        { text: 'tattoo_shop_19', class: 'act', event: this.buy },\r\n      ]\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('tattooShop', ['tattoos', 'gender', 'currentTattoos']),\r\n    ...mapGetters('localization', ['loc']),\r\n    // allTattoosList(){\r\n    //   const list = [];\r\n    //   for (const key in this.tattoos) {\r\n    //     this.tattoos[key].forEach(tattoo => {\r\n    //       const overlay = this.gender ? tattoo.Male : tattoo.Female;\r\n    //       list.push({dict: tattoo.Dict, overlay, slots: tattoo.Slots} );\r\n    //     });        \r\n    //   }\r\n    //   return list;\r\n    // },\r\n    // occupied(){\r\n    //   const occupied = [];\r\n    //   this.currentTattoos.forEach(t=>{\r\n    //     const config = this.allTattoosList.find(c=>c.dict === t.Collection && c.overlay === t.Overlay);\r\n    //     if(config !== null) occupied.push(config.slots)\r\n    //   })\r\n    //   return occupied;\r\n    // }\r\n  },\r\n\r\n  methods: {\r\n    \r\n    toClose: function() {\r\n      window.mp.trigger('tattoo:close');\r\n    },\r\n\r\n    buy: function() {\r\n      if (this.items[this.current]) {\r\n        const config = this.items[this.current];\r\n        if(this.currentTattoos.find(c=>c.Collection === config.Dict && (c.Overlay === config.Male || c.Overlay === config.Female))) {\r\n          window.setData('notifyList/notify', { type: 1, position: 0, message: \"tattoo:shop:already\", time: 3000 })\r\n          return;\r\n        }\r\n        window.mp.trigger('tattoo:buy', this.category, config.Id);\r\n      }\r\n    },\r\n\r\n    back: function() {\r\n      this.$emit(\"onBack\")\r\n    },\r\n\r\n    selectTattoo(index){\r\n      this.current = index;\r\n      if(this.items[this.current]);\r\n      {\r\n        const config = this.items[this.current];\r\n        const name = this.gender ? config.Male : config.Female;\r\n        if(name === 0) return;\r\n        window.mp.trigger(\"tattoo:select\", config.Dict, name, JSON.stringify(config.Slots));\r\n      }\r\n       \r\n    },\r\n    isShow(tattoo){\r\n        return (this.gender ? tattoo.Male : tattoo.Female) !== 0;\r\n    },\r\n\r\n    // isTattooAvailable(tattoo){\r\n    //   let result = true;\r\n    //   tattoo.slots.forEach(s=>{\r\n    //     if(this.occupied.findIndex(o=>o === s) !== -1){\r\n    //       result = false;\r\n    //       return;\r\n    //     }\r\n    //   })\r\n    //   return result;\r\n    // }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@keyframes shake {\r\n  25% {\r\n    transform: translateX(30%);\r\n  }\r\n  50% {\r\n    transform: translateX(15%);\r\n  }\r\n  75% {\r\n    transform: translateX(30%);\r\n  }\r\n  100% {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n.tattoos-tab {\r\n  padding: 0.4rem 0 0 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  &__btn {\r\n    background: transparent;\r\n    display: flex;\r\n    align-items: center;\r\n    align-self: flex-start;\r\n    &:hover .icon {\r\n      animation: shake 0.5s;\r\n    }\r\n    .icon {\r\n      width: 1rem;\r\n      height: 1rem;\r\n    }\r\n    .text {\r\n      text-transform: uppercase;\r\n      color: #fff;\r\n      margin: 0 0 0 0.55rem;\r\n      font-weight: 300;\r\n    }\r\n  }\r\n  &__list {\r\n    margin: 0.7rem 0 0 0;\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 10.05rem);\r\n    grid-gap: 0.85rem 1.2rem;\r\n    height: 34.65rem;\r\n    overflow-y: auto;\r\n    padding: 0 0.55rem 0 0;\r\n    &::-webkit-scrollbar-track {\r\n      background-color: transparent;\r\n    }\r\n    &::-webkit-scrollbar {\r\n      width: 0.2rem;\r\n      background-color: transparent;\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n      background: rgba(255, 255, 255, 0.15);\r\n      border-radius: 0.2rem;\r\n    }\r\n  }\r\n  &__actions {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-self: flex-end;\r\n    width: 15.2rem;\r\n    margin: 1.05rem 0.75rem 0 0;\r\n  }\r\n}\r\n</style>\r\n"]}]}