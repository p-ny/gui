{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\Minigames\\Lockpick\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\Minigames\\Lockpick\\index.vue","mtime":1634743351234},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBzZWxlY3RlZDogLTEsDQogICAgICAgICAgICBzdGVwOiAxLA0KICAgICAgICAgICAgbW91c2U6IHsNCiAgICAgICAgICAgICAgICBwcmVzc2VkOiBmYWxzZSwNCiAgICAgICAgICAgICAgICB4OiAwLA0KICAgICAgICAgICAgICAgIHk6IDAsDQogICAgICAgICAgICAgICAgZWw6IG51bGwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICByaW5nczp7DQogICAgICAgICAgICAgICAgMToge2FuZ2xlOiAwLCBvZmZzZXQ6IDAsIG51bWJlcjogMCwgdGFyZ2V0OiAwfSwgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIDI6IHthbmdsZTogMCwgb2Zmc2V0OiAwLCBudW1iZXI6IDAsIHRhcmdldDogMjV9LCAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgMzoge2FuZ2xlOiAwLCBvZmZzZXQ6IDAsIG51bWJlcjogMCwgdGFyZ2V0OiAzNX0sDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgY2hlY2soKXsNCiAgICAgICAgICAgIGlmKHRoaXMuc3BhbSA+IERhdGUubm93KCkpIHJldHVybjsNCiAgICAgICAgICAgIHRoaXMuc3BhbSA9IERhdGUubm93KCkgKyAxMDAwOw0KICAgICAgICAgICAgaWYodGhpcy5yaW5nc1sxXS5udW1iZXIgPT09IHRoaXMucmluZ3NbMV0udGFyZ2V0ICYmIHRoaXMucmluZ3NbMl0ubnVtYmVyID09PSB0aGlzLnJpbmdzWzJdLnRhcmdldCAmJiB0aGlzLnJpbmdzWzNdLm51bWJlciA9PT0gdGhpcy5yaW5nc1szXS50YXJnZXQpew0KICAgICAgICAgICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyU2VydmVyKHRoaXMuY2FsbGJhY2spOw0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibm90aWZ5TGlzdC9ub3RpZnkiLCB7IHR5cGU6IDIsIHBvc2l0aW9uOiAwLCBtZXNzYWdlOiAibWdsb2NrcGljazpyZXN1bHQ6c3VjYyIsIHRpbWU6IDEwMDAgfSk7DQogICAgICAgICAgICAgICAgdGhpcy5leGl0KCk7DQogICAgICAgICAgICB9IA0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibm90aWZ5TGlzdC9ub3RpZnkiLCB7IHR5cGU6IDEsIHBvc2l0aW9uOiAwLCBtZXNzYWdlOiAibWdsb2NrcGljazpyZXN1bHQ6YmFkIiwgdGltZTogMTAwMCB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhpdCgpew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJnYW1lTG9ja3BpY2svc2V0Q2FsbGJhY2siLCAibm9DYWxsYmFjayIpOw0KICAgICAgICAgICAgd2luZG93Lm1wLnRyaWdnZXIoIm1nOmxvY2twaWNrOnF1aXQiKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25Nb3VzZURvd24oZSl7DQogICAgICAgICAgICB0aGlzLm1vdXNlLnByZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5tb3VzZS54ID0gZS5jbGllbnRYOw0KICAgICAgICAgICAgdGhpcy5tb3VzZS55ID0gZS5jbGllbnRZOw0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodGhpcy5tb3VzZS54LCB0aGlzLm1vdXNlLnkpLmdldEF0dHJpYnV0ZSgicmluZ2lkIikgfHwgLTE7DQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGB4OiAke2UuY2xpZW50WH0geTogJHtlLmNsaWVudFl9IHM6ICR7dGhpcy5zZWxlY3RlZH1gKQ0KICAgICAgICB9LA0KICAgICAgICBvbk1vdXNlVXAoKXsNCiAgICAgICAgICAgIGlmKCF0aGlzLnJpbmdzW3RoaXMuc2VsZWN0ZWRdKSByZXR1cm47DQogICAgICAgICAgICB0aGlzLm1vdXNlLnByZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMucmluZ3NbdGhpcy5zZWxlY3RlZF0uYW5nbGUgKz0gdGhpcy5yaW5nc1t0aGlzLnNlbGVjdGVkXS5vZmZzZXQ7DQogICAgICAgICAgICB0aGlzLnJpbmdzW3RoaXMuc2VsZWN0ZWRdLmFuZ2xlICU9IDM2MDsNCiAgICAgICAgICAgIHRoaXMucmluZ3NbdGhpcy5zZWxlY3RlZF0ub2Zmc2V0ID0gMDsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgb25Nb3VzZU1vdmUoZSl7DQogICAgICAgICAgICBpZih0aGlzLm1vdXNlLnByZXNzZWQgJiYgdGhpcy5zZWxlY3RlZCAhPT0gLTEpew0KICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbCA9IE1hdGgucm91bmQoKGUuY2xpZW50WCAtIHRoaXMubW91c2UueCkgKiAzLjYpOw0KICAgICAgICAgICAgICAgIGlmKG5ld1ZhbCAhPT0gdGhpcy5yaW5nc1t0aGlzLnNlbGVjdGVkXS5vZmZzZXQpew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tID0gbmV3VmFsICsgdGhpcy5yaW5nc1t0aGlzLnNlbGVjdGVkXS5hbmdsZTsNCiAgICAgICAgICAgICAgICAgICAgaWYoc3VtbSA+IDM1OSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmluZ3NbdGhpcy5zZWxlY3RlZF0ub2Zmc2V0ID0gbmV3VmFsIC0gMzYwOw0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHN1bW0gPCAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yaW5nc1t0aGlzLnNlbGVjdGVkXS5vZmZzZXQgPSBuZXdWYWwgKyAzNjANCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yaW5nc1t0aGlzLnNlbGVjdGVkXS5vZmZzZXQgPSBuZXdWYWw7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrTnVtYmVyKHRoaXMucmluZ3NbdGhpcy5zZWxlY3RlZF0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2hlY2tOdW1iZXIocmluZyl7DQogICAgICAgICAgICB2YXIgbmV3TnVtYmVyID0gMTAwIC0gTWF0aC5yb3VuZCgocmluZy5vZmZzZXQgKyByaW5nLmFuZ2xlKSAlIDM2MCAvIDMuNik7DQogICAgICAgICAgICBpZihuZXdOdW1iZXIgPiA5OSkgbmV3TnVtYmVyIC09IDEwMDsNCiAgICAgICAgICAgIGlmKG5ld051bWJlciAhPT0gcmluZy5udW1iZXIpew0KICAgICAgICAgICAgICAgIGlmKG5ld051bWJlciA9PT0gcmluZy50YXJnZXQpICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzb3VuZHMvcGxheSIsIHsgbmFtZTogYHJvdWxldHRlX2NsaWNrYCwgdm9sdW1lOiAwLjM1fSk7IA0KICAgICAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNvdW5kcy9wbGF5IiwgeyBuYW1lOiBgdGlja2AsIHZvbHVtZTogMC4yNX0pOyANCiAgICAgICAgICAgICAgICByaW5nLm51bWJlciA9IG5ld051bWJlcjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0UmFuZG9tUmVzdWx0cygpew0KICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5yaW5ncykgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJpbmcgPSB0aGlzLnJpbmdzW2tleV07DQogICAgICAgICAgICAgICAgcmluZy5udW1iZXIgPSAwOw0KICAgICAgICAgICAgICAgIHJpbmcub2Zmc2V0ID0gMDsNCiAgICAgICAgICAgICAgICByaW5nLmFuZ2xlID0gMDsNCiAgICAgICAgICAgICAgICByaW5nLnRhcmdldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDk5KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6ew0KICAgICAgICAuLi5tYXBTdGF0ZSgiZ2FtZUxvY2twaWNrIiwgWyJjYWxsYmFjayJdKQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5nZXRSYW5kb21SZXN1bHRzKCk7DQogICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIHRoaXMub25Nb3VzZURvd24pOw0KICAgICAgICBhZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgdGhpcy5vbk1vdXNlVXApOw0KICAgICAgICBhZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCB0aGlzLm9uTW91c2VNb3ZlKTsNCiAgICB9LA0KICAgIGJlZm9yZURlc3Ryb3koKXsNCiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgdGhpcy5vbk1vdXNlRG93bik7DQogICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCB0aGlzLm9uTW91c2VVcCk7DQogICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIHRoaXMub25Nb3VzZU1vdmUpOw0KICAgIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Minigames/Lockpick","sourcesContent":["<template>\r\n    <div class=\"mglockpick\">\r\n        <img src=\"/img/miniGames/lockpick/ring.png\" alt=\"ring\" class=\"mglockpick_ring\" \r\n            v-for=\"(ring, key, index) in rings\" :key=\"index\" \r\n            :ringid=\"key\"\r\n            :style=\"{'transform': `rotateZ(${ring.angle + ring.offset}deg)`}\"\r\n        >\r\n        <img src=\"/img/miniGames/lockpick/ring_centr.png\" alt=\"ring_centr\" class=\"mglockpick_ring\" @click=\"check\">\r\n        <img src=\"/img/miniGames/lockpick/ring_border.png\" alt=\"ring_centr\" class=\"mglockpick_ring\">\r\n        <div v-if=\"selected !== -1\" class=\"mglockpick_number\">{{rings[selected].number}}</div>\r\n        <div class=\"mglockpick_exit\" @click=\"exit\">exit</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n    data() {\r\n        return {\r\n            selected: -1,\r\n            step: 1,\r\n            mouse: {\r\n                pressed: false,\r\n                x: 0,\r\n                y: 0,\r\n                el: null\r\n            },\r\n            rings:{\r\n                1: {angle: 0, offset: 0, number: 0, target: 0},                    \r\n                2: {angle: 0, offset: 0, number: 0, target: 25},                    \r\n                3: {angle: 0, offset: 0, number: 0, target: 35},\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        check(){\r\n            if(this.spam > Date.now()) return;\r\n            this.spam = Date.now() + 1000;\r\n            if(this.rings[1].number === this.rings[1].target && this.rings[2].number === this.rings[2].target && this.rings[3].number === this.rings[3].target){\r\n                window.mp.triggerServer(this.callback);\r\n                this.$store.commit(\"notifyList/notify\", { type: 2, position: 0, message: \"mglockpick:result:succ\", time: 1000 });\r\n                this.exit();\r\n            } \r\n            else\r\n                this.$store.commit(\"notifyList/notify\", { type: 1, position: 0, message: \"mglockpick:result:bad\", time: 1000 });\r\n        },\r\n        exit(){\r\n            this.$store.commit(\"gameLockpick/setCallback\", \"noCallback\");\r\n            window.mp.trigger(\"mg:lockpick:quit\");\r\n        },\r\n        onMouseDown(e){\r\n            this.mouse.pressed = true;\r\n            this.mouse.x = e.clientX;\r\n            this.mouse.y = e.clientY;\r\n            this.selected = document.elementFromPoint(this.mouse.x, this.mouse.y).getAttribute(\"ringid\") || -1;\r\n            //console.log(`x: ${e.clientX} y: ${e.clientY} s: ${this.selected}`)\r\n        },\r\n        onMouseUp(){\r\n            if(!this.rings[this.selected]) return;\r\n            this.mouse.pressed = false;\r\n            this.rings[this.selected].angle += this.rings[this.selected].offset;\r\n            this.rings[this.selected].angle %= 360;\r\n            this.rings[this.selected].offset = 0;\r\n            this.selected = -1;\r\n        },\r\n        onMouseMove(e){\r\n            if(this.mouse.pressed && this.selected !== -1){\r\n                const newVal = Math.round((e.clientX - this.mouse.x) * 3.6);\r\n                if(newVal !== this.rings[this.selected].offset){\r\n                    const summ = newVal + this.rings[this.selected].angle;\r\n                    if(summ > 359)\r\n                        this.rings[this.selected].offset = newVal - 360;\r\n                    else if(summ < 0)\r\n                        this.rings[this.selected].offset = newVal + 360\r\n                    else\r\n                        this.rings[this.selected].offset = newVal;\r\n                    \r\n                    this.checkNumber(this.rings[this.selected]);\r\n                }\r\n            }\r\n        },\r\n        checkNumber(ring){\r\n            var newNumber = 100 - Math.round((ring.offset + ring.angle) % 360 / 3.6);\r\n            if(newNumber > 99) newNumber -= 100;\r\n            if(newNumber !== ring.number){\r\n                if(newNumber === ring.target)                    \r\n                    this.$store.commit(\"sounds/play\", { name: `roulette_click`, volume: 0.35}); \r\n                else                    \r\n                    this.$store.commit(\"sounds/play\", { name: `tick`, volume: 0.25}); \r\n                ring.number = newNumber;\r\n            }\r\n        },\r\n        getRandomResults(){\r\n            for (const key in this.rings) {\r\n                const ring = this.rings[key];\r\n                ring.number = 0;\r\n                ring.offset = 0;\r\n                ring.angle = 0;\r\n                ring.target = Math.floor(Math.random() * 99);\r\n            }\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapState(\"gameLockpick\", [\"callback\"])\r\n    },\r\n    mounted() {\r\n        this.getRandomResults();\r\n        addEventListener(\"mousedown\", this.onMouseDown);\r\n        addEventListener(\"mouseup\", this.onMouseUp);\r\n        addEventListener(\"mousemove\", this.onMouseMove);\r\n    },\r\n    beforeDestroy(){\r\n        removeEventListener(\"mousedown\", this.onMouseDown);\r\n        removeEventListener(\"mouseup\", this.onMouseUp);\r\n        removeEventListener(\"mousemove\", this.onMouseMove);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .mglockpick{\r\n        width: 25rem;\r\n        height: 25rem;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        &_ring{\r\n            position: absolute;\r\n            border-radius: 50%;\r\n            cursor: pointer;\r\n            -webkit-user-drag: none;\r\n            &:hover{\r\n                filter: brightness(1.2);\r\n            }\r\n            &:nth-child(1){\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n            &:nth-child(2){\r\n                width: 70%;\r\n                height: 70%;\r\n            }\r\n            &:nth-child(3){\r\n                width: 48%;\r\n                height: 48%;\r\n            }\r\n            &:nth-child(4){\r\n                -webkit-user-drag: none;\r\n                position: absolute;\r\n                width: 32%;\r\n                height: 32%;\r\n                //pointer-events: none;\r\n            }\r\n            &:nth-child(5){\r\n                width: 118%;\r\n                height: 118%;\r\n                pointer-events: none;\r\n            }\r\n        }\r\n        &_number{\r\n            position: absolute;\r\n            font-size: 1rem;\r\n            //background: rgba(#fff, .5);\r\n            //border: .1rem solid rgba(#fff, .5);\r\n            border-radius: .2rem;\r\n            top: -1.2em\r\n        }\r\n        &_exit{\r\n            position: absolute;\r\n            top: -1.5rem;\r\n            right: -1.5rem;\r\n            color: #fff;\r\n            font-size: 1.5rem;\r\n            text-transform: uppercase;\r\n            letter-spacing: .05rem;\r\n            &:hover{\r\n                color: #ccc;\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}