{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\News\\MainPage\\EditWindow\\EditAd\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\News\\MainPage\\EditWindow\\EditAd\\index.vue","mtime":1625151238177},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovZG93bmxvYWRzL1VOSVEvR3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0VkaXRBZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkSW5mbzoge30sCiAgICAgIGlzQWRkaW5nSW1hZ2U6IG51bGwsCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICB0aW1lem9uZTogJ1VUQycsCiAgICAgICAgaG91cjogJ251bWVyaWMnLAogICAgICAgIG1pbnV0ZTogJ251bWVyaWMnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoJ2xvY2FsaXphdGlvbicsIFsnbG9jJ10pKSwgbWFwU3RhdGUoJ25ld3MnLCBbJ2N1cnJlbnRBZCcsICdwcmljZVBlclN5bWJvbCcsICdwcmljZVByZVByZW1pdW0nXSkpLCB7fSwgewogICAgaXNQcmVtaXVtQWQ6IGZ1bmN0aW9uIGlzUHJlbWl1bUFkKCkgewogICAgICBpZiAodGhpcy5hZEluZm8uUHJpbWVBZHZlcnQpIHsKICAgICAgICByZXR1cm4gdGhpcy5wcmljZVByZVByZW1pdW07CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCduZXdzJywgWydzZXRNb2RhbCddKSksIHt9LCB7CiAgICBnZXRUaW1lOiBmdW5jdGlvbiBnZXRUaW1lKHNlY29uZHMpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKHNlY29uZHMgKiAxMDAwKS50b0xvY2FsZVN0cmluZygicnUiLCB0aGlzLm9wdGlvbnMpOwogICAgfSwKICAgIGRlbGV0ZUltYWdlOiBmdW5jdGlvbiBkZWxldGVJbWFnZSgpIHsKICAgICAgdGhpcy5hZEluZm8uUGljdHVyZSA9IG51bGw7IC8vIHdpbmRvdy5tcC50cmlnZ2VyKCduZXdzOmRlbGV0ZUltYWdlJywgdGhpcy5hZEluZm8pCiAgICB9LAogICAgem9vbUltYWdlOiBmdW5jdGlvbiB6b29tSW1hZ2UoKSB7CiAgICAgIHRoaXMuc2V0TW9kYWwoewogICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgY3VycmVudE1vZGFsOiAnSW1hZ2VNb2RhbCcsCiAgICAgICAgZGF0YTogdGhpcy5hZEluZm8uUGljdHVyZQogICAgICB9KTsKICAgIH0sCiAgICBhcHBseUFkOiBmdW5jdGlvbiBhcHBseUFkKCkgewogICAgICB3aW5kb3cubXAudHJpZ2dlclNlcnZlcignbHNuZXdzOjpjb21wbGVhdGVBZHZlcnQnLCB0aGlzLmFkSW5mby5JZCwgdGhpcy5hZEluZm8uVGl0bGUsIHRoaXMuYWRJbmZvLlBpY3R1cmUpOwogICAgfSwKICAgIHJlamVjdEFkOiBmdW5jdGlvbiByZWplY3RBZCgpIHsKICAgICAgd2luZG93Lm1wLnRyaWdnZXJTZXJ2ZXIoJ2xzbmV3czo6Y2FuY2VsZWRBZHZlcnQnLCB0aGlzLmFkSW5mby5JZCk7CiAgICB9IC8vIGFkZE5ld0ltYWdlOiBmdW5jdGlvbigpIHsKICAgIC8vICAgd2luZG93Lm1wLnRyaWdnZXIoJ25ld3M6YWRkTmV3SW1hZ2UnLCB0aGlzLmlzQWRkaW5nSW1hZ2UpCiAgICAvLyAgIHRoaXMuc2V0Q2xhcmlmaWNhdGlvbgogICAgLy8gfQoKICB9KSwKICB3YXRjaDogewogICAgY3VycmVudEFkOiBmdW5jdGlvbiBjdXJyZW50QWQodmFsKSB7CiAgICAgIHRoaXMuYWRJbmZvID0gX29iamVjdFNwcmVhZCh7fSwgdmFsKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmFkSW5mbyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY3VycmVudEFkKTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA,SAAA,YAAA,EAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA,SAFA;AAGA,QAAA,MAAA,EAAA;AAHA;AAHA,KAAA;AASA,GAbA;AAeA,EAAA,QAAA,gDACA,UAAA,CAAA,cAAA,EAAA,CAAA,KAAA,CAAA,CADA,GAEA,QAAA,CAAA,MAAA,EAAA,CAAA,WAAA,EAAA,gBAAA,EAAA,iBAAA,CAAA,CAFA;AAGA,IAAA,WAAA,EAAA,uBAAA;AACA,UAAA,KAAA,MAAA,CAAA,WAAA,EAAA;AACA,eAAA,KAAA,eAAA;AACA;;AACA,aAAA,CAAA;AACA;AARA,IAfA;AA0BA,EAAA,OAAA,kCACA,YAAA,CAAA,MAAA,EAAA,CAAA,UAAA,CAAA,CADA;AAEA,IAAA,OAFA,mBAEA,OAFA,EAEA;AACA,aAAA,IAAA,IAAA,CAAA,OAAA,GAAA,IAAA,EAAA,cAAA,CAAA,IAAA,EAAA,KAAA,OAAA,CAAA;AACA,KAJA;AAKA,IAAA,WAAA,EAAA,uBAAA;AACA,WAAA,MAAA,CAAA,OAAA,GAAA,IAAA,CADA,CAEA;AACA,KARA;AASA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,QAAA,CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,YAAA,EAAA,YAAA;AAAA,QAAA,IAAA,EAAA,KAAA,MAAA,CAAA;AAAA,OAAA;AACA,KAXA;AAYA,IAAA,OAAA,EAAA,mBAAA;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,aAAA,CAAA,yBAAA,EAAA,KAAA,MAAA,CAAA,EAAA,EAAA,KAAA,MAAA,CAAA,KAAA,EAAA,KAAA,MAAA,CAAA,OAAA;AACA,KAdA;AAeA,IAAA,QAAA,EAAA,oBAAA;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,aAAA,CAAA,wBAAA,EAAA,KAAA,MAAA,CAAA,EAAA;AACA,KAjBA,CAkBA;AACA;AACA;AACA;;AArBA,IA1BA;AAkDA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA,mBAAA,GAAA,EAAA;AACA,WAAA,MAAA,qBAAA,GAAA;AACA;AAHA,GAlDA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,SAAA,MAAA,qBAAA,KAAA,SAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"edit-ad\">\r\n    <div class=\"edit-ad-info\">\r\n      <div class=\"edit-ad-info__row\">\r\n        <div>{{adInfo.Sender}}</div>\r\n        <div>{{getTime(adInfo.DateCreate)}}</div>\r\n      </div>\r\n      <div class=\"edit-ad-info__row\">\r\n        <div>#{{adInfo.SenderUUID}}</div>\r\n        <div>{{adInfo.Simnum}}</div>\r\n      </div>\r\n    </div>\r\n    <div \r\n      v-if=\"!adInfo.Picture && adInfo.PrimeAdvert && adInfo.Status === 'Created'\"\r\n      class=\"edit-ad-img edit-ad-img--empty\"\r\n      :style=\"{backgroundImage: `url(${adInfo.Picture})`}\"\r\n    >\r\n    </div>\r\n    <div \r\n      class=\"edit-ad-img\"\r\n      :style=\"{backgroundImage: `url(${adInfo.Picture})`}\"\r\n      v-else-if=\"isPremiumAd\"\r\n    >\r\n      <div \r\n        class=\"edit-ad-img__btn edit-ad-img__btn--zoom\"\r\n        @click=\"zoomImage\"\r\n        v-if=\"adInfo.Status === 'Created'\"\r\n      ></div>\r\n      <div \r\n        class=\"edit-ad-img__btn edit-ad-img__btn--delete\"\r\n        @click=\"deleteImage\"\r\n        v-if=\"adInfo.Status === 'Created'\"\r\n      ></div>\r\n    </div>\r\n    <div class=\"edit-ad-edit\">\r\n      <div class=\"edit-ad-edit-title\">{{loc('news:edit:1')}}</div>\r\n      <textarea \r\n        :class=\"[{edited: adInfo.Status !== 'Created'}, 'edit-ad-edit-text']\"\r\n        v-model=\"adInfo.Title\"\r\n        :readonly=\"adInfo.Status !== 'Created'\"\r\n      ></textarea>\r\n    </div>\r\n    <div \r\n      class=\"edit-ad-affirmation\"\r\n      v-if=\"adInfo.Status === 'Created'\"\r\n    >\r\n      <div class=\"edit-ad-affirmation__title\">{{loc('news:edit:2')}} <span> ${{(pricePerSymbol * adInfo.Title.length) + isPremiumAd}}</span></div>\r\n      <div class=\"edit-ad-affirmation__btns\">\r\n        <div \r\n          class=\"edit-ad-affirmation__btns-btn btn edit-ad-affirmation__btns-btn--apply\"\r\n          @click=\"applyAd\"\r\n        >{{loc('news:edit:3')}}</div>\r\n        <div \r\n          class=\"edit-ad-affirmation__btns-btn btn\"\r\n          @click=\"rejectAd\"\r\n        >{{loc('news:edit:4')}}</div>\r\n      </div>\r\n    </div>\r\n    <div \r\n      class=\"edit-ad-affirmation\"\r\n      v-if=\"adInfo.Status === 'Compleate'\"\r\n    >\r\n      <div class=\"edit-ad-affirmation__title\">{{loc('news:edit:5')}} <span> {{adInfo.Editor}}</span></div>\r\n      <div class=\"edit-ad-affirmation__evaluate\">\r\n        <div \r\n          class=\"edit-ad-affirmation__evaluate-star\"\r\n          v-for=\"(item, index) in 5\"\r\n          :key=\"index\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState, mapGetters } from 'vuex'\r\nexport default {\r\n  name: 'EditAd',\r\n\r\n  data: function() {\r\n    return {\r\n      adInfo: {},\r\n      isAddingImage: null,\r\n      options: {\r\n        timezone: 'UTC',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters('localization', ['loc']),\r\n    ...mapState('news', ['currentAd', 'pricePerSymbol', 'pricePrePremium']),\r\n    isPremiumAd: function() {\r\n      if (this.adInfo.PrimeAdvert) {\r\n        return this.pricePrePremium\r\n      }\r\n      return 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations('news', ['setModal']),\r\n    getTime(seconds) {\r\n      return new Date(seconds * 1000).toLocaleString(\"ru\", this.options); \r\n    },\r\n    deleteImage: function() {\r\n      this.adInfo.Picture = null;\r\n      // window.mp.trigger('news:deleteImage', this.adInfo)\r\n    },\r\n    zoomImage: function() {\r\n      this.setModal({show: true, currentModal: 'ImageModal', data: this.adInfo.Picture})\r\n    },\r\n    applyAd: function() {\r\n      window.mp.triggerServer('lsnews::compleateAdvert', this.adInfo.Id, this.adInfo.Title, this.adInfo.Picture)\r\n    },\r\n    rejectAd: function() {\r\n      window.mp.triggerServer('lsnews::canceledAdvert', this.adInfo.Id)\r\n    },\r\n    // addNewImage: function() {\r\n    //   window.mp.trigger('news:addNewImage', this.isAddingImage)\r\n    //   this.setClarification\r\n    // }\r\n  },\r\n\r\n  watch: {\r\n    currentAd: function (val) {\r\n      this.adInfo = {...val}\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.adInfo = {...this.currentAd}\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.edit-ad{\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  &-info, &-img, &-edit{\r\n    width: calc(100% - (2rem));\r\n  }\r\n  &-info{\r\n    font-weight: 600;\r\n    font-size: .9rem;\r\n    line-height: 1.05rem;\r\n    color: #212121;\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-bottom: .85rem;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    margin-bottom: 1rem;\r\n    &__row{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: .5rem;\r\n      &:last-child{\r\n        margin-bottom: 0;\r\n      }\r\n    }\r\n  }\r\n  &-img{\r\n    height: 7.6rem;\r\n    background-size: cover;\r\n    background-position: center;\r\n    margin-bottom: 1rem;\r\n    border-radius: .3rem;\r\n    overflow: hidden;\r\n    position: relative;\r\n    &--empty{\r\n      border: 1px dashed #D3D3D3;\r\n      padding: 0 1rem;\r\n      display: flex;\r\n      align-items: flex-start;\r\n      justify-content: center;\r\n      flex-direction: column;\r\n    }\r\n    &__btn{\r\n      position: absolute;\r\n      width: 1.2rem;\r\n      height: 1.2rem;\r\n      background-size: contain;\r\n      background-position: center;\r\n      background-repeat: no-repeat;\r\n      opacity: .8;\r\n      transition: .2s;\r\n      &:hover{\r\n        opacity: 1;\r\n      }\r\n      &--zoom{\r\n        top: .5rem;\r\n        right: .5rem;\r\n        background-image: url('/img/news/icon-zoom.svg');\r\n      }\r\n      &--delete{\r\n        bottom: .5rem;\r\n        left: .5rem;\r\n        background-image: url('/img/news/icon-delete.svg');\r\n      }\r\n    }\r\n    &-desc{\r\n      font-weight: normal;\r\n      font-size: .8rem;\r\n      line-height: .9rem;\r\n      color: rgba(70, 85, 95, 0.7);\r\n      margin-bottom: .65rem;\r\n    }\r\n    &-input{\r\n      width: 100%;\r\n      padding: 0 .7rem;\r\n      height: 2.1rem;\r\n      border: 1px solid rgba(126, 136, 143, 0.4);\r\n      box-sizing: border-box;\r\n      border-radius: .1rem;\r\n      font-size: 14px;\r\n      color: rgba(70, 85, 95, 0.7);\r\n      &::placeholder{\r\n        color: rgba(70, 85, 95, 0.4);\r\n      }\r\n    }\r\n  }\r\n  &-edit{\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: #000000;\r\n    &-title{\r\n      font-weight: bold;\r\n      font-size: 1.2rem;\r\n      line-height: 1.35rem;\r\n      margin-bottom: .5rem;\r\n    }\r\n    &-text{\r\n      width: 100%;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      box-sizing: border-box;\r\n      border-radius: .1rem;\r\n      height: 17.5rem;\r\n      padding: .6rem .8rem;\r\n      font-weight: 500;\r\n      font-size: .9rem;\r\n      line-height: 1.1rem;\r\n      resize: none;\r\n      outline: none;\r\n      &.edited{\r\n        border: 0;\r\n        padding: 0;\r\n      }\r\n    }\r\n  }\r\n  &-affirmation{\r\n    width: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    height: 7.7rem;\r\n    background: #FFFFFF;\r\n    box-shadow: 0 -1px .5rem rgba(0, 0, 0, 0.08);\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 1rem;\r\n    &__title{\r\n      font-weight: bold;\r\n      font-size: .9rem;\r\n      line-height: 1.05rem;\r\n      color: #000000;\r\n      margin-bottom: 1.15rem;\r\n      span{\r\n        font-weight: 500;\r\n      }\r\n    }\r\n    &__btns{\r\n      display: flex;\r\n      align-items: center;\r\n      &-btn{\r\n        margin-right: 1rem;\r\n        width: 100%;\r\n        height: 2.5rem;\r\n        font-weight: 600;\r\n        font-size: .8rem;\r\n        line-height: .9rem;\r\n        text-align: center;\r\n        color: #E30000;\r\n        border: 1px solid #E30000;\r\n        box-sizing: border-box;\r\n        border-radius: .3rem;\r\n        transition: .3s;\r\n        &:hover{\r\n          filter: drop-shadow(0 0 .15rem #D92C2C);\r\n        }\r\n        &:last-child{\r\n          margin-right: 0;\r\n        }\r\n        &--apply{\r\n          background: linear-gradient(0deg, #E30000, #E30000);\r\n          color: #fff;\r\n          border: none;\r\n          &:hover{\r\n            box-shadow: 0 0 .6rem #D92C2C;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    &__evaluate{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding-top: 1rem;\r\n      width: calc(100% + 2rem);\r\n      margin-left: -1rem;\r\n      border-top: 1px solid rgba(70, 85, 95, .2);\r\n      &:hover{\r\n        .edit-ad-affirmation__evaluate-star{\r\n          background-image: url('/img/news/star-active.svg');\r\n        }\r\n      }\r\n      &-star{\r\n        width: calc((2rem) + (1.1rem));\r\n        height: 2rem;\r\n        background-size: contain;\r\n        background-position: left center;\r\n        background-repeat: no-repeat;\r\n        background-image: url('/img/news/star.svg');\r\n        padding-right: 1.1rem;\r\n        &:last-child{\r\n          padding-right: 0;\r\n          width: 2rem;\r\n        }\r\n        &:hover ~ .edit-ad-affirmation__evaluate-star{\r\n          background-image: url('/img/news/star.svg');\r\n        }\r\n        &.active{\r\n          background-image: url('/img/news/star-active.svg');\r\n        }\r\n      }\r\n      // &-star{\r\n      //   width: 2rem;\r\n      //   height: 2rem;\r\n      //   border: 1px solid red;\r\n      // }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/News/MainPage/EditWindow/EditAd"}]}