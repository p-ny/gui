{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\thread-loader\\dist\\cjs.js!C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js!C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\Chat\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\Chat\\index.vue","mtime":1635438822778},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1685190017367},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovZ3RhIGdvL0d1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZXM6IFtdLAogICAgICBoaXN0b3J5OiBbXSwKICAgICAgYnV0dG9uczogW3sKICAgICAgICBuYW1lOiAiSUMiLAogICAgICAgIHByZWZmaXg6ICdjaGF0ICcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJPT0MiLAogICAgICAgIHByZWZmaXg6ICdiICcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJjaGF0XzIiLAogICAgICAgIHByZWZmaXg6ICdmICcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJjaGF0XzMiLAogICAgICAgIHByZWZmaXg6ICdmYW0gJwogICAgICB9XSwKICAgICAgaW5wdXQ6ICIiLAogICAgICBjdXJyZW50OiAwLAogICAgICBoaXN0b3J5TGVuZ3RoOiAxNTAsCiAgICAgIGVuYWJsZWQ6IGZhbHNlLAogICAgICBhY3RpdmU6IHRydWUsCiAgICAgIGlzU2hvdzogdHJ1ZSwKICAgICAgdGltZTogMjAwMDAsCiAgICAgIGxhc3RNc2c6IDAsCiAgICAgIG9wYWNpdHk6IGZhbHNlLAogICAgICBpbnRlcnZhbDogbnVsbCwKICAgICAgaW5kZXg6IC0xCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCdsb2NhbGl6YXRpb24nLCBbJ2xvYyddKSksIG1hcFN0YXRlKCdmYW1pbHlNZW51L2NvbnRyb2xQYWdlJywgWydjaGF0T3B0aW9ucyddKSksIG1hcFN0YXRlKFsnY3VycmVudFBhZ2UnXSkpLAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdENoYXRUeXBlOiBmdW5jdGlvbiBzZWxlY3RDaGF0VHlwZShpbmRleCkgewogICAgICB0aGlzLmN1cnJlbnQgPSBpbmRleDsKICAgICAgdGhpcy5mb2N1cygpOwogICAgfSwKICAgIG5leHRDaGF0VHlwZTogZnVuY3Rpb24gbmV4dENoYXRUeXBlKCkgewogICAgICB0aGlzLmN1cnJlbnQrKzsKICAgICAgaWYgKHRoaXMuY3VycmVudCA+PSB0aGlzLmJ1dHRvbnMubGVuZ3RoKSB0aGlzLmN1cnJlbnQgPSAwOwogICAgICB0aGlzLmZvY3VzKCk7CiAgICB9LAogICAgb25DaG5nZTogZnVuY3Rpb24gb25DaG5nZSgpIHsKICAgICAgLy90aGlzLnJlc2V0T3BhY2l0eSgpOwogICAgICB0aGlzLmluZGV4ID0gLTE7CiAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLmlucHV0LnJlcGxhY2UoLzwvZywgJycpOwogICAgICB0aGlzLmlucHV0ID0gdGhpcy5pbnB1dC5yZXBsYWNlKC9cXS9nLCAnJyk7CiAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLmlucHV0LnJlcGxhY2UoL1xcL2csICcnKTsKICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuaW5wdXQucmVwbGFjZSgvJi9nLCAnYW5kJyk7CiAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLmlucHV0LnJlcGxhY2UoLyMvZywgJycpOwoKICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHRoaXMuaW5wdXQpOwoKICAgICAgICBpZiAodGhpcy5pbnB1dFswXSA9PT0gJy8nKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmlucHV0LnN1YnN0cigxKTsKICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB3aW5kb3cubXAuaW52b2tlKCJjb21tYW5kIiwgdmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3aW5kb3cubXAuaW52b2tlKCJjb21tYW5kIiwgIiIuY29uY2F0KHRoaXMuYnV0dG9uc1t0aGlzLmN1cnJlbnRdLnByZWZmaXgsICIgIikuY29uY2F0KHRoaXMuaW5wdXQpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZW5hYmxlQ2hhdElucHV0KGZhbHNlKTsKICAgIH0sCiAgICB0aWNrOiBmdW5jdGlvbiB0aWNrKCkgewogICAgICBpZiAoIXRoaXMub3BhY2l0eSAmJiAhdGhpcy5lbmFibGVkICYmIHRoaXMubGFzdE1zZyA8IERhdGUubm93KCkpIHRoaXMub3BhY2l0eSA9IHRydWU7CiAgICB9LAogICAgZ2V0Q29sb3I6IGZ1bmN0aW9uIGdldENvbG9yKGtleSkgewogICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgIGNhc2UgIndoaXRlIjoKICAgICAgICAgIHJldHVybiAnI0ZGRkZGRic7CgogICAgICAgIGNhc2UgInR1cnF1b2lzZSI6CiAgICAgICAgICByZXR1cm4gJyM0MEZGRDEnOwoKICAgICAgICBjYXNlICJyZWQiOgogICAgICAgICAgcmV0dXJuICcjRkU1MzUzJzsKCiAgICAgICAgY2FzZSAiYmx1ZSI6CiAgICAgICAgICByZXR1cm4gJyM0MEEzRkYnOwoKICAgICAgICBjYXNlICJncmVlbiI6CiAgICAgICAgICByZXR1cm4gJyMzQkVBNjInOwoKICAgICAgICBjYXNlICJvcmFuZ2UiOgogICAgICAgICAgcmV0dXJuICcjRkY4OTFEJzsKCiAgICAgICAgY2FzZSAiZGFya3JlZCI6CiAgICAgICAgICByZXR1cm4gJyNFQTNCM0InOwoKICAgICAgICBjYXNlICJ5ZWxsb3ciOgogICAgICAgICAgcmV0dXJuICcjRUFCRTNCJzsKCiAgICAgICAgY2FzZSAiY2l0cmljIjoKICAgICAgICAgIHJldHVybiAnI0ZGREIxRSc7CgogICAgICAgIGNhc2UgIm1lIjoKICAgICAgICAgIHJldHVybiAiI0YwNjBBNSI7CgogICAgICAgIGNhc2UgImRvIjoKICAgICAgICAgIHJldHVybiAiI0VDMzI4QiI7CgogICAgICAgIGNhc2UgInRydWUiOgogICAgICAgICAgcmV0dXJuICIjNzRGMDYwIjsKCiAgICAgICAgY2FzZSAiZmFsc2UiOgogICAgICAgICAgcmV0dXJuICIjRkZGRkZGIjsKCiAgICAgICAgY2FzZSAid2FybmluZyI6CiAgICAgICAgICByZXR1cm4gIiNFQTNCM0IiOwoKICAgICAgICBjYXNlICJncmV5IjoKICAgICAgICAgIHJldHVybiAiIzg4ODg4OCI7CgogICAgICAgIGNhc2UgImdyZWVuZ28iOgogICAgICAgICAgcmV0dXJuICIjQjZEMzAwIjsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAnI0ZGRkZGRic7CiAgICAgIH0KICAgIH0sCiAgICBnZXRGYW1pbHlDb2xvcjogZnVuY3Rpb24gZ2V0RmFtaWx5Q29sb3IoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoYXRPcHRpb25zLmN1cnJlbnRDb2xvcjsKICAgIH0sCiAgICBnZXRGYW1pbHlJY29uOiBmdW5jdGlvbiBnZXRGYW1pbHlJY29uKCkgewogICAgICByZXR1cm4gdGhpcy5jaGF0T3B0aW9ucy5jdXJyZW50SWNvbjsKICAgIH0sCiAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKHR5cGUsIG1zZywgaWQsIGZyb20sIHRvSWQsIHRvLCBmcmllbmQpIHsKICAgICAgdmFyIHRhZzsKCiAgICAgIGlmIChtc2cgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKHR5cGUgPT09ICJSQUdFIE1QOiBDb25uZWN0aW9uIGxvc3QuIFJlY29ubmVjdGluZy4uLiIpIHsKICAgICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCJvbkNvbm5lY3Rpb25Mb3N0Iik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoIndoaXRlIiksICJcIj4iKS5jb25jYXQodGhpcy5sb2ModHlwZSksICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgIikpOwogICAgICB9IGVsc2UgewogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAvL9C+0LHRi9GH0L3Ri9C5INGH0LDRgiArCiAgICAgICAgICAgIGlmICghZnJpZW5kKSBmcm9tID0gdGhpcy5sb2MoImNoYXRfNyIpOwogICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6Ii5jb25jYXQodGhpcy5nZXRDb2xvcigid2hpdGUiKSwgIjtcIj4iKS5jb25jYXQoZnJvbSwgIiBbIikuY29uY2F0KGlkLCAiXTogIikuY29uY2F0KHRoaXMubG9jKG1zZyksICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAiKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgLy/QutGA0LjQuiArCiAgICAgICAgICAgIGlmICghZnJpZW5kKSBmcm9tID0gdGhpcy5sb2MoImNoYXRfNyIpOwogICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6Ii5jb25jYXQodGhpcy5nZXRDb2xvcigid2hpdGUiKSwgIjtcIj4iKS5jb25jYXQoZnJvbSwgIiBbIikuY29uY2F0KGlkLCAiXSAiKS5jb25jYXQodGhpcy5sb2MoImNoYXRfNCIpLCAiOiAiKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAvL9C+0L7RgSDRh9Cw0YIgICsKICAgICAgICAgICAgaWYgKCFmcmllbmQpIGZyb20gPSB0aGlzLmxvYygiY2hhdF83Iik7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaCgiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjoiLmNvbmNhdCh0aGlzLmdldENvbG9yKCJ3aGl0ZSIpLCAiO1wiPiIpLmNvbmNhdChmcm9tLCAiIFsiKS5jb25jYXQoaWQsICJdOiAoKCAiKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIiApKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAvL9GB0L7QvtCx0YnQtdC90LjQtSDQsNC00LzQuNC90LAgKwogICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6Ii5jb25jYXQodGhpcy5nZXRDb2xvcigid2hpdGUiKSwgIjtcIj48c3BhbiBzdHlsZT1cImNvbG9yOiIpLmNvbmNhdCh0aGlzLmdldENvbG9yKCJ0dXJxdW9pc2UiKSwgIjtcIj5bQV0gIikuY29uY2F0KGZyb20sICIgWyIpLmNvbmNhdChpZCwgIl06PC9zcGFuPiAiKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAvL9C+0YLQstC10YIg0L7RgiDQsNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgNCwKwogICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6Ii5jb25jYXQodGhpcy5nZXRDb2xvcigid2hpdGUiKSwgIjtcIj48c3BhbiBzdHlsZT1cImNvbG9yOiIpLmNvbmNhdCh0aGlzLmdldENvbG9yKCJyZWQiKSwgIjtcIj4+ICIpLmNvbmNhdCh0aGlzLmxvYygiY2hhdF81IiksICIgIikuY29uY2F0KGZyb20sICI6PC9zcGFuPiAiKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAvL9GH0LDRgiDRhNGA0LDQutGG0LjQuCsKICAgICAgICAgICAgaWYgKHRvSWQpIHsKICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoIndoaXRlIiksICI7XCI+PHNwYW4gY2xhc3M9XCJnbG9iYWwtY2hhdF9faWNvbiBnbG9iYWwtY2hhdF9faWNvbi1jaXJjbGUgZ2xvYmFsLWNoYXRfX2ljb24tY2lyY2xlLWZyYWN0aW9uXCI+PC9zcGFuPjxzcGFuIHN0eWxlPVwiY29sb3I6IikuY29uY2F0KHRoaXMuZ2V0Q29sb3IoImJsdWUiKSwgIjtcIj5bRl06PC9zcGFuPiAiKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjoiLmNvbmNhdCh0aGlzLmdldENvbG9yKCJ3aGl0ZSIpLCAiO1wiPjxzcGFuIGNsYXNzPVwiZ2xvYmFsLWNoYXRfX2ljb24gZ2xvYmFsLWNoYXRfX2ljb24tY2lyY2xlIGdsb2JhbC1jaGF0X19pY29uLWNpcmNsZS1mcmFjdGlvblwiPjwvc3Bhbj48c3BhbiBzdHlsZT1cImNvbG9yOiIpLmNvbmNhdCh0aGlzLmdldENvbG9yKCJibHVlIiksICI7XCI+W0ZdICIpLmNvbmNhdChmcm9tLCAiIFsiKS5jb25jYXQoaWQsICJdOjwvc3Bhbj4gIikuY29uY2F0KHRoaXMubG9jKG1zZyksICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIikpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIC8v0YfQsNGCINGB0LXQvNGM0LgrCiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaCgiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjoiLmNvbmNhdCh0aGlzLmdldENvbG9yKCJ3aGl0ZSIpLCAiO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdsb2JhbC1jaGF0X19pY29uIGdsb2JhbC1jaGF0X19pY29uLWNpcmNsZSBnbG9iYWwtY2hhdF9faWNvbi1jaXJjbGUtZmFtaWx5XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoL2ltZy9mYW1pbHlNZW51L2NoYXRPcHRpb25zL2ljb24tIikuY29uY2F0KHRoaXMuZ2V0RmFtaWx5SWNvbigpLCAiLnN2Zyk7IGJhY2tncm91bmQtY29sb3I6IikuY29uY2F0KHRoaXMuZ2V0RmFtaWx5Q29sb3IoKSwgIjtcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6IikuY29uY2F0KHRoaXMuZ2V0RmFtaWx5Q29sb3IoKSwgIjtcIj5bRl0gIikuY29uY2F0KGZyb20sICIgWyIpLmNvbmNhdChpZCwgIl06PC9zcGFuPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIikuY29uY2F0KHRoaXMubG9jKG1zZyksICJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAiKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgLy/Rh9Cw0YIg0LPQvtGBINGB0YLRgNGD0LrRgtGD0YDRiysKICAgICAgICAgICAgc3dpdGNoICh0b0lkKSB7CiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgdGFnID0gIkxTUEQiOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHRhZyA9ICJFTVMiOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHRhZyA9ICJGSUIiOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICB0YWcgPSAiQVJNWSI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHRhZyA9ICJORVdTIjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgdGFnID0gIkdPViI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoIndoaXRlIiksICI7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2xvYmFsLWNoYXRfX2ljb24gZ2xvYmFsLWNoYXRfX2ljb24tZ29zXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIpLmNvbmNhdCh0aGlzLmdldENvbG9yKCJvcmFuZ2UiKSwgIjtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtEZXBdKCIpLmNvbmNhdCh0YWcsICIpICIpLmNvbmNhdChmcm9tLCAiIFsiKS5jb25jYXQoaWQsICJdOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpLmNvbmNhdCh0aGlzLmxvYyhtc2cpLnJlcGxhY2UoJ18nLCAnICcpLCAiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgIikpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIC8v0LHQsNC9L9C60LjQui/QvNGD0YIg0L7RgiDQsNC00LzQuNC90LAgICsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoImRhcmtyZWQiKSwgIjtcIj4iKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAvL9C+0YLQstC10YIg0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDQsCDQuNCz0YDQvtC60YMgKNC00LvRjyDQsNC00LzQuNC90LApCiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaCgiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjoiLmNvbmNhdCh0aGlzLmdldENvbG9yKCJ3aGl0ZSIpLCAiO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIpLmNvbmNhdCh0aGlzLmdldENvbG9yKCJ5ZWxsb3ciKSwgIjtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtBTlNXRVJdICIpLmNvbmNhdChmcm9tLCAiIFsiKS5jb25jYXQoaWQsICJdID4gIikuY29uY2F0KHRvLCAiIFsiKS5jb25jYXQodG9JZCwgIl06XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpLmNvbmNhdCh0aGlzLmxvYyhtc2cpLCAiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgIikpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAvL21lKwogICAgICAgICAgICBpZiAoIWZyaWVuZCkgZnJvbSA9IHRoaXMubG9jKCJjaGF0XzciKTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoIm1lIiksICI7XCI+IikuY29uY2F0KGZyb20sICIgWyIpLmNvbmNhdChpZCwgIl0gIikuY29uY2F0KHRoaXMubG9jKG1zZyksICI8L3NwYW4+IFxuICAgICAgICAgICAgICAgICAgICAgICAgIikpOwogICAgICAgICAgICB0aGlzLmFkZEFjdGlvblRvKGlkLCBtc2cpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAvL2RvKwogICAgICAgICAgICBpZiAoIWZyaWVuZCkgZnJvbSA9IHRoaXMubG9jKCJjaGF0XzciKSArICJbIi5jb25jYXQoaWQsICJdIik7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaCgiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjoiLmNvbmNhdCh0aGlzLmdldENvbG9yKCJkbyIpLCAiO1wiPiIpLmNvbmNhdCh0aGlzLmxvYyhtc2cpLCAiICIpLmNvbmNhdChmcm9tLCAiIFsiKS5jb25jYXQoaWQsICJdPC9zcGFuPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgdGhpcy5hZGRBY3Rpb25UbyhpZCwgbXNnKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgLy90cnkKICAgICAgICAgICAgbXNnID0gbXNnLmluZGV4T2YoIkZhbHNlIikgPT09IC0xID8gbXNnLnJlcGxhY2UoIlRydWUiLCAiOiA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoInRydWUiKSwgIjtcIj4iKS5jb25jYXQodGhpcy5sb2MoJ0NvcmVfMjk4JyksICI8L3NwYW4+IikpIDogbXNnLnJlcGxhY2UoIkZhbHNlIiwgIjogPHNwYW4gc3R5bGU9XCJjb2xvcjoiLmNvbmNhdCh0aGlzLmdldENvbG9yKCJmYWxzZSIpLCAiO1wiPiIpLmNvbmNhdCh0aGlzLmxvYygnQ29yZV8yOTknKSwgIjwvc3Bhbj4iKSk7CiAgICAgICAgICAgIGlmICghZnJpZW5kKSBmcm9tID0gdGhpcy5sb2MoImNoYXRfNyIpICsgIlsiLmNvbmNhdChpZCwgIl0iKTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoImRvIiksICI7XCI+IikuY29uY2F0KGZyb20sICIgWyIpLmNvbmNhdChpZCwgIl0gIikuY29uY2F0KHRoaXMubG9jKG1zZyksICI8L3NwYW4+IFxuICAgICAgICAgICAgICAgICAgICAgICAgIikpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAvL9GB0L7QvtCx0YnQtdC90LjQtSDQsiDQs9C+0LIg0LjQu9C4INCyINC+0YDQsNC70L4KICAgICAgICAgICAgc3dpdGNoICh0b0lkKSB7CiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgdGFnID0gIkxTUEQiOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHRhZyA9ICJFTVMiOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHRhZyA9ICJGSUIiOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICB0YWcgPSAiQVJNWSI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHRhZyA9ICJORVdTIjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgdGFnID0gIkdPViI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoInllbGxvdyIpLCAiO1wiPlsiKS5jb25jYXQodGFnLCAiXSAiKS5jb25jYXQoZnJvbSwgIjogIikuY29uY2F0KHRoaXMubG9jKG1zZyksICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAiKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIC8v0L3QvtCy0L7RgdGC0Lgg0L7RgiDQsNC00LzQuNC90LAKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcblx0XHRcdFx0XHRcdFx0PHNwYW4gc3R5bGU9XCJjb2xvcjoiLmNvbmNhdCh0aGlzLmdldENvbG9yKCJjaXRyaWMiKSwgIjtcIj4iKS5jb25jYXQodGhpcy5sb2MoImNoYXRfNSIpLCAiICIpLmNvbmNhdChmcm9tLCAiOiAiKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIjwvc3Bhbj5cdFxuXHRcdFx0XHRcdFx0IikpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAvL9C80LXQs9Cw0YTQvtC9INC00LvRjyDQs9C+0YEg0YHQvtGC0YDRg9C00L3QuNC60L7QsgogICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6Ii5jb25jYXQodGhpcy5nZXRDb2xvcigid2hpdGUiKSwgIjtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbG9iYWwtY2hhdF9faWNvbiBnbG9iYWwtY2hhdF9faWNvbi1tZWdhcGhvbmVcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6IikuY29uY2F0KHRoaXMuZ2V0Q29sb3IoInllbGxvdyIpLCAiO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW01lZ2FwaG9uZV0gIikuY29uY2F0KGZyb20sICIgWyIpLmNvbmNhdChpZCwgIl06XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpLmNvbmNhdCh0aGlzLmxvYyhtc2cpLCAiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgIikpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6Ii5jb25jYXQodGhpcy5nZXRDb2xvcigiZ3JlZW5nbyIpLCAiO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKS5jb25jYXQoZnJvbSwgIjogIikuY29uY2F0KGlkLCAiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZW5kZXItd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ2xvYmFsLWNoYXRfX2ljb24gZ2xvYmFsLWNoYXRfX2ljb24tY2lyY2xlIGdsb2JhbC1jaGF0X19pY29uLWNpcmNsZS1jYWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnbG9iYWwtY2hhdF9faWNvbiBnbG9iYWwtY2hhdF9faWNvbi1jaXJjbGUgZ2xvYmFsLWNoYXRfX2ljb24tY2lyY2xlLW1lc3NhZ2VcIj48L2Rpdj4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZW5kZXJfX25pY2tuYW1lLXRpdHRsZVwiPiIpLmNvbmNhdCh0aGlzLmxvYygnY2hhdF82JyksICI6IDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VuZGVyX19uaWNrbmFtZVwiPiIpLmNvbmNhdChtc2csICI8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlbmRlcl9fbmlja25hbWUtcGhvbmVcIj4iKS5jb25jYXQodG9JZCA9PSAtMSA/ICcnIDogInRlbDogIi5jb25jYXQodG9JZCksICI8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoIndhcm5pbmciKSwgIjtcIj4iKS5jb25jYXQodGhpcy5sb2MobXNnKSwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICIpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiIuY29uY2F0KHRoaXMuZ2V0Q29sb3IoIndoaXRlIiksICI7XCI+IikuY29uY2F0KHRoaXMubG9jKG1zZyksICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAiKSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuaGlzdG9yeUxlbmd0aCA8IHRoaXMubWVzc2FnZXMubGVuZ3RoKSB0aGlzLm1lc3NhZ2VzLnNoaWZ0KCk7IC8vdGhpcy5yZXNldE9wYWNpdHkoKTsgCgogICAgICB0aGlzLnNjcm9sbEJvdHRvbSgpOwogICAgICByZXR1cm4gaWQ7CiAgICB9LAogICAgc2Nyb2xsQm90dG9tOiBmdW5jdGlvbiBzY3JvbGxCb3R0b20oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbGlzdCA9IF90aGlzLiRyZWZzLmxpc3Q7CiAgICAgICAgaWYgKGxpc3QpIGxpc3Quc2Nyb2xsVG9wID0gbGlzdC5zY3JvbGxIZWlnaHQ7CiAgICAgIH0sIDApOwogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLm1lc3NhZ2VzID0gW107CgogICAgICBpZiAodGhpcy5lbmFibGVkKSB7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRyZWZzLnRleHQuZm9jdXMoKTsKICAgICAgICB9LCAwKTsKICAgICAgfQogICAgfSwKICAgIGFjdGl2YXRlOiBmdW5jdGlvbiBhY3RpdmF0ZSh0b2dnbGUpIHsKICAgICAgdGhpcy5hY3RpdmUgPSB0b2dnbGU7CiAgICAgIGlmICghdG9nZ2xlICYmIHRoaXMuZW5hYmxlZCkgdGhpcy5lbmFibGVDaGF0SW5wdXQoZmFsc2UpOwogICAgfSwKICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMy4kcmVmcy50ZXh0KSBfdGhpczMuJHJlZnMudGV4dC5mb2N1cygpOwogICAgICB9LCAwKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KHRvZ2dsZSkgewogICAgICB0aGlzLmlzU2hvdyA9IHRvZ2dsZTsKICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7CiAgICAgIGlmICh0b2dnbGUpIHRoaXMuc2Nyb2xsQm90dG9tKCk7CiAgICB9LAogICAgZW5hYmxlQ2hhdElucHV0OiBmdW5jdGlvbiBlbmFibGVDaGF0SW5wdXQoZW5hYmxlKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZSkgewogICAgICAgIHdpbmRvdy5tcC5pbnZva2UoImZvY3VzIiwgZW5hYmxlKTsKICAgICAgICB3aW5kb3cubXAuaW52b2tlKCJzZXRUeXBpbmdJbkNoYXRTdGF0ZSIsIGVuYWJsZSk7CiAgICAgICAgdGhpcy5lbmFibGVkID0gZW5hYmxlOwogICAgICAgIGlmIChlbmFibGUpIHRoaXMuZm9jdXMoKTtlbHNlIHdpbmRvdy5tcC50cmlnZ2VyKCJjYWhhdDphcGk6ZGlzYWJsZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCJjYWhhdDphcGk6ZGlzYWJsZSIpOwogICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLmlucHV0ID0gIiI7CiAgICB9LAogICAgcmVzZXRPcGFjaXR5OiBmdW5jdGlvbiByZXNldE9wYWNpdHkoKSB7CiAgICAgIHRoaXMubGFzdE1zZyA9IERhdGUubm93KCkgKyB0aGlzLnRpbWU7CiAgICAgIHRoaXMub3BhY2l0eSA9IGZhbHNlOwogICAgfSwKICAgIGFkZEFjdGlvblRvOiBmdW5jdGlvbiBhZGRBY3Rpb25UbyhpZCwgbXNnKSB7CiAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCJ0YWc6YWRkOmFjdGlvbiIsIGlkLCB0aGlzLmxvYyhtc2cpKTsKICAgIH0sCiAgICBrZXlVcDogZnVuY3Rpb24ga2V5VXAoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBzd2l0Y2ggKGUua2V5Q29kZSkgewogICAgICAgIC8vIGNhc2UgODQ6IC8vdAogICAgICAgIC8vICAgICBpZih0aGlzLmN1cnJlbnRQYWdlID09PSB1bmRlZmluZWQgfHwgdGhpcy5jdXJyZW50UGFnZSA9PT0gIiIpewogICAgICAgIC8vICAgICAgICAgaWYoIXRoaXMuZW5hYmxlZCAmJiB0aGlzLmFjdGl2ZSkKICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLmVuYWJsZUNoYXRJbnB1dCh0cnVlKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICBicmVhazsKICAgICAgICBjYXNlIDk6CiAgICAgICAgICAvL3RhYgogICAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkgdGhpcy5uZXh0Q2hhdFR5cGUoKTsKICAgICAgICAgIHRoaXMuc2Nyb2xsQm90dG9tKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIC8vZW50ZXIKICAgICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHRoaXMub25DaG5nZSgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAvL3VwCiAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuOwogICAgICAgICAgaWYgKHRoaXMuaGlzdG9yeS5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICAgIHRoaXMuaW5kZXggLT0gMTsKICAgICAgICAgIGlmICh0aGlzLmluZGV4IDwgMCkgdGhpcy5pbmRleCA9IHRoaXMuaGlzdG9yeS5sZW5ndGggLSAxOwogICAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuaGlzdG9yeVt0aGlzLmluZGV4XTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQwOgogICAgICAgICAgLy9kb3duCiAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuOwogICAgICAgICAgaWYgKHRoaXMuaGlzdG9yeS5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICAgIHRoaXMuaW5kZXggKz0gMTsKICAgICAgICAgIGlmICh0aGlzLmluZGV4ID49IHRoaXMuaGlzdG9yeS5sZW5ndGgpIHRoaXMuaW5kZXggPSAwOwogICAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuaGlzdG9yeVt0aGlzLmluZGV4XTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cuY2hhdEFQSSA9IHsKICAgICAgcHVzaDogdGhpcy5wdXNoLAogICAgICBjbGVhcjogdGhpcy5jbGVhciwKICAgICAgYWN0aXZhdGU6IHRoaXMuYWN0aXZhdGUsCiAgICAgIHNob3c6IHRoaXMuc2hvdywKICAgICAgZW5hYmxlOiB0aGlzLmVuYWJsZUNoYXRJbnB1dAogICAgfTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5rZXlVcCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLCB0aGlzLmtleVVwKTsKICB9Cn07"},null]}