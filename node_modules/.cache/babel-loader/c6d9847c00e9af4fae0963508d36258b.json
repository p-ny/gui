{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\WeaponsSetting\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\WeaponsSetting\\index.vue","mtime":1633082021197},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9kb3dubG9hZHMvVU5JUS9HdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgY29uZmlncyBmcm9tICcuLi8uLi9jb25maWdzL2ludmVudG9yeS9jb25maWdzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcGFtUHJvdGVjdDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFdlYXBvbk5hbWU6IGZ1bmN0aW9uIGdldFdlYXBvbk5hbWUoaGFzaCkgewogICAgICB2YXIgY29uZmlnID0gT2JqZWN0LnZhbHVlcyhjb25maWdzKS5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMuV2VhcG9uSGFzaCA9PSBoYXNoOwogICAgICB9KTsKICAgICAgcmV0dXJuIGNvbmZpZyA/IHRoaXMubG9jKGNvbmZpZy5EaXNwbGF5TmFtZSkgOiAibmFtZSBub3QgZm91bmQiOwogICAgfSwKICAgIGdldFdlYXBvbkltYWdlOiBmdW5jdGlvbiBnZXRXZWFwb25JbWFnZShoYXNoKSB7CiAgICAgIHZhciBjb25maWcgPSBPYmplY3QudmFsdWVzKGNvbmZpZ3MpLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5XZWFwb25IYXNoID09IGhhc2g7CiAgICAgIH0pOwogICAgICByZXR1cm4gY29uZmlnID8gIi9pbWcvaW52ZW50b3J5L2l0ZW1zLyIuY29uY2F0KGNvbmZpZy5JbWFnZSwgIi5wbmciKSA6ICJubyBpbWFnZSI7CiAgICB9LAogICAgZ2V0Q29lZm5hbWU6IGZ1bmN0aW9uIGdldENvZWZuYW1lKGlkKSB7CiAgICAgIHN3aXRjaCAoaWQpIHsKICAgICAgICBjYXNlICIxIjoKICAgICAgICAgIHJldHVybiAiLSBoZWFkIGNvZWYiOwoKICAgICAgICBjYXNlICIyIjoKICAgICAgICAgIHJldHVybiAiLSBsZWcvYXJtcyBjb2VmIjsKCiAgICAgICAgY2FzZSAiMyI6CiAgICAgICAgICByZXR1cm4gIi0gbWVsZWUgY29lZiI7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gIi0gYm9keSBjb2VmIjsKICAgICAgfQogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zcGFtUHJvdGVjdCA+IERhdGUubm93KCkpIHJldHVybjsKICAgICAgdGhpcy5zcGFtUHJvdGVjdCA9IERhdGUubm93KCkgKyAyMDAwOwogICAgICB2YXIgY29uZmlncyA9IHt9OwogICAgICB2YXIgY29lZnMgPSB7fTsKICAgICAgdGhpcy5jb25maWdMaXN0LmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgdmFsID0gcGFyc2VJbnQoYy52YWx1ZSk7CgogICAgICAgIGlmICghaXNOYU4odmFsKSAmJiB2YWwgIT09IF90aGlzLmNvbmZpZ1tjLmhhc2hdKSB7CiAgICAgICAgICBjb25maWdzW2MuaGFzaF0gPSB2YWw7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jb2Vmc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoYykgewogICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KGMudmFsdWUpOwoKICAgICAgICBpZiAoIWlzTmFOKHZhbCkgJiYgdmFsICE9PSBfdGhpcy5jb2Vmc1tjLmlkXSkgewogICAgICAgICAgY29lZnNbYy5pZF0gPSB2YWw7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgd2luZG93Lm1wLnRyaWdnZXJTZXJ2ZXIoIndlYXBvbjpzZXR0aW5nczp1cGRhdGUiLCBKU09OLnN0cmluZ2lmeShjb25maWdzKSwgSlNPTi5zdHJpbmdpZnkoY29lZnMpKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycygibG9jYWxpemF0aW9uIiwgWyJsb2MiXSkpLCBtYXBTdGF0ZSgid2VhcG9uc1NldHRpbmciLCBbImNvbmZpZyIsICJjb2VmcyJdKSksIHt9LCB7CiAgICBjb25maWdMaXN0OiBmdW5jdGlvbiBjb25maWdMaXN0KCkgewogICAgICB2YXIgcmVzdWx0ID0gW107CgogICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jb25maWcpIHsKICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICBoYXNoOiBrZXksCiAgICAgICAgICB2YWx1ZTogdGhpcy5jb25maWdba2V5XQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGNvZWZzTGlzdDogZnVuY3Rpb24gY29lZnNMaXN0KCkgewogICAgICB2YXIgcmVzdWx0ID0gW107CgogICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jb2VmcykgewogICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgIGlkOiBrZXksCiAgICAgICAgICB2YWx1ZTogdGhpcy5jb2Vmc1trZXldCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"wsettings\">\r\n        <div class=\"wsettings-title\">Weapons setting</div>\r\n        <div class=\"wsettings-coef\">\r\n            <div class=\"wsettings-coef-item\" v-for=\"(item, index) in coefsList\" :key=\"index\">\r\n                <input type=\"number\" min=\"0\" step=\"0.01\" v-model=\"item.value\" class=\"wsettings_input\">\r\n                <div class=\"wsettings-coef-item_title\">{{getCoefname(item.id)}}</div>\r\n            </div>\r\n            <div class=\"wsettings_save\" @click=\"save\">Save</div>\r\n        </div>\r\n        <div class=\"wsettings-config\">\r\n            <div class=\"wsettings-config-item\" v-for=\"(item, index) in configList\" :key=\"index\">\r\n                <img :src=\"getWeaponImage(item.hash)\" alt=\"weapon\" class=\"wsettings-config-item_img\">\r\n                <div class=\"wsettings-config-item_info\">\r\n                    <div class=\"wsettings-config-item_title\">{{getWeaponName(item.hash)}}</div>\r\n                    <input type=\"number\" min=\"0\" step=\"1\" class=\"wsettings_input\" v-model=\"item.value\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex'\r\nimport configs from '../../configs/inventory/configs'\r\nexport default {\r\n    data() {\r\n        return {\r\n            spamProtect: 0\r\n        }\r\n    },\r\n    methods: {\r\n        getWeaponName(hash){\r\n            const config = Object.values(configs).find(c=>c.WeaponHash == hash);\r\n            return config ? this.loc(config.DisplayName) : \"name not found\";\r\n        },\r\n        getWeaponImage(hash){\r\n            const config = Object.values(configs).find(c=>c.WeaponHash == hash);\r\n            return config ? `/img/inventory/items/${config.Image}.png` : \"no image\";\r\n        },\r\n        getCoefname(id){\r\n            switch (id) {\r\n                case \"1\": return \"- head coef\";\r\n                case \"2\": return \"- leg/arms coef\";    \r\n                case \"3\": return \"- melee coef\";\r\n                default: return \"- body coef\";\r\n            }\r\n        },\r\n        save(){\r\n            if(this.spamProtect > Date.now()) return;\r\n            this.spamProtect = Date.now() + 2000;\r\n            const configs = {};\r\n            const coefs = {};\r\n            this.configList.forEach(c => {\r\n                const val = parseInt(c.value);\r\n                if(!isNaN(val) && val !== this.config[c.hash]){\r\n                    configs[c.hash] = val;\r\n                }\r\n            });\r\n            this.coefsList.forEach(c=> {                \r\n                const val = parseFloat(c.value);\r\n                if(!isNaN(val) && val !== this.coefs[c.id]){\r\n                    coefs[c.id] = val;\r\n                }\r\n            });\r\n            window.mp.triggerServer(\"weapon:settings:update\", JSON.stringify(configs), JSON.stringify(coefs))\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapGetters(\"localization\", [\"loc\"]),\r\n        ...mapState(\"weaponsSetting\", [\"config\", \"coefs\"]),\r\n        configList(){\r\n            const result = [];\r\n            for (const key in this.config) {\r\n                result.push({hash: key, value: this.config[key]})\r\n            }\r\n            return result;\r\n        },\r\n        coefsList(){         \r\n            const result = [];\r\n            for (const key in this.coefs) {\r\n                result.push({id: key, value: this.coefs[key]})\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.wsettings{\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: rgba(#000, .9);\r\n    color: #fff;\r\n    &-title{\r\n        font-size: 2rem;\r\n        height:4rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        text-transform: uppercase;\r\n        border-bottom: 1px solid #fff;\r\n        letter-spacing: .06rem;\r\n    }\r\n    &-coef{\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-bottom: 1px solid #fff;\r\n        &-item{\r\n            margin: 0 2rem;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            height: 3rem;\r\n            &_title{\r\n                font-size: 1.5rem;\r\n            }            \r\n        }\r\n    }\r\n    &_input{\r\n        background-color: rgba(#000, .2);\r\n        color: #fff;\r\n        font-size: 1.2rem;\r\n        outline: .1rem solid #ccc;\r\n        width: 5rem;\r\n        height: 2rem;\r\n        text-align: center;\r\n        margin: 0 .5rem;\r\n    }\r\n    &-config{\r\n        display: flex;\r\n        width: 83rem;\r\n        margin: 1rem auto;\r\n        height: 45rem;\r\n        flex-wrap: wrap;\r\n        //border: 1px solid #000;\r\n        overflow-y: scroll;\r\n        &-item{\r\n            margin: .1rem;\r\n            width: 20rem;\r\n            height: 8rem;\r\n            position: relative;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            background-color: rgba(#fff, .1);\r\n            text-align: center;\r\n            box-shadow: 0 0 1rem 0 #000;\r\n            &_img{\r\n                height: 100%;\r\n                margin: 1rem;\r\n            }\r\n            &_info{\r\n                margin-left: .5rem;\r\n                width: 10rem;\r\n                height: 90%;\r\n                //border: 1px solid #000;\r\n            }  \r\n            &_title{\r\n                text-align: center;\r\n                font-size: 1.5rem;\r\n                margin: .6rem 0;\r\n            }\r\n        }\r\n    }\r\n    &_save{\r\n        border: .1rem solid #fff;\r\n        width: 5rem;\r\n        margin-left: 10rem;\r\n        height: 2rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 1.2rem;\r\n        letter-spacing: .05rem;\r\n        &:hover{\r\n            background-color: #fff;\r\n            color: #000;\r\n            font-weight: bold;\r\n            text-transform: uppercase;\r\n        }\r\n    }\r\n}\r\n</style>"],"sourceRoot":"src/views/WeaponsSetting"}]}