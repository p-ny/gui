{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\Inventory\\ListItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\Inventory\\ListItems.vue","mtime":1642054900028},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2Rvd25sb2Fkcy9VTklRL0d1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBkcmFnT2JqZWN0IGZyb20gJy4vY2xhc3Nlcy9kYXJnT2JqZWN0JzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsiaWQiLCAiZHJhZyIsICJ3aWR0aCIsICJzb3J0QnlJbmRleCIsICJjYW5Ecm9wIiwgImNoZWNrSW52ZW50b3J5Il0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhc3RDbGljazogMCwKICAgICAgY2xpY2tEZWxheTogNTAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycygnaW52ZW50b3J5JywgWydnZXRCeUlkJ10pKSwge30sIHsKICAgIGludmVudG9yeTogZnVuY3Rpb24gaW52ZW50b3J5KCkgewogICAgICBpZiAodGhpcy5jaGVja0ludmVudG9yeSkgcmV0dXJuIHRoaXMuY2hlY2tJbnZlbnRvcnk7ZWxzZSByZXR1cm4gdGhpcy5nZXRCeUlkKHRoaXMuaWQpOwogICAgfSwKICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpdGVtcyA9IFtdOwogICAgICB2YXIgc2l6ZSA9IE1hdGgubWF4KHRoaXMuaW52ZW50b3J5LnNpemUsIHRoaXMuaW52ZW50b3J5Lml0ZW1zLmxlbmd0aCk7CgogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgaWYgKF90aGlzLnNvcnRCeUluZGV4KSB7CiAgICAgICAgICB2YXIgaW5kZXggPSBfdGhpcy5pbnZlbnRvcnkuaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmluZGV4ID09IGk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpdGVtcy5wdXNoKGluZGV4ID09PSAtMSA/IG51bGwgOiBfdGhpcy5pbnZlbnRvcnkuaXRlbXNbaW5kZXhdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXRlbXMucHVzaChfdGhpcy5pbnZlbnRvcnkuaXRlbXNbaV0gPT0gdW5kZWZpbmVkID8gbnVsbCA6IF90aGlzLmludmVudG9yeS5pdGVtc1tpXSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICBfbG9vcChpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGl0ZW1zOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGFkcmVzczogZnVuY3Rpb24gYWRyZXNzKGluZGV4KSB7CiAgICAgIHJldHVybiAiaW52XyIuY29uY2F0KHRoaXMuaWQsICJfIikuY29uY2F0KGluZGV4KTsKICAgIH0sCiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUoaW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMuZHJhZyAmJiB0aGlzLmFkcmVzcyhpbmRleCkgPT0gdGhpcy5kcmFnLm92ZXJBZHJlc3M7CiAgICB9LAogICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGluZGV4LCBpdGVtLCBlKSB7CiAgICAgIGlmIChpdGVtID09IG51bGwpIHJldHVybjsKICAgICAgdmFyIGFkcmVzcyA9IHRoaXMuYWRyZXNzKGluZGV4KTsKCiAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMikgewogICAgICAgIGlmIChpdGVtLmlzVXNhYmxlKCkgfHwgaXRlbS5pc1dlYXBvbigpIHx8IGl0ZW0uaXNNYXNrKCkpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoIm9uRG91YmxlQ2xpY2siLCBhZHJlc3MsIGl0ZW0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLmxhc3RDbGljayA+IERhdGUubm93KCkpIHsKICAgICAgICBpZiAoaXRlbS5pc1VzYWJsZSgpKSB0aGlzLiRlbWl0KCJvbkRvdWJsZUNsaWNrIiwgYWRyZXNzLCBpdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgb2JqZWN0ID0gbmV3IGRyYWdPYmplY3QoYWRyZXNzLCBpdGVtLCBlLmNsaWVudFgsIGUuY2xpZW50WSk7CiAgICAgICAgdGhpcy4kZW1pdCgib25Nb3VzZURvd24iLCBvYmplY3QpOwogICAgICB9CgogICAgICB0aGlzLmxhc3RDbGljayA9IERhdGUubm93KCkgKyB0aGlzLmNsaWNrRGVsYXk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ListItems.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"list\"\r\n        :class=\"{'nopoint': canDrop}\"\r\n        :style=\"{'width': width == undefined ? '96%' : `${width * 5.6}rem`}\"\r\n    >\r\n        <div \r\n            class=\"list-item\" :id=\"canDrop ? 'drop' : 'nodrop'\" \r\n            v-for=\"(item, index) in items\" \r\n            :key=\"index\" \r\n            :adress=\"adress(index)\" \r\n            :class=\"{'list-active': isActive(index), 'list-with-item': item && !item.promo, 'list-with-promo': item && item.promo}\"\r\n            @mousedown=\"onMouseDown(index, item, $event)\"\r\n        >\r\n            <img  v-if=\"item\" :src=\"item.getImage()\" alt=\"item\">\r\n            <div class=\"list-item-count\" v-if=\"item\">x{{item.count}}</div>\r\n            <div class=\"list-item-promo\" v-if=\"item && item.promo\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport dragObject from './classes/dargObject'\r\nimport {mapGetters} from 'vuex'\r\n\r\nexport default {\r\n    props:[\"id\", \"drag\", \"width\", \"sortByIndex\", \"canDrop\", \"checkInventory\"],\r\n    data() {\r\n        return {\r\n            lastClick: 0,\r\n            clickDelay: 500\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters('inventory', ['getById']),\r\n        inventory(){\r\n            if(this.checkInventory) return this.checkInventory;\r\n            else return this.getById(this.id);\r\n        },\r\n        items(){\r\n            const items = [];\r\n            const size = Math.max(this.inventory.size, this.inventory.items.length);\r\n            for (let i = 0; i < size; i++) {\r\n                if(this.sortByIndex){\r\n                    const index = this.inventory.items.findIndex(item=>item.index == i);\r\n                    items.push(index === -1 ? null : this.inventory.items[index]);\r\n                }else{\r\n                    items.push(this.inventory.items[i] == undefined ? null : this.inventory.items[i]);\r\n                }\r\n            }\r\n            return items;\r\n        }\r\n    },\r\n    methods: {\r\n        adress(index){\r\n            return `inv_${this.id}_${index}`\r\n        },\r\n        isActive(index){\r\n            return this.drag && this.adress(index) == this.drag.overAdress\r\n        },\r\n        onMouseDown(index, item, e){\r\n            if(item == null) return;\r\n            var adress = this.adress(index);\r\n            if(e.button === 2){\r\n                if(item.isUsable() || item.isWeapon() || item.isMask()){\r\n                    this.$emit(\"onDoubleClick\", adress, item)\r\n                }\r\n            }else if(this.lastClick > Date.now()){\r\n                if(item.isUsable())                    \r\n                    this.$emit(\"onDoubleClick\", adress, item)\r\n                \r\n            }else{\r\n                const object = new dragObject(adress, item, e.clientX, e.clientY);\r\n                this.$emit(\"onMouseDown\", object)\r\n            }\r\n            this.lastClick = Date.now() + this.clickDelay;            \r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.list{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    overflow: hidden auto;\r\n    margin: auto;\r\n    max-height: 33rem;\r\n    &::-webkit-scrollbar {\r\n      width: 2px;\r\n    }\r\n    &::-webkit-scrollbar-track {\r\n      border: solid 0 transparent;\r\n      margin: .1rem;\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n      border: solid 0 transparent;      \r\n      background-color: rgba(#fff,.1);\r\n    }\r\n    &-item{\r\n        width: 4.5rem;\r\n        height: 4.5rem;\r\n        margin: 0 1rem 1rem 0;\r\n        background: rgba(255, 255, 255, 0.03);\r\n        border: 2px solid rgba(255, 255, 255, 0.1);\r\n        box-sizing: border-box;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        position: relative;\r\n        img{\r\n            width: 70%;\r\n            height: 70%;\r\n            -webkit-user-drag: none;\r\n            -o-user-drag: none;\r\n            pointer-events: none;            \r\n        }\r\n        &-count{\r\n            color: #fff;\r\n            position: absolute;\r\n            top: .1rem;\r\n            left: .3rem;\r\n            font-size: .9rem;\r\n            line-height: 1.2rem;\r\n            letter-spacing: .03rem;\r\n        }\r\n        &-promo{\r\n            position: absolute;\r\n            height: .01rem;\r\n            width: 100%;\r\n            left: 0;\r\n            bottom: 0;\r\n            background: #B6D300;\r\n        }\r\n    }\r\n    &-active{\r\n        border: 2px solid rgba(255, 255, 255, 0.6);\r\n        \r\n    }\r\n    &-with-item{\r\n        background: radial-gradient(80.56% 80.56% at 50% 76.11%, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0) 100%);\r\n    }\r\n    &-with-promo{        \r\n        background: radial-gradient(80.56% 80.56% at 50% 76.11%, rgba(182, 211, 0, 0.2) 0%, rgba(182, 211, 0, 0) 100%);\r\n    }\r\n}\r\n</style>"],"sourceRoot":"src/views/Inventory"}]}