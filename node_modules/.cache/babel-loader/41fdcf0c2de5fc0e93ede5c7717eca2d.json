{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\thread-loader\\dist\\cjs.js!C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js!C:\\gta go\\Gui\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\gta go\\Gui\\src\\store\\smartphone\\index.js","dependencies":[{"path":"C:\\gta go\\Gui\\src\\store\\smartphone\\index.js","mtime":1629112495827},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1685190017367},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\eslint-loader\\index.js","mtime":1685190018634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IGJhbmtQYWdlIGZyb20gJy4vbW9kdWxlcy9iYW5rLXBhZ2UnOwppbXBvcnQgd2VhdGhlclBhZ2UgZnJvbSAnLi9tb2R1bGVzL3dlYXRoZXItcGFnZSc7CmltcG9ydCByYWRpb1BhZ2UgZnJvbSAnLi9tb2R1bGVzL3JhZGlvLXBhZ2UnOwppbXBvcnQgZm9yYmVzUGFnZSBmcm9tICcuL21vZHVsZXMvZm9yYmVzLXBhZ2UnOwppbXBvcnQgbmV3c1BhZ2UgZnJvbSAnLi9tb2R1bGVzL25ld3MtcGFnZSc7CmltcG9ydCBtZXNzYWdlUGFnZSBmcm9tICcuL21vZHVsZXMvbWVzc2FnZS1wYWdlJzsKaW1wb3J0IHRheGlQYWdlIGZyb20gJy4vbW9kdWxlcy90YXhpLXBhZ2UnOwppbXBvcnQgYXBwUGFnZSBmcm9tICcuL21vZHVsZXMvYXBwLXBhZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgcGhvbmVCYWxhbmNlOiAxMDAsCiAgICBub3RpZmljYXRpb25zU291bmRzOiBbewogICAgICBpZDogMCwKICAgICAgc291bmROYW1lOiAnbm90aWZpY2F0aW9uc19jaG9yZCcsCiAgICAgIHRpdGxlOiAnQ2hvcmQnCiAgICB9LCB7CiAgICAgIGlkOiAxLAogICAgICBzb3VuZE5hbWU6ICdub3RpZmljYXRpb25zX2JhbWJvbycsCiAgICAgIHRpdGxlOiAnQmFtYm9vJwogICAgfSwgewogICAgICBpZDogMiwKICAgICAgc291bmROYW1lOiAnbm90aWZpY2F0aW9uc19idWJibGUnLAogICAgICB0aXRsZTogJ0J1YmJsZScKICAgIH0sIHsKICAgICAgaWQ6IDMsCiAgICAgIHNvdW5kTmFtZTogJ25vdGlmaWNhdGlvbnNfZW1haWwnLAogICAgICB0aXRsZTogJ0VtYWlsJwogICAgfSwgewogICAgICBpZDogNCwKICAgICAgc291bmROYW1lOiAnbm90aWZpY2F0aW9uc19oYXZlYW1lc3NhZ2UnLAogICAgICB0aXRsZTogJ1lvdSBoYXZlIGEgbWVzc2FnZScKICAgIH0sIHsKICAgICAgaWQ6IDUsCiAgICAgIHNvdW5kTmFtZTogJ25vdGlmaWNhdGlvbnNfcGluZycsCiAgICAgIHRpdGxlOiAnUGluZycKICAgIH0sIHsKICAgICAgaWQ6IDYsCiAgICAgIHNvdW5kTmFtZTogJ25vdGlmaWNhdGlvbnNfc25lZXplJywKICAgICAgdGl0bGU6ICdTbmVlemUnCiAgICB9LCB7CiAgICAgIGlkOiA3LAogICAgICBzb3VuZE5hbWU6ICdub3RpZmljYXRpb25zX3RlcXVpbGEnLAogICAgICB0aXRsZTogJ1RlcXVpbGEnCiAgICB9LCB7CiAgICAgIGlkOiA4LAogICAgICBzb3VuZE5hbWU6ICdub3RpZmljYXRpb25zX3ZpYnJvJywKICAgICAgdGl0bGU6ICdWaWJybycKICAgIH1dLAogICAgcmluZ3RvbmVzU291bmRzOiBbewogICAgICBpZDogMCwKICAgICAgc291bmROYW1lOiAncmluZ3RvbmVfcmVmbGVjdGlvbicsCiAgICAgIHRpdGxlOiAnUmVmbGVjdGlvbicKICAgIH0sIHsKICAgICAgaWQ6IDEsCiAgICAgIHNvdW5kTmFtZTogJ3Jpbmd0b25lX2FwZXgnLAogICAgICB0aXRsZTogJ0FwZXgnCiAgICB9LCB7CiAgICAgIGlkOiAyLAogICAgICBzb3VuZE5hbWU6ICdyaW5ndG9uZV9iZWFjb24nLAogICAgICB0aXRsZTogJ0JlYWNvbicKICAgIH0sIHsKICAgICAgaWQ6IDMsCiAgICAgIHNvdW5kTmFtZTogJ3Jpbmd0b25lX2J1bGxldGluJywKICAgICAgdGl0bGU6ICdCdWxsZXRpbicKICAgIH0sIHsKICAgICAgaWQ6IDQsCiAgICAgIHNvdW5kTmFtZTogJ3Jpbmd0b25lX2Nvc21pYycsCiAgICAgIHRpdGxlOiAnQ29zbWljJwogICAgfSwgewogICAgICBpZDogNSwKICAgICAgc291bmROYW1lOiAncmluZ3RvbmVfY3J5c3RhbHMnLAogICAgICB0aXRsZTogJ0NyeXN0YWxzJwogICAgfSwgewogICAgICBpZDogNiwKICAgICAgc291bmROYW1lOiAncmluZ3RvbmVfaGlsbHNpZGUnLAogICAgICB0aXRsZTogJ0hpbGxzaWRlJwogICAgfSwgewogICAgICBpZDogNywKICAgICAgc291bmROYW1lOiAncmluZ3RvbmVfaWxsdW1pbmF0ZScsCiAgICAgIHRpdGxlOiAnSWxsdW1pbmF0ZScKICAgIH0sIHsKICAgICAgaWQ6IDgsCiAgICAgIHNvdW5kTmFtZTogJ3Jpbmd0b25lX3ByZXN0bycsCiAgICAgIHRpdGxlOiAnUHJlc3RvJwogICAgfV0sCiAgICBjdXJyZW50VGFiOiB7CiAgICAgIGtleTogJ0Rlc2t0b3BUYWInLAogICAgICBzZWN0aW9uOiBudWxsLAogICAgICBzdWJzZWN0aW9uOiBudWxsLAogICAgICBkYXRhOiBudWxsCiAgICB9LAogICAgYmFja2dyb3VuZFRhYnM6IHsKICAgICAgLyogImtleSI6IHsgc2VjdGlvbiwgc3Vic2VjdGlvbiwgZGF0YSB9ICovCiAgICB9LAogICAgY29sb3JUaGVtZTogey8vIGhlYWRlcjogJ2RhcmsnLAogICAgICAvLyBidXR0b246ICdkYXJrJwogICAgfSwKICAgIGNvbmZpZ3VyYXRpb246IHsKICAgICAgVXNlcm5hbWU6ICdEYXJsZW5lX1JvYmVydHNvbicsCiAgICAgIE51bWJlcjogODgwMDU1NTM1MzUsCiAgICAgIElzQWlycGxhbmVNb2RlOiBmYWxzZSwKICAgICAgTm90aWZpY2F0aW9uU291bmQ6IDAsCiAgICAgIFJpbmd0b25lOiAwLAogICAgICBXYWxscGFwZXI6IDEKICAgIH0sCiAgICBnZW9sb2NhdGlvbjogewogICAgICBjdXJyZW50UG9zaXRpb246IHsKICAgICAgICB4OiAyNzcuMiwKICAgICAgICB5OiA3MzcuMiwKICAgICAgICB6OiA4MzcuMQogICAgICB9LAogICAgICB6b25lTmFtZTogIk5PIiwKICAgICAgc3RyZWV0TmFtZTogIkxPQ0FUSU9OIgogICAgfSwKICAgIGNvbnRhY3RzOiBbLy8geyBpZDogNywgbmFtZTogJ0NvbmFuX0JhcmJhcmlhbicsIG51bWJlcjogODgzMDU1NzM1MzUgfSwKICAgICAgLy8geyBpZDogMCwgbmFtZTogJ0FicmFoYW1fTWludCcsIG51bWJlcjogODgwMDU1NTM1MzUgfSwKICAgICAgLy8geyBpZDogMywgbmFtZTogJ2FsZnJlZF9Cb25kJywgbnVtYmVyOiA4ODAwNTU0MzUzNSB9LAogICAgXSwKICAgIGJsb2NrZWRDb250YWN0czogWy8vIHsgbnVtYmVyOiA4ODMwNTU0MzUzNSB9CiAgICBdLAogICAgY2FsbHM6IFsvLyB7IGlkOiAwLCBuYW1lOiAnQ29uYW5fQmFyYmFyaWFuJywgZGF0ZTogJzEzOjIwJywgdHlwZTogJ291dGdvaW5nJyB9LAogICAgICAvLyB7IGlkOiAxLCBuYW1lOiAnQ29uYW5fQmFyYmFyaWFuJywgZGF0ZTogJzE0OjIwJywgdHlwZTogJ2luY29tZScsIGlzU3VjY2Vzc2Z1bDogZmFsc2UgfSwKICAgICAgLy8geyBpZDogMiwgbmFtZTogJzgwMDc3NzM1NCcsIGRhdGU6ICcxNDoyMCcsIHR5cGU6ICdvdXRnb2luZycgfSwKICAgIF0sCiAgICBjYWxsRGF0YTogewogICAgICBkZXN0aW5hdGlvbjogJzQ0NDUyMScsCiAgICAgIG51bWJlcjogNDQ0NTIxLAogICAgICBzdGF0dXM6ICdvdXRjb21lJwogICAgfSwKICAgIGNvbnRhY3RzVXNlckRhdGE6IHsKICAgICAgaXNLbm93bjogdHJ1ZSwKICAgICAgbmFtZTogJ0JyYW5kb25fQm9uZCcsCiAgICAgIGlzQmxvY2tlZDogbnVsbCwKICAgICAgbnVtYmVyOiA4Nzk0MzYsCiAgICAgIGNhbGxIaXN0b3J5OiBbLy8geyBpZDogMCwgdHlwZTogJ2luY29tZScsIGRhdGU6ICcxMS4wOS4yMDIwJywgZHVyYXRpb246IDE2MCB9LAogICAgICAgIC8vIHsgaWQ6IDEsIHR5cGU6ICdvdXRnb2luZycsIGRhdGU6ICcyMS4wOS4yMDIwJywgZHVyYXRpb246IDE2MCB9LAogICAgICAgIC8vIHsgaWQ6IDIsIHR5cGU6ICdvdXRnb2luZycsIGRhdGU6ICcyMS4wOS4yMDIwJywgZHVyYXRpb246IDE2MCB9LAogICAgICBdCiAgICB9LAogICAgbm90aWZpY2F0aW9uRGF0YTogbnVsbCwKICAgIGdwc0RhdGE6IHsKICAgICAgY3VycmVudEFyZWE6ICdTb3V0aCBEYWtvdGEgODM0NzUnLAogICAgICBjdXJyZW50TG9jYXRpb246ICcyNzE1IEFzaCBEci4gU2FuIEpvc2UnLAogICAgICBjYXRlZ29yaWVzOiBbewogICAgICAgIHRpdGxlOiAncGhvbmU6Z3BzOmNhdDoxJywKICAgICAgICBpY29uOiAnZ3VuJywKICAgICAgICBrZXk6ICdndW4nCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ3Bob25lOmdwczpjYXQ6MicsCiAgICAgICAgaWNvbjogJ3RTaGlydCcsCiAgICAgICAga2V5OiAnY2xvdGhlcycKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAncGhvbmU6Z3BzOmNhdDozJywKICAgICAgICBpY29uOiAnZ292ZXJtZW50JywKICAgICAgICBrZXk6ICdnb3YnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ3Bob25lOmdwczpjYXQ6NCcsCiAgICAgICAgaWNvbjogJ2JyaWVmY2FzZScsCiAgICAgICAga2V5OiAnd29ya3MnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ3Bob25lOmdwczpjYXQ6NScsCiAgICAgICAgaWNvbjogJ3NrdWxsJywKICAgICAgICBrZXk6ICdnYW5ncycKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAncGhvbmU6Z3BzOmNhdDo2JywKICAgICAgICBpY29uOiAnYXRtJywKICAgICAgICBrZXk6ICdhdG1zJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdwaG9uZTpncHM6Y2F0OjcnLAogICAgICAgIGljb246ICdjYXIgJywKICAgICAgICBrZXk6ICdjYXJyZW50JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdwaG9uZTpncHM6Y2F0OjgnLAogICAgICAgIGljb246ICdmdWVsJywKICAgICAgICBrZXk6ICdnYXNzdGF0aW9ucycKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAnMjQvNycsCiAgICAgICAgaWNvbjogJ3N0b3JlJywKICAgICAgICBrZXk6ICdzaG9wczI0JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdwaG9uZTpncHM6Y2F0OjknLAogICAgICAgIGljb246ICdjYXJLZXknLAogICAgICAgIGtleTogJ2F1dG9yb29tcycKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAncGhvbmU6Z3BzOmNhdDoxMCcsCiAgICAgICAgaWNvbjogJ2J1cmdlcicsCiAgICAgICAga2V5OiAnYnVyZ2Vyc2hvdHMnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ3Bob25lOmdwczpjYXQ6MTEnLAogICAgICAgIGljb246ICd3YXRlckRyb3BzJywKICAgICAgICBrZXk6ICdjYXJ3YXNoZXMnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ3Bob25lOmdwczpjYXQ6MTInLAogICAgICAgIGljb246ICdwaW5Ub29sJywKICAgICAgICBrZXk6ICdzZXJ2aWNlc3RhdGlvbicKICAgICAgfV0sCiAgICAgIF9jYWNoZWRJdGVtczogewogICAgICAgICJhdG1zIjogW3sKICAgICAgICAgIFRpdGxlOiAn0JHQsNC90LrQvtC80LDRgicsCiAgICAgICAgICBJY29uOiAnYXRtJywKICAgICAgICAgIEFkZHJlc3M6ICczNTE3IFcuIEdyYXkgU3QuIFV0aWNhLCBQZW5uc3lsdmFuaWEgNTc4NjcnLAogICAgICAgICAgUG9zaXRpb246IHsKICAgICAgICAgICAgWDogMCwKICAgICAgICAgICAgWTogMCwKICAgICAgICAgICAgWjogMAogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGNhdGVnb3J5SXRlbXM6IFt7CiAgICAgICAgdGl0bGU6ICfQntGA0YPQttC10LnQvdGL0LUg0LzQsNCz0LDQt9C40L3RiyDihJYxMicsCiAgICAgICAgaWNvbjogJ2Z1ZWwnLAogICAgICAgIGFkZHJlc3M6ICczNTE3IFcuIEdyYXkgU3QuIFV0aWNhLCBQZW5uc3lsdmFuaWEgNTc4NjcnLAogICAgICAgIGRpc3RhbmNlOiAxMjAwMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfQntGA0YPQttC10LnQvdGL0LUg0LzQsNCz0LDQt9C40L3RiyDihJYxMicsCiAgICAgICAgaWNvbjogJ2Z1ZWwnLAogICAgICAgIGFkZHJlc3M6ICczNTE3IFcuIEdyYXkgU3QuIFV0aWNhLCBQZW5uc3lsdmFuaWEgNTc4NjcnLAogICAgICAgIGRpc3RhbmNlOiAxMjAwMAogICAgICB9XQogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRDdXJyZW50VGFiOiBmdW5jdGlvbiBzZXRDdXJyZW50VGFiKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBrZXkgPSBfcmVmLmtleSwKICAgICAgICAgIF9yZWYkc2VjdGlvbiA9IF9yZWYuc2VjdGlvbiwKICAgICAgICAgIHNlY3Rpb24gPSBfcmVmJHNlY3Rpb24gPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmJHNlY3Rpb24sCiAgICAgICAgICBfcmVmJHN1YnNlY3Rpb24gPSBfcmVmLnN1YnNlY3Rpb24sCiAgICAgICAgICBzdWJzZWN0aW9uID0gX3JlZiRzdWJzZWN0aW9uID09PSB2b2lkIDAgPyBudWxsIDogX3JlZiRzdWJzZWN0aW9uLAogICAgICAgICAgX3JlZiRkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgZGF0YSA9IF9yZWYkZGF0YSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkZGF0YTsKICAgICAgaWYgKCFkYXRhKSBkYXRhID0gewogICAgICAgIGxvY2F0aW9uOiB7CiAgICAgICAgICBrZXk6IHN0YXRlLmN1cnJlbnRUYWIua2V5LAogICAgICAgICAgc2VjdGlvbjogc3RhdGUuY3VycmVudFRhYi5zZWN0aW9uLAogICAgICAgICAgc3Vic2VjdGlvbjogc3RhdGUuY3VycmVudFRhYi5zdWJzZWN0aW9uCiAgICAgICAgfQogICAgICB9O2Vsc2UgZGF0YS5sb2NhdGlvbiA9IHsKICAgICAgICBrZXk6IHN0YXRlLmN1cnJlbnRUYWIua2V5LAogICAgICAgIHNlY3Rpb246IHN0YXRlLmN1cnJlbnRUYWIuc2VjdGlvbiwKICAgICAgICBzdWJzZWN0aW9uOiBzdGF0ZS5jdXJyZW50VGFiLnN1YnNlY3Rpb24KICAgICAgfTsKICAgICAgc3RhdGUub2xkVGFiID0gc3RhdGUuY3VycmVudFRhYjsKICAgICAgc3RhdGUuY3VycmVudFRhYiA9IHsKICAgICAgICBrZXk6IGtleSwKICAgICAgICBzZWN0aW9uOiBzZWN0aW9uLAogICAgICAgIHN1YnNlY3Rpb246IHN1YnNlY3Rpb24sCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9OwogICAgICBzdGF0ZS5iYWNrZ3JvdW5kVGFic1trZXldID0gewogICAgICAgIHNlY3Rpb246IHNlY3Rpb24sCiAgICAgICAgc3Vic2VjdGlvbjogc3Vic2VjdGlvbiwKICAgICAgICBkYXRhOiBkYXRhCiAgICAgIH07CiAgICB9LAogICAgc2V0T2xkVGFiOiBmdW5jdGlvbiBzZXRPbGRUYWIoc3RhdGUpIHsKICAgICAgc3RhdGUuY3VycmVudFRhYiA9IHN0YXRlLm9sZFRhYjsKICAgIH0sCiAgICBzZXRDb25maWdXYWxscGFwZXI6IGZ1bmN0aW9uIHNldENvbmZpZ1dhbGxwYXBlcihzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUuY29uZmlndXJhdGlvbi5XYWxscGFwZXIgPSB2YWx1ZTsKICAgIH0sCiAgICBzZXRDb25maWdOb3RpZmljYXRpb25Tb3VuZDogZnVuY3Rpb24gc2V0Q29uZmlnTm90aWZpY2F0aW9uU291bmQoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLmNvbmZpZ3VyYXRpb24uTm90aWZpY2F0aW9uU291bmQgPSB2YWx1ZTsKICAgIH0sCiAgICBzZXRDb25maWdSaW5ndG9uZVNvdW5kOiBmdW5jdGlvbiBzZXRDb25maWdSaW5ndG9uZVNvdW5kKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5jb25maWd1cmF0aW9uLlJpbmd0b25lID0gdmFsdWU7CiAgICB9LAogICAgc2V0Q29uZmlnSXNBaXJwbGFuZU1vZGU6IGZ1bmN0aW9uIHNldENvbmZpZ0lzQWlycGxhbmVNb2RlKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5jb25maWd1cmF0aW9uLklzQWlycGxhbmVNb2RlID0gdmFsdWU7CiAgICB9LAogICAgc2V0Q29udGFjdHNVc2VyRGF0YTogZnVuY3Rpb24gc2V0Q29udGFjdHNVc2VyRGF0YShzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5jb250YWN0c1VzZXJEYXRhID0gZGF0YTsKICAgIH0sCiAgICBzZXRDb2xvclRoZW1lOiBmdW5jdGlvbiBzZXRDb2xvclRoZW1lKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLmNvbG9yVGhlbWUgPSBkYXRhOwogICAgfSwKICAgIHNldEN1cnJlbnRQb3NpdGlvbjogZnVuY3Rpb24gc2V0Q3VycmVudFBvc2l0aW9uKHN0YXRlLCBsb2NhdGlvbikgewogICAgICBzdGF0ZS5nZW9sb2NhdGlvbiA9IGxvY2F0aW9uOwogICAgfSwKICAgIC8vI3JlZ2lvbiBDb250YWN0cwogICAgYWRkQ29udGFjdHM6IGZ1bmN0aW9uIGFkZENvbnRhY3RzKHN0YXRlLCBkYXRhKSB7CiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoY29udGFjdCkgewogICAgICAgIHN0YXRlLmNvbnRhY3RzLnB1c2goY29udGFjdCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZENvbnRhY3Q6IGZ1bmN0aW9uIGFkZENvbnRhY3Qoc3RhdGUsIGNvbnRhY3REYXRhKSB7CiAgICAgIHN0YXRlLmNvbnRhY3RzLnB1c2goY29udGFjdERhdGEpOwoKICAgICAgaWYgKHN0YXRlLmNvbnRhY3RzVXNlckRhdGEubnVtYmVyID09PSBjb250YWN0RGF0YS5udW1iZXIpIHsKICAgICAgICBzdGF0ZS5jb250YWN0c1VzZXJEYXRhLmlzS25vd24gPSB0cnVlOwogICAgICAgIHN0YXRlLmNvbnRhY3RzVXNlckRhdGEuaWQgPSBjb250YWN0RGF0YS5pZDsKICAgICAgICBzdGF0ZS5jb250YWN0c1VzZXJEYXRhLm5hbWUgPSBjb250YWN0RGF0YS5uYW1lOwogICAgICB9CiAgICB9LAogICAgZWRpdENvbnRhY3Q6IGZ1bmN0aW9uIGVkaXRDb250YWN0KHN0YXRlLCBjb250YWN0RGF0YSkgewogICAgICB2YXIgY29udGFjdEluZGV4ID0gc3RhdGUuY29udGFjdHMuZmluZEluZGV4KGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMuaWQgPT09IGNvbnRhY3REYXRhLmlkOwogICAgICB9KTsKCiAgICAgIGlmIChjb250YWN0SW5kZXggIT09IC0xKSB7CiAgICAgICAgc3RhdGUuY29udGFjdHNbY29udGFjdEluZGV4XSA9IGNvbnRhY3REYXRhOwogICAgICB9CgogICAgICBpZiAoc3RhdGUuY29udGFjdHNVc2VyRGF0YS5pZCA9PT0gY29udGFjdERhdGEuaWQpIHsKICAgICAgICBzdGF0ZS5jb250YWN0c1VzZXJEYXRhLm5hbWUgPSBjb250YWN0RGF0YS5uYW1lOwogICAgICAgIHN0YXRlLmNvbnRhY3RzVXNlckRhdGEubnVtYmVyID0gY29udGFjdERhdGEubnVtYmVyOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlQ29udGFjdDogZnVuY3Rpb24gcmVtb3ZlQ29udGFjdChzdGF0ZSwgY29udGFjdElkKSB7CiAgICAgIHZhciBjb250YWN0SW5kZXggPSBzdGF0ZS5jb250YWN0cy5maW5kSW5kZXgoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5pZCA9PT0gY29udGFjdElkOwogICAgICB9KTsKCiAgICAgIGlmIChjb250YWN0SW5kZXggIT09IC0xKSB7CiAgICAgICAgc3RhdGUuY29udGFjdHMuc3BsaWNlKGNvbnRhY3RJbmRleCwgMSk7CgogICAgICAgIGlmIChzdGF0ZS5jb250YWN0c1VzZXJEYXRhLmlkID09PSBjb250YWN0SWQpIHsKICAgICAgICAgIHN0YXRlLmNvbnRhY3RzVXNlckRhdGEuaXNLbm93biA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFkZEJsb2NrSXRlbXM6IGZ1bmN0aW9uIGFkZEJsb2NrSXRlbXMoc3RhdGUsIGJsb2NrZWRDb250YWN0cykgewogICAgICBibG9ja2VkQ29udGFjdHMuZm9yRWFjaChmdW5jdGlvbiAoYmxvY2tlZCkgewogICAgICAgIHN0YXRlLmJsb2NrZWRDb250YWN0cy5wdXNoKGJsb2NrZWQpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRCbG9ja0l0ZW06IGZ1bmN0aW9uIGFkZEJsb2NrSXRlbShzdGF0ZSwgYmxvY2tlZCkgewogICAgICB2YXIgb2xkQmxvY2tlZCA9IHN0YXRlLmJsb2NrZWRDb250YWN0cy5maW5kKGZ1bmN0aW9uIChiKSB7CiAgICAgICAgcmV0dXJuIGIubnVtYmVyID09PSBibG9ja2VkLm51bWJlcjsKICAgICAgfSk7CgogICAgICBpZiAoIW9sZEJsb2NrZWQpIHsKICAgICAgICBzdGF0ZS5ibG9ja2VkQ29udGFjdHMucHVzaChibG9ja2VkKTsKCiAgICAgICAgaWYgKHN0YXRlLmNvbnRhY3RzVXNlckRhdGEubnVtYmVyID09PSBibG9ja2VkLm51bWJlcikgewogICAgICAgICAgc3RhdGUuY29udGFjdHNVc2VyRGF0YS5pc0Jsb2NrZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlbW92ZUJsb2NrSXRlbTogZnVuY3Rpb24gcmVtb3ZlQmxvY2tJdGVtKHN0YXRlLCBudW1iZXIpIHsKICAgICAgdmFyIGJsb2NrZWRJbmRleCA9IHN0YXRlLmJsb2NrZWRDb250YWN0cy5maW5kSW5kZXgoZnVuY3Rpb24gKGIpIHsKICAgICAgICByZXR1cm4gYi5udW1iZXIgPT09IG51bWJlcjsKICAgICAgfSk7CgogICAgICBpZiAoYmxvY2tlZEluZGV4ICE9PSAtMSkgewogICAgICAgIHN0YXRlLmJsb2NrZWRDb250YWN0cy5zcGxpY2UoYmxvY2tlZEluZGV4LCAxKTsKCiAgICAgICAgaWYgKHN0YXRlLmNvbnRhY3RzVXNlckRhdGEubnVtYmVyID09PSBudW1iZXIpIHsKICAgICAgICAgIHN0YXRlLmNvbnRhY3RzVXNlckRhdGEuaXNCbG9ja2VkID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0UGVyc29uYWxDb25maWd1cmF0aW9uOiBmdW5jdGlvbiBzZXRQZXJzb25hbENvbmZpZ3VyYXRpb24oc3RhdGUsIF9yZWYyKSB7CiAgICAgIHZhciBOdW1iZXIgPSBfcmVmMi5OdW1iZXIsCiAgICAgICAgICBOYW1lID0gX3JlZjIuTmFtZTsKICAgICAgc3RhdGUuY29uZmlndXJhdGlvbi5OdW1iZXIgPSBOdW1iZXI7CiAgICAgIHN0YXRlLmNvbmZpZ3VyYXRpb24uVXNlcm5hbWUgPSBOYW1lOwogICAgfSwKICAgIHNldE9wZW5lZENvbnRhY3REYXRhOiBmdW5jdGlvbiBzZXRPcGVuZWRDb250YWN0RGF0YShzdGF0ZSwgY29udGFjdElkKSB7CiAgICAgIHZhciBjb250YWN0ID0gc3RhdGUuY29udGFjdHMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLmlkID09PSBjb250YWN0SWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGNvbnRhY3QpIHsKICAgICAgICB2YXIgaXNCbG9ja2VkID0gc3RhdGUuYmxvY2tlZENvbnRhY3RzLmZpbmRJbmRleChmdW5jdGlvbiAoYikgewogICAgICAgICAgcmV0dXJuIGIubnVtYmVyID09PSBjb250YWN0Lm51bWJlcjsKICAgICAgICB9KSAhPT0gLTE7CiAgICAgICAgdmFyIGNhbGxIaXN0b3J5ID0gc3RhdGUuY2FsbHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gYy5udW1iZXIgPT09IGNvbnRhY3QubnVtYmVyOwogICAgICAgIH0pOwogICAgICAgIHN0YXRlLmNvbnRhY3RzVXNlckRhdGEgPSB7CiAgICAgICAgICBpZDogY29udGFjdElkLAogICAgICAgICAgaXNLbm93bjogdHJ1ZSwKICAgICAgICAgIG5hbWU6IGNvbnRhY3QubmFtZSwKICAgICAgICAgIGlzQmxvY2tlZDogaXNCbG9ja2VkLAogICAgICAgICAgbnVtYmVyOiBjb250YWN0Lm51bWJlciwKICAgICAgICAgIGNhbGxIaXN0b3J5OiBjYWxsSGlzdG9yeQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBzZXRPcGVuZWRDb250YWN0QnlOdW1iZXI6IGZ1bmN0aW9uIHNldE9wZW5lZENvbnRhY3RCeU51bWJlcihzdGF0ZSwgbnVtYmVyKSB7CiAgICAgIHZhciBjb250YWN0ID0gc3RhdGUuY29udGFjdHMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLm51bWJlciA9PT0gbnVtYmVyOwogICAgICB9KTsKCiAgICAgIGlmIChjb250YWN0KSB7CiAgICAgICAgdmFyIGlzQmxvY2tlZCA9IHN0YXRlLmJsb2NrZWRDb250YWN0cy5maW5kSW5kZXgoZnVuY3Rpb24gKGIpIHsKICAgICAgICAgIHJldHVybiBiLm51bWJlciA9PT0gY29udGFjdC5udW1iZXI7CiAgICAgICAgfSkgIT09IC0xOwogICAgICAgIHZhciBjYWxsSGlzdG9yeSA9IHN0YXRlLmNhbGxzLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMubnVtYmVyID09PSBjb250YWN0Lm51bWJlcjsKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5jb250YWN0c1VzZXJEYXRhID0gewogICAgICAgICAgaWQ6IGNvbnRhY3QuaWQsCiAgICAgICAgICBpc0tub3duOiB0cnVlLAogICAgICAgICAgbmFtZTogY29udGFjdC5uYW1lLAogICAgICAgICAgaXNCbG9ja2VkOiBpc0Jsb2NrZWQsCiAgICAgICAgICBudW1iZXI6IGNvbnRhY3QubnVtYmVyLAogICAgICAgICAgY2FsbEhpc3Rvcnk6IGNhbGxIaXN0b3J5CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX2lzQmxvY2tlZCA9IHN0YXRlLmJsb2NrZWRDb250YWN0cy5maW5kSW5kZXgoZnVuY3Rpb24gKGIpIHsKICAgICAgICAgIHJldHVybiBiLm51bWJlciA9PT0gbnVtYmVyOwogICAgICAgIH0pICE9PSAtMTsKCiAgICAgICAgdmFyIF9jYWxsSGlzdG9yeSA9IHN0YXRlLmNhbGxzLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMubnVtYmVyID09PSBudW1iZXI7CiAgICAgICAgfSk7CgogICAgICAgIHN0YXRlLmNvbnRhY3RzVXNlckRhdGEgPSB7CiAgICAgICAgICBpc0tub3duOiBmYWxzZSwKICAgICAgICAgIG5hbWU6IG51bWJlciwKICAgICAgICAgIG51bWJlcjogbnVtYmVyLAogICAgICAgICAgaXNCbG9ja2VkOiBfaXNCbG9ja2VkLAogICAgICAgICAgY2FsbEhpc3Rvcnk6IF9jYWxsSGlzdG9yeQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICAvLyNlbmRyZWdpb24gQ29udGFjdHMKICAgIC8vI3JlZ2lvbiBDYWxscwogICAgc2V0Tm90aWZpY2F0aW9uRGF0YTogZnVuY3Rpb24gc2V0Tm90aWZpY2F0aW9uRGF0YShzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5ub3RpZmljYXRpb25EYXRhID0gZGF0YTsKICAgIH0sCiAgICBzZXRGYWtlQ2FsbDogZnVuY3Rpb24gc2V0RmFrZUNhbGwoc3RhdGUsIF9yZWYzKSB7CiAgICAgIHZhciBjYWxsZXJOYW1lID0gX3JlZjMuY2FsbGVyTmFtZTsKICAgICAgc3RhdGUuY2FsbERhdGEgPSB7CiAgICAgICAgZGVzdGluYXRpb246IGNhbGxlck5hbWUsCiAgICAgICAgbnVtYmVyOiBjYWxsZXJOYW1lLAogICAgICAgIHN0YXR1czogJ2FjdGl2ZScsCiAgICAgICAgaXNGYWtlOiB0cnVlCiAgICAgIH07CiAgICAgIHN0YXRlLm9sZFRhYiA9IHN0YXRlLmN1cnJlbnRUYWI7CiAgICAgIHN0YXRlLmN1cnJlbnRUYWIgPSB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgdGhlbWU6ICdkYXJrJwogICAgICAgIH0sCiAgICAgICAga2V5OiAnQ2FsbFRhYicKICAgICAgfTsKICAgIH0sCiAgICBlbmRGYWtlQ2FsbDogZnVuY3Rpb24gZW5kRmFrZUNhbGwoc3RhdGUpIHsKICAgICAgc3RhdGUuY2FsbERhdGEuZHJvcFJlYXNvbiA9ICdwaG9uZTpjYWxsOmVuZCc7CiAgICAgIHN0YXRlLmNhbGxEYXRhLnN0YXR1cyA9ICdkcm9wJzsKICAgIH0sCiAgICBpbmNvbWVDYWxsOiBmdW5jdGlvbiBpbmNvbWVDYWxsKHN0YXRlLCBudW1iZXIpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgbmFtZTogbnVtYmVyLAogICAgICAgIG51bWJlcjogbnVtYmVyCiAgICAgIH07CiAgICAgIHZhciBjb250YWN0ID0gc3RhdGUuY29udGFjdHMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLm51bWJlciA9PT0gZGF0YS5udW1iZXI7CiAgICAgIH0pOwoKICAgICAgaWYgKGNvbnRhY3QpIHsKICAgICAgICBkYXRhLm5hbWUgPSBjb250YWN0Lm5hbWU7CiAgICAgIH0gLy8g0J7RgtC60YDRi9Cy0LDQtdC8INC90LAg0LLQtdGB0Ywg0Y3QutGA0LDQvQoKCiAgICAgIGlmIChzdGF0ZS5jdXJyZW50VGFiLmtleSA9PT0gJ0Rlc2t0b3BUYWInKSB7CiAgICAgICAgc3RhdGUuY2FsbERhdGEgPSB7CiAgICAgICAgICBkZXN0aW5hdGlvbjogZGF0YS5uYW1lLAogICAgICAgICAgbnVtYmVyOiBudW1iZXIsCiAgICAgICAgICBzdGF0dXM6ICdpbmNvbWUnCiAgICAgICAgfTsKICAgICAgICBzdGF0ZS5vbGRUYWIgPSBzdGF0ZS5jdXJyZW50VGFiOwogICAgICAgIHN0YXRlLmN1cnJlbnRUYWIgPSB7CiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHRoZW1lOiAnZGFyaycKICAgICAgICAgIH0sCiAgICAgICAgICBrZXk6ICdDYWxsVGFiJwogICAgICAgIH07CiAgICAgIH0gLy8g0JrQuNC00LDQtdC8INCyINC/0YPRiCDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1CiAgICAgIGVsc2UgewogICAgICAgICAgc3RhdGUubm90aWZpY2F0aW9uRGF0YSA9IHsKICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLAogICAgICAgICAgICBudW1iZXI6IGRhdGEubnVtYmVyCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgIGlmICghc3RhdGUuY29uZmlndXJhdGlvbi5Jc0FpcnBsYW5lTW9kZSkgewogICAgICAgIHZhciBzb3VuZCA9IHN0YXRlLnJpbmd0b25lc1NvdW5kcy5maW5kKGZ1bmN0aW9uIChycykgewogICAgICAgICAgcmV0dXJuIHJzLmlkID09PSBzdGF0ZS5jb25maWd1cmF0aW9uLlJpbmd0b25lOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoc291bmQpIHsKICAgICAgICAgIHdpbmRvdy5zZXREYXRhKCdzb3VuZHMvcGxheScsIHsKICAgICAgICAgICAgbmFtZTogc291bmQuc291bmROYW1lLAogICAgICAgICAgICB2b2x1bWU6IDAuMywKICAgICAgICAgICAgbG9vcDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdGFrZUNhbGw6IGZ1bmN0aW9uIHRha2VDYWxsKHN0YXRlLCBudW1iZXIpIHsKICAgICAgc3RhdGUubm90aWZpY2F0aW9uRGF0YSA9IG51bGw7CiAgICAgIHZhciBjb250YWN0ID0gc3RhdGUuY29udGFjdHMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLm51bWJlciA9PT0gbnVtYmVyOwogICAgICB9KTsKICAgICAgdmFyIG5hbWUgPSBudW1iZXI7CgogICAgICBpZiAoY29udGFjdCkgewogICAgICAgIG5hbWUgPSBjb250YWN0Lm5hbWU7CiAgICAgIH0KCiAgICAgIHN0YXRlLmNhbGxEYXRhID0gewogICAgICAgIGRlc3RpbmF0aW9uOiBuYW1lLAogICAgICAgIG51bWJlcjogbnVtYmVyLAogICAgICAgIHN0YXR1czogJ2FjdGl2ZScKICAgICAgfTsKICAgICAgc3RhdGUub2xkVGFiID0gc3RhdGUuY3VycmVudFRhYjsKICAgICAgc3RhdGUuY3VycmVudFRhYiA9IHsKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB0aGVtZTogJ2RhcmsnCiAgICAgICAgfSwKICAgICAgICBrZXk6ICdDYWxsVGFiJwogICAgICB9OwogICAgICB3aW5kb3cubXAudHJpZ2dlclNlcnZlcigncGhvbmU6OmNhbGxzOjp0YWtlJywgbnVtYmVyKTsKICAgICAgd2luZG93Lm1wLnRyaWdnZXIoJ3Bob25lOjpjYWxsczo6cGhvbmVVcCcpOwogICAgICB3aW5kb3cuc2V0RGF0YSgnc291bmRzL3N0b3AnKTsKICAgIH0sCiAgICBzZXRDYWxsQWN0aXZlOiBmdW5jdGlvbiBzZXRDYWxsQWN0aXZlKHN0YXRlLCBudW1iZXIpIHsKICAgICAgdmFyIGNvbnRhY3QgPSBzdGF0ZS5jb250YWN0cy5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMubnVtYmVyID09PSBudW1iZXI7CiAgICAgIH0pOwogICAgICB2YXIgbmFtZSA9IG51bWJlcjsKCiAgICAgIGlmIChjb250YWN0KSB7CiAgICAgICAgbmFtZSA9IGNvbnRhY3QubmFtZTsKICAgICAgfQoKICAgICAgc3RhdGUuY2FsbERhdGEubmFtZSA9IG5hbWU7CiAgICAgIHN0YXRlLmNhbGxEYXRhLm51bWJlciA9IG51bWJlcjsKICAgICAgc3RhdGUuY2FsbERhdGEuc3RhdHVzID0gJ2FjdGl2ZSc7CiAgICB9LAogICAgZHJvcENhbGw6IGZ1bmN0aW9uIGRyb3BDYWxsKHN0YXRlLCBfcmVmNCkgewogICAgICB2YXIgcmVhc29uID0gX3JlZjQucmVhc29uOwogICAgICBzdGF0ZS5jYWxsRGF0YS5kcm9wUmVhc29uID0gcmVhc29uOwogICAgICBzdGF0ZS5jYWxsRGF0YS5zdGF0dXMgPSAnZHJvcCc7CiAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCdwaG9uZTo6Y2FsbHM6OnBob25lRG93bicpOwogICAgICB3aW5kb3cuc2V0RGF0YSgnc291bmRzL3N0b3AnKTsKICAgIH0sCiAgICBzZXRDYWxsRGF0YTogZnVuY3Rpb24gc2V0Q2FsbERhdGEoc3RhdGUsIGRhdGEpIHsKICAgICAgZGF0YS5udW1iZXIgPSBkYXRhLmRlc3RpbmF0aW9uOwogICAgICB2YXIgY29udGFjdCA9IHN0YXRlLmNvbnRhY3RzLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5udW1iZXIgPT09IGRhdGEubnVtYmVyOwogICAgICB9KTsKCiAgICAgIGlmIChjb250YWN0KSB7CiAgICAgICAgZGF0YS5kZXN0aW5hdGlvbiA9IGNvbnRhY3QubmFtZTsKICAgICAgfQoKICAgICAgc3RhdGUuY2FsbERhdGEgPSBkYXRhOwoKICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnb3V0Y29tZScpIHsKICAgICAgICB3aW5kb3cubXAudHJpZ2dlclNlcnZlcigncGhvbmU6OmNhbGxzOjpjYWxsJywgZGF0YS5udW1iZXIpOwogICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCdwaG9uZTo6Y2FsbHM6OnBob25lVXAnKTsKICAgICAgfQogICAgfSwKICAgIC8vI2VuZHJlZ2lvbiBDYWxscwogICAgLy8jcmVnaW9uIENhbGwgaGlzdG9yeQogICAgbG9hZENhbGxoaXN0b3J5OiBmdW5jdGlvbiBsb2FkQ2FsbGhpc3Rvcnkoc3RhdGUsIGNhbGxzKSB7CiAgICAgIGNhbGxzLmZvckVhY2goZnVuY3Rpb24gKGNhbGwpIHsKICAgICAgICBjYWxsLnR5cGUgPSBjYWxsLnR5cGUgPT09IDAgPyAnaW5jb21lJyA6ICdvdXRnb2luZyc7CiAgICAgICAgY2FsbC5kYXRlICo9IDEwMDA7CgogICAgICAgIGlmICghc3RhdGUuY2FsbHMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMuaWQgPT09IGNhbGwuaWQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHN0YXRlLmNhbGxzLnB1c2goY2FsbCk7CiAgICAgICAgfSAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LIg0YLQtdC60YPRidC10LPQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8KCgogICAgICAgIGlmIChzdGF0ZS5jb250YWN0c1VzZXJEYXRhLm51bWJlciA9PT0gY2FsbC5udW1iZXIpIHsKICAgICAgICAgIGlmICghc3RhdGUuY29udGFjdHNVc2VyRGF0YS5jYWxsSGlzdG9yeS5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICAgIHJldHVybiBjLmlkID09PSBjYWxsLmlkOwogICAgICAgICAgfSkpIHsKICAgICAgICAgICAgc3RhdGUuY29udGFjdHNVc2VyRGF0YS5jYWxsSGlzdG9yeS5wdXNoKGNhbGwpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgc3RhdGUuY2FsbHMuc29ydChmdW5jdGlvbiAoYzEsIGMyKSB7CiAgICAgICAgICByZXR1cm4gYzIuZGF0ZSAtIGMxLmRhdGU7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vI2VuZHJlZ2lvbiBDYWxsIGhpc3RvcnkKICAgIGdwc19sb2FkRGF0YTogZnVuY3Rpb24gZ3BzX2xvYWREYXRhKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLmdwc0RhdGEuX2NhY2hlZEl0ZW1zID0gZGF0YTsKICAgIH0sCiAgICBzZXRQaG9uZUJhbGFuY2U6IGZ1bmN0aW9uIHNldFBob25lQmFsYW5jZShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUucGhvbmVCYWxhbmNlID0gdmFsdWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvKioNCiAgICAgKiDQldGB0LvQuCBrZXkg0YDQsNCy0LXQvSDRgtC10LrRg9GJ0LXQvNGDINC+0YLQutGA0YvRgtC+0LzRgyDRgtCw0LHRgywg0YLQviDQvtC9INGB0YDQsNC30YMg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0LXQs9C+Lg0KICAgICAqINCY0L3QsNGH0LUg0YHQvtGF0YDQsNC90Y/QtdGCINGB0LXQutGG0LjRjiDQtNC70Y8g0LrQu9GO0YfQsCDQuCDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9GA0LjQu9C+0LbQtdC90LjRjyDQsdGD0LTQtdGCINC+0YLQutGA0YvRgtCwINGN0YLQsCDRgdC10LrRhtC40Y8NCiAgICAgKi8KICAgIHNldFRhYk9yQmFjazogZnVuY3Rpb24gc2V0VGFiT3JCYWNrKF9yZWY1LCBfcmVmNikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgdmFyIGtleSA9IF9yZWY2LmtleSwKICAgICAgICAgIF9yZWY2JHNlY3Rpb24gPSBfcmVmNi5zZWN0aW9uLAogICAgICAgICAgc2VjdGlvbiA9IF9yZWY2JHNlY3Rpb24gPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmNiRzZWN0aW9uLAogICAgICAgICAgX3JlZjYkc3Vic2VjdGlvbiA9IF9yZWY2LnN1YnNlY3Rpb24sCiAgICAgICAgICBzdWJzZWN0aW9uID0gX3JlZjYkc3Vic2VjdGlvbiA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY2JHN1YnNlY3Rpb24sCiAgICAgICAgICBfcmVmNiRkYXRhID0gX3JlZjYuZGF0YSwKICAgICAgICAgIGRhdGEgPSBfcmVmNiRkYXRhID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjYkZGF0YTsKCiAgICAgIGlmIChrZXkgPT0gc3RhdGUuY3VycmVudFRhYi5rZXkpIHsKICAgICAgICBjb21taXQoJ3NldEN1cnJlbnRUYWInLCB7CiAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb24sCiAgICAgICAgICBzdWJzZWN0aW9uOiBzdWJzZWN0aW9uLAogICAgICAgICAgZGF0YTogZGF0YQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmJhY2tncm91bmRUYWJzW2tleV0gPSB7CiAgICAgICAgICBzZWN0aW9uOiBzZWN0aW9uLAogICAgICAgICAgc3Vic2VjdGlvbjogc3Vic2VjdGlvbiwKICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgbXNnX2dvVG9DaGF0czogZnVuY3Rpb24gbXNnX2dvVG9DaGF0cyhfcmVmNykgewogICAgICB2YXIgc3RhdGUgPSBfcmVmNy5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjcuZGlzcGF0Y2g7CgogICAgICBpZiAoc3RhdGUuY3VycmVudFRhYi5rZXkgPT09ICdNZXNzZW5nZXJUYWInICYmIHN0YXRlLmN1cnJlbnRUYWIuc2VjdGlvbiA9PT0gJ1JlZ2lzdHJhdGlvblNlY3Rpb24nKSB7CiAgICAgICAgdmFyIGtleSA9IHN0YXRlLmN1cnJlbnRUYWIua2V5OwogICAgICAgIHZhciBzZWN0aW9uID0gJ0dlbmVyYWxTZWN0aW9uJzsKICAgICAgICB2YXIgc3Vic2VjdGlvbiA9ICdHZW5lcmFsU3Vic2VjdGlvbic7CiAgICAgICAgY29tbWl0KCdzZXRDdXJyZW50VGFiJywgewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICBzZWN0aW9uOiBzZWN0aW9uLAogICAgICAgICAgc3Vic2VjdGlvbjogc3Vic2VjdGlvbiwKICAgICAgICAgIGRhdGE6IG51bGwKICAgICAgICB9KTsKICAgICAgICBkaXNwYXRjaCgnc21hcnRwaG9uZS9tZXNzYWdlUGFnZS9tc2dfZHJvcEN1cnJlbnRDaGF0Jyk7CiAgICAgIH0KICAgIH0sCiAgICBncHNfb3BlbkNhdGVnb3J5OiBmdW5jdGlvbiBncHNfb3BlbkNhdGVnb3J5KF9yZWY4LCBjYXRlZ29yeUtleSkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmOC5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKCiAgICAgIGZ1bmN0aW9uIGdldERpc3RhbmNlKHBvczEsIHBvczIpIHsKICAgICAgICB2YXIgX3BvczIkWCwgX3BvczEkWCwgX3BvczIkWSwgX3BvczEkWSwgX3BvczIkWiwgX3BvczEkWjsKCiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdygoKF9wb3MyJFggPSBwb3MyLlgpICE9PSBudWxsICYmIF9wb3MyJFggIT09IHZvaWQgMCA/IF9wb3MyJFggOiBwb3MyLngpIC0gKChfcG9zMSRYID0gcG9zMS5YKSAhPT0gbnVsbCAmJiBfcG9zMSRYICE9PSB2b2lkIDAgPyBfcG9zMSRYIDogcG9zMS54KSwgMikgKyBNYXRoLnBvdygoKF9wb3MyJFkgPSBwb3MyLlkpICE9PSBudWxsICYmIF9wb3MyJFkgIT09IHZvaWQgMCA/IF9wb3MyJFkgOiBwb3MyLnkpIC0gKChfcG9zMSRZID0gcG9zMS5ZKSAhPT0gbnVsbCAmJiBfcG9zMSRZICE9PSB2b2lkIDAgPyBfcG9zMSRZIDogcG9zMS55KSwgMikgKyBNYXRoLnBvdygoKF9wb3MyJFogPSBwb3MyLlopICE9PSBudWxsICYmIF9wb3MyJFogIT09IHZvaWQgMCA/IF9wb3MyJFogOiBwb3MyLnopIC0gKChfcG9zMSRaID0gcG9zMS5aKSAhPT0gbnVsbCAmJiBfcG9zMSRaICE9PSB2b2lkIDAgPyBfcG9zMSRaIDogcG9zMS56KSwgMikpOwogICAgICB9CgogICAgICB2YXIgY2F0ZWdvcnkgPSBzdGF0ZS5ncHNEYXRhLmNhdGVnb3JpZXMuZmluZChmdW5jdGlvbiAoY2F0KSB7CiAgICAgICAgcmV0dXJuIGNhdC5rZXkgPT09IGNhdGVnb3J5S2V5OwogICAgICB9KTsKICAgICAgdmFyIHRpdGxlID0gY2F0ZWdvcnkudGl0bGU7CiAgICAgIHN0YXRlLmdwc0RhdGEuY2F0ZWdvcnlJdGVtcyA9IFtdOwoKICAgICAgaWYgKHN0YXRlLmdwc0RhdGEuX2NhY2hlZEl0ZW1zW2NhdGVnb3J5LmtleV0pIHsKICAgICAgICBzdGF0ZS5ncHNEYXRhLl9jYWNoZWRJdGVtc1tjYXRlZ29yeS5rZXldLmZvckVhY2goZnVuY3Rpb24gKGdwc0l0ZW0pIHsKICAgICAgICAgIHZhciBpdGVtID0gewogICAgICAgICAgICB0aXRsZTogZ3BzSXRlbS5UaXRsZSwKICAgICAgICAgICAgaWNvbjogY2F0ZWdvcnkuaWNvbiwKICAgICAgICAgICAgYWRkcmVzczogZ3BzSXRlbS5BZGRyZXNzLAogICAgICAgICAgICBwb3NpdGlvbjogZ3BzSXRlbS5Qb3NpdGlvbiwKICAgICAgICAgICAgZGlzdGFuY2U6IE1hdGguZmxvb3IoZ2V0RGlzdGFuY2UoZ3BzSXRlbS5Qb3NpdGlvbiwgc3RhdGUuZ2VvbG9jYXRpb24uY3VycmVudFBvc2l0aW9uKSkKICAgICAgICAgIH07CiAgICAgICAgICBzdGF0ZS5ncHNEYXRhLmNhdGVnb3J5SXRlbXMucHVzaChpdGVtKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgc3RhdGUuZ3BzRGF0YS5jYXRlZ29yeUl0ZW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2U7CiAgICAgIH0pOwogICAgICBjb21taXQoJ3NldEN1cnJlbnRUYWInLCB7CiAgICAgICAga2V5OiBzdGF0ZS5jdXJyZW50VGFiLmtleSwKICAgICAgICBzZWN0aW9uOiAnU2Vjb25kYXJ5U2VjdGlvbicsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdGl0bGU6IHRpdGxlCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzb3VuZHNfcGxheU5vdGlmaWNhdGlvbjogZnVuY3Rpb24gc291bmRzX3BsYXlOb3RpZmljYXRpb24oX3JlZjkpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjkuc3RhdGU7CiAgICAgIHZhciBub3RpZmljYXRpb25Tb3VuZCA9IHN0YXRlLm5vdGlmaWNhdGlvbnNTb3VuZHMuZmluZChmdW5jdGlvbiAobnMpIHsKICAgICAgICByZXR1cm4gbnMuaWQgPT09IHN0YXRlLmNvbmZpZ3VyYXRpb24ubm90aWZpY2F0aW9uU291bmQ7CiAgICAgIH0pOwogICAgICBpZiAoIW5vdGlmaWNhdGlvblNvdW5kKSByZXR1cm47CiAgICAgIHdpbmRvdy5zZXREYXRhKCdzb3VuZHMvcGxheScsIHsKICAgICAgICBuYW1lOiBub3RpZmljYXRpb25Tb3VuZC5zb3VuZE5hbWUsCiAgICAgICAgdm9sdW1lOiAwLjMKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7CiAgICBiYW5rUGFnZTogYmFua1BhZ2UsCiAgICB3ZWF0aGVyUGFnZTogd2VhdGhlclBhZ2UsCiAgICByYWRpb1BhZ2U6IHJhZGlvUGFnZSwKICAgIGZvcmJlc1BhZ2U6IGZvcmJlc1BhZ2UsCiAgICBuZXdzUGFnZTogbmV3c1BhZ2UsCiAgICBtZXNzYWdlUGFnZTogbWVzc2FnZVBhZ2UsCiAgICB0YXhpUGFnZTogdGF4aVBhZ2UsCiAgICBhcHBQYWdlOiBhcHBQYWdlCiAgfQp9Ow=="},null]}