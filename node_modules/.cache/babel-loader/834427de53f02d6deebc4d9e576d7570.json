{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\Fishing\\components\\MiniGame.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\Fishing\\components\\MiniGame.vue","mtime":1625149886056},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovZG93bmxvYWRzL1VOSVEvR3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBrZXlzOiBbewogICAgICAgICJwcmVzc2VkIjogZmFsc2UsCiAgICAgICAga2V5Q29kZTogMzgKICAgICAgfSwgewogICAgICAgICJwcmVzc2VkIjogZmFsc2UsCiAgICAgICAga2V5Q29kZTogMzcKICAgICAgfSwgewogICAgICAgICJwcmVzc2VkIjogZmFsc2UsCiAgICAgICAga2V5Q29kZTogNDAKICAgICAgfSwgewogICAgICAgICJwcmVzc2VkIjogZmFsc2UsCiAgICAgICAga2V5Q29kZTogMzkKICAgICAgfV0sCiAgICAgIGtleTogLTEsCiAgICAgIHRpbWU6IDEwMCwKICAgICAgcHJlc3NJbnRlcnZhbDogLTEsCiAgICAgIG1pbmlHYW1lSW50ZXJ2YWw6IC0xLAogICAgICBwcm9ncmVzczogNTAsCiAgICAgIHN0ZXA6IDIwLAogICAgICBtaXNzOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZW5kR2FtZTogZnVuY3Rpb24gZW5kR2FtZShzdGF0dXMpIHsKICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdkZXZlbG9wbWVudCcpIHRoaXMucHJvZ3Jlc3MgPSA1MDtlbHNlIHRoaXMuJHN0b3JlLmNvbW1pdCgnZmlzaGluZy9taW5pR2FtZUVuZCcsIHN0YXR1cyk7CiAgICB9LAogICAgdGlja0dhbWU6IGZ1bmN0aW9uIHRpY2tHYW1lKCkgewogICAgICB0aGlzLnByb2dyZXNzIC09IDE7CiAgICAgIGlmICh0aGlzLnByb2dyZXNzID4gOTkpIHRoaXMuZW5kR2FtZSh0cnVlKTsKICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPCAxKSB0aGlzLmVuZEdhbWUoZmFsc2UpOwogICAgfSwKICAgIHB1dDogZnVuY3Rpb24gcHV0KGUpIHsKICAgICAgaWYgKCF0aGlzLmtleXMuZmluZChmdW5jdGlvbiAoaykgewogICAgICAgIHJldHVybiBrLmtleUNvZGUgPT09IGUua2V5Q29kZTsKICAgICAgfSkpIHJldHVybjsKICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5rZXkpIHRoaXMucHJvZ3Jlc3MgKz0gdGhpcy5zdGVwIC0gdGhpcy5tZ0RpZmZpY3VsdDtlbHNlIHsKICAgICAgICB0aGlzLnByb2dyZXNzIC09ICh0aGlzLnN0ZXAgLSB0aGlzLm1nRGlmZmljdWx0KSAqIDI7CiAgICAgIH0KICAgICAgdGhpcy5rZXkgPSB0aGlzLmdldFJhbmRvbUtleSgpOwogICAgfSwKICAgIGdldFJhbmRvbUtleTogZnVuY3Rpb24gZ2V0UmFuZG9tS2V5KCkgewogICAgICByZXR1cm4gdGhpcy5rZXlzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMua2V5cy5sZW5ndGgpXS5rZXlDb2RlOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdmaXNoaW5nJywgWydtZ0RpZmZpY3VsdCddKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5rZXkgPSB0aGlzLmdldFJhbmRvbUtleSgpOwogICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5wdXQpOwogICAgdGhpcy5wcmVzc0ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMudGlja0dhbWUoKTsKICAgIH0sIDEwMCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5wdXQpOwogICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5wcmVzc0ludGVydmFsKTsKICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMubWluaUdhbWVJbnRlcnZhbCk7CiAgfQp9Ow=="},{"version":3,"sources":["MiniGame.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAgBA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CACA;AAAA,mBAAA,KAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OADA,EAEA;AAAA,mBAAA,KAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAFA,EAGA;AAAA,mBAAA,KAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAHA,EAIA;AAAA,mBAAA,KAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAJA,CADA;AAOA,MAAA,GAAA,EAAA,CAAA,CAPA;AAQA,MAAA,IAAA,EAAA,GARA;AASA,MAAA,aAAA,EAAA,CAAA,CATA;AAUA,MAAA,gBAAA,EAAA,CAAA,CAVA;AAWA,MAAA,QAAA,EAAA,EAXA;AAYA,MAAA,IAAA,EAAA,EAZA;AAaA,MAAA,IAAA,EAAA;AAbA,KAAA;AAeA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,MADA,EACA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,IAAA,aAAA,EACA,KAAA,QAAA,GAAA,EAAA,CADA,KAGA,KAAA,MAAA,CAAA,MAAA,CAAA,qBAAA,EAAA,MAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AACA,WAAA,QAAA,IAAA,CAAA;AACA,UAAA,KAAA,QAAA,GAAA,EAAA,EAAA,KAAA,OAAA,CAAA,IAAA;AACA,UAAA,KAAA,QAAA,GAAA,CAAA,EAAA,KAAA,OAAA,CAAA,KAAA;AACA,KAXA;AAYA,IAAA,GAZA,eAYA,CAZA,EAYA;AACA,UAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,OAAA,KAAA,CAAA,CAAA,OAAA;AAAA,OAAA,CAAA,EAAA;AACA,UAAA,CAAA,CAAA,OAAA,KAAA,KAAA,GAAA,EACA,KAAA,QAAA,IAAA,KAAA,IAAA,GAAA,KAAA,WAAA,CADA,KAEA;AACA,aAAA,QAAA,IAAA,CAAA,KAAA,IAAA,GAAA,KAAA,WAAA,IAAA,CAAA;AACA;AAEA,WAAA,GAAA,GAAA,KAAA,YAAA,EAAA;AACA,KArBA;AAsBA,IAAA,YAtBA,0BAsBA;AACA,aAAA,KAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,KAAA,KAAA,IAAA,CAAA,MAAA,CAAA,EAAA,OAAA;AACA;AAxBA,GAlBA;AA4CA,EAAA,QAAA,oBACA,QAAA,CAAA,SAAA,EAAA,CAAA,aAAA,CAAA,CADA,CA5CA;AA+CA,EAAA,OA/CA,qBA+CA;AAAA;;AACA,SAAA,GAAA,GAAA,KAAA,YAAA,EAAA;AACA,IAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,KAAA,GAAA;AACA,SAAA,aAAA,GAAA,MAAA,CAAA,WAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,QAAA;AACA,KAFA,EAEA,GAFA,CAAA;AAGA,GArDA;AAsDA,EAAA,aAtDA,2BAsDA;AACA,IAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,CAAA,OAAA,EAAA,KAAA,GAAA;AACA,IAAA,MAAA,CAAA,aAAA,CAAA,KAAA,aAAA;AACA,IAAA,MAAA,CAAA,aAAA,CAAA,KAAA,gBAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"minigame\">   \r\n    <div class=\"minigame_btn\" \r\n      v-for=\"(btn, index) in keys\" :key=\"index\"\r\n      :class=\"{'minigame_press': key === btn.keyCode}\"\r\n    >\r\n      <img src=\"/img/common/elements/arrow.svg\" alt=\"arrow\">\r\n    </div>\r\n    \r\n    <div class=\"minigame_progress\">\r\n      <div class=\"minigame_thumb\" :style=\"{'width': `${progress}%`}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex'\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      keys:[\r\n        {\"pressed\": false, keyCode: 38},        \r\n        {\"pressed\": false, keyCode: 37},        \r\n        {\"pressed\": false, keyCode: 40},        \r\n        {\"pressed\": false, keyCode: 39}\r\n      ],\r\n      key: -1,\r\n      time: 100,\r\n      pressInterval: -1,\r\n      miniGameInterval: -1,\r\n      progress: 50,\r\n      step: 20,\r\n      miss: 0\r\n    }\r\n  },\r\n  methods:{    \r\n    endGame(status){\r\n      if(process.env.NODE_ENV == 'development') \r\n        this.progress = 50;\r\n      else \r\n        this.$store.commit('fishing/miniGameEnd',status)\r\n    },\r\n    tickGame(){\r\n      this.progress -= 1;\r\n      if(this.progress > 99) this.endGame(true);\r\n      if(this.progress < 1) this.endGame(false);\r\n    },\r\n    put(e){\r\n      if(!this.keys.find(k=>k.keyCode === e.keyCode)) return;\r\n      if(e.keyCode === this.key)\r\n        this.progress += this.step - this.mgDifficult;\r\n      else {\r\n        this.progress -= (this.step - this.mgDifficult) * 2;\r\n      }\r\n\r\n      this.key = this.getRandomKey();\r\n    },\r\n    getRandomKey() {     \r\n      return this.keys[Math.floor(Math.random() * this.keys.length)].keyCode\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('fishing', ['mgDifficult'])\r\n  },\r\n  mounted(){\r\n    this.key = this.getRandomKey();\r\n    window.document.addEventListener(\"keyup\", this.put);\r\n    this.pressInterval = window.setInterval(() => {\r\n      this.tickGame();\r\n    }, 100);      \r\n  },\r\n  beforeDestroy(){\r\n    window.document.removeEventListener(\"keyup\", this.put);\r\n    window.clearInterval(this.pressInterval);\r\n    window.clearInterval(this.miniGameInterval);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.minigame{\r\n    position: absolute;\r\n    right: 40rem;\r\n    bottom: 15rem;\r\n    &_btn{\r\n        position: absolute;\r\n        background-color: #eee;\r\n        width: 5vh;\r\n        height: 5vh;\r\n        border-radius: 10px;\r\n        border: 2px solid #000;\r\n        img{\r\n            width: 50%;\r\n            height: 50%;\r\n            margin: 25% 0 0 25%;\r\n        }   \r\n        &:nth-child(1){\r\n            top: 0;\r\n            left: 6vh;\r\n            box-shadow: 1px 1px 3px 0 rgba(#000, .7);\r\n            img{\r\n                transform: rotate(180deg);\r\n            }\r\n        }\r\n        &:nth-child(2){\r\n            top: 6vh;\r\n            left: 0;\r\n            box-shadow: 1px 1px 3px 0 rgba(#000, .7);  \r\n            img{\r\n                transform: rotate(90deg);\r\n            }\r\n        }\r\n        &:nth-child(3){\r\n            top: 6vh;\r\n            left: 6vh;\r\n            box-shadow: 1px 1px 3px 0 rgba(#000, .7);\r\n        }\r\n        &:nth-child(4){\r\n            top: 6vh;\r\n            left: 12vh;\r\n            box-shadow: 1px 1px 3px 1px rgba(#000, .7);\r\n            img{\r\n                transform: rotate(-90deg);\r\n            }\r\n        }     \r\n    }\r\n    &_press{\r\n        transform: scale(1.01) translate(1px, 1px);\r\n        background-color: #0f0;\r\n    }\r\n    &_progress{\r\n        position: absolute;\r\n        top: 13vh;\r\n        left: 0;\r\n        width: 18vh;\r\n        height: 1vh;\r\n        border-radius: 10px;\r\n        background-color: rgb(24, 131, 42);\r\n        overflow: hidden;        \r\n    }\r\n    &_thumb{\r\n        background-color: rgb(203, 241, 195);\r\n        height: 100%;\r\n        position: absolute;\r\n        left: 0;\r\n    }\r\n//     $clr_1: rgb(20, 177, 28);\r\n// $clr_2: rgb(24, 131, 42);\r\n// $clr_3: rgb(255,255,255);\r\n// $clr_4: rgb(203, 241, 195);\r\n// $clr_5: rgb(10, 10, 10);\r\n}\r\n</style>"],"sourceRoot":"src/views/Fishing/components"}]}