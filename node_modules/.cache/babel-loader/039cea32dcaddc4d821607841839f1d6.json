{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\downloads\\UNIQ\\Gui\\src\\store\\minigames\\metalPlant\\index.js","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\store\\minigames\\metalPlant\\index.js","mtime":1635951126798},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\eslint-loader\\index.js","mtime":1685190018634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovZG93bmxvYWRzL1VOSVEvR3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9FbGVtZW50JzsKaW1wb3J0IGl0ZW1Db25maWdzIGZyb20gJy4uLy4uLy4uL2NvbmZpZ3MvaW52ZW50b3J5L2NvbmZpZ3MnOwppbXBvcnQgbHZsQ29uZmlnIGZyb20gJy4uLy4uLy4uL2NvbmZpZ3MvZ2FtZU1ldGFsUGxhbnQvbGV2ZWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGN1cnJhbnRTdGF0ZTogIkludmVudG9yeSIsCiAgICBwcmVwYXJhdGlvbjogZmFsc2UsCiAgICBnYW1lQmVnaW5lOiBmYWxzZSwKICAgIGZ1cm5hY2VDb29saW5nQmVnaW5lOiBmYWxzZSwKICAgIGVsZW1lbnRzOiB7fSwKICAgIGFudGlGbG9vZDogMCwKICAgIHZhbGlkRWxlbWVudEljb246IG5ldyBFbGVtZW50KCJ2YWxpZCIsIDEsIDApLAogICAgaW52YWxpZEVsZW1lbnRJY29uOiBuZXcgRWxlbWVudCgiaW52YWxpZCIsIDEsIDApLAogICAgaXRlbUNvbmZpZ3M6IGl0ZW1Db25maWdzLAogICAgb3JlVGltZTogewogICAgICAyNDU6IDEwMCAvIDIgLyAyMCwKICAgICAgLy8xMDAgLyAyIC8gc2VrOyAtIGJlY291c2UgaW50ZXJ2YWwgPSA1MDBtcwogICAgICAyNDY6IDEwMCAvIDIgLyAzMCwKICAgICAgMjQ3OiAxMDAgLyAyIC8gNDUKICAgIH0sCiAgICBnYW1lUmVzdWx0OiB7CiAgICAgIHN0YXRlOiAwLAogICAgICAvLzAgLSBmdXJuYWNlIGNvb2xlZCAxIC0gbG9vc2UgKGludmFsaWQgZWxlbWVudHMpIDIgLSB3aW4gMyAtIHdpbiB3aXRoIGRpYW1vbmQKICAgICAgbWV0YWxzOiBbXQogICAgfSwKICAgIGdhbWU6IHsKICAgICAgdmFsaWQ6IDAsCiAgICAgIGludmFsaWQ6IDAsCiAgICAgIGNvbmRpdGlvbjogMAogICAgfSwKICAgIHNldHRpbmdzOiB7CiAgICAgIGNvbHVtbnNDb3VudDogMywKICAgICAgc3RlcE9uUm93OiAyMCwKICAgICAgbWluU3BlZWQ6IDEsCiAgICAgIG1heFNwZWVkOiAzLAogICAgICBib2R5SGVpZ2h0OiAwLAogICAgICB0ZW1wRWxlbWVudFZhbHVlOiAzMCwKICAgICAgYmFzZUVsZW1lbnRzOiAzMCwKICAgICAgYWRkRWxlbWVudHNPbkxldmVsOiAxNSwKICAgICAgaG9yblN0ZXA6IDEwCiAgICB9LAogICAgZnVybmFjZTogewogICAgICBvcmU6IG51bGwsCiAgICAgIGZ1ZWw6IG51bGwsCiAgICAgIHRlbXBlcmF0dXJlOiAwCiAgICB9LAogICAgaW52ZW50b3J5OiB7CiAgICAgIG9yZTogewogICAgICAgIDI1NjogMiwKICAgICAgICAyNTc6IDMsCiAgICAgICAgMjU1OiA0CiAgICAgIH0sCiAgICAgIGZ1ZWw6IHsKICAgICAgICAyNDU6IDMsCiAgICAgICAgMjQ2OiAyLAogICAgICAgIDI0NzogMQogICAgICB9CiAgICB9LAogICAgcGxheWVyRXhwOiAxCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIG9yZSA9IF9yZWYub3JlLAogICAgICAgICAgZnVlbCA9IF9yZWYuZnVlbCwKICAgICAgICAgIGV4cCA9IF9yZWYuZXhwOwogICAgICBzdGF0ZS5nYW1lUmVzdWx0ID0gewogICAgICAgIHN0YXRlOiAwLAogICAgICAgIG1ldGFsczogW10KICAgICAgfTsKICAgICAgc3RhdGUuZWxlbWVudHMgPSB7fTsKICAgICAgc3RhdGUuY3VycmFudFN0YXRlID0gIkludmVudG9yeSI7CiAgICAgIHN0YXRlLnByZXBhcmF0aW9uID0gZmFsc2U7CiAgICAgIHN0YXRlLmdhbWVCZWdpbmUgPSBmYWxzZTsKICAgICAgc3RhdGUuZnVybmFjZUNvb2xpbmdCZWdpbmUgPSBmYWxzZTsKICAgICAgc3RhdGUuZnVybmFjZS5vcmUgPSBudWxsOwogICAgICBzdGF0ZS5mdXJuYWNlLmZ1ZWwgPSBudWxsOwogICAgICBzdGF0ZS5mdXJuYWNlLnRlbXBlcmF0dXJlID0gMDsKICAgICAgc3RhdGUuZnVybmFjZS50ZW1wZXJhdHVyZSA9IDA7CiAgICAgIHN0YXRlLmdhbWUgPSB7CiAgICAgICAgdmFsaWQ6IDAsCiAgICAgICAgaW52YWxpZDogMCwKICAgICAgICBjb25kaXRpb246IDAKICAgICAgfTsKICAgICAgc3RhdGUuaW52ZW50b3J5ID0gewogICAgICAgIG9yZTogb3JlLAogICAgICAgIGZ1ZWw6IGZ1ZWwKICAgICAgfTsKICAgICAgc3RhdGUucGxheWVyRXhwID0gZXhwOwogICAgfSwKICAgIGxvYWRPcmVUb0Z1cm5hY2U6IGZ1bmN0aW9uIGxvYWRPcmVUb0Z1cm5hY2Uoc3RhdGUsIG9yZSkgewogICAgICBzdGF0ZS5mdXJuYWNlLm9yZSA9IG9yZTsKICAgIH0sCiAgICBsb2FkRnVlbFRvRnVybmFjZTogZnVuY3Rpb24gbG9hZEZ1ZWxUb0Z1cm5hY2Uoc3RhdGUsIGZ1ZWwpIHsKICAgICAgc3RhdGUuZnVybmFjZS5mdWVsID0gZnVlbDsKICAgIH0sCiAgICB1cGRhdGVGdXJhbmNlVGVtcGVyYXR1cmU6IGZ1bmN0aW9uIHVwZGF0ZUZ1cmFuY2VUZW1wZXJhdHVyZShzdGF0ZSwgdGVtcCkgewogICAgICBzdGF0ZS5mdXJuYWNlLnRlbXBlcmF0dXJlID0gTWF0aC5taW4odGVtcCwgMTAwKTsKICAgIH0sCiAgICB1cGRhdGVQcmVwYXJhdGlvblN0YXRlOiBmdW5jdGlvbiB1cGRhdGVQcmVwYXJhdGlvblN0YXRlKHN0YXRlLCB2YWwpIHsKICAgICAgc3RhdGUucHJlcGFyYXRpb24gPSB2YWw7CiAgICB9LAogICAgdXBkYXRlR2FtZUJlZ2luZVN0YXRlOiBmdW5jdGlvbiB1cGRhdGVHYW1lQmVnaW5lU3RhdGUoc3RhdGUsIHZhbCkgewogICAgICBzdGF0ZS5nYW1lQmVnaW5lID0gdmFsOwogICAgfSwKICAgIHVwZGF0ZUNvb2xpbmdCZWdpbmVTdGF0ZTogZnVuY3Rpb24gdXBkYXRlQ29vbGluZ0JlZ2luZVN0YXRlKHN0YXRlLCB2YWwpIHsKICAgICAgc3RhdGUuZnVybmFjZUNvb2xpbmdCZWdpbmUgPSB2YWw7CiAgICB9LAogICAgdXBkYXRlR2FtZVJlc3VsdDogZnVuY3Rpb24gdXBkYXRlR2FtZVJlc3VsdChzdGF0ZSwgZ2FtZVJlc3VsdCkgewogICAgICBzdGF0ZS5nYW1lUmVzdWx0ID0gZ2FtZVJlc3VsdDsKICAgIH0sCiAgICB1cGRhdGVDdXJyZW50U3RhdGU6IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRTdGF0ZShzdGF0ZSwgcGFnZSkgewogICAgICBzdGF0ZS5jdXJyYW50U3RhdGUgPSBwYWdlOwogICAgfSwKICAgIHVwZGF0ZVBsYXllckV4cDogZnVuY3Rpb24gdXBkYXRlUGxheWVyRXhwKHN0YXRlLCBleHApIHsKICAgICAgc3RhdGUucGxheWVyRXhwID0gZXhwOwogICAgfSwKICAgIGFkZFZhbGlkOiBmdW5jdGlvbiBhZGRWYWxpZChzdGF0ZSkgewogICAgICBzdGF0ZS5nYW1lLnZhbGlkKys7CiAgICB9LAogICAgYWRkSW52YWxpZDogZnVuY3Rpb24gYWRkSW52YWxpZChzdGF0ZSkgewogICAgICBzdGF0ZS5nYW1lLmludmFsaWQrKzsKICAgIH0sCiAgICBzZXRHYW1lQ29uZGl0aW9uOiBmdW5jdGlvbiBzZXRHYW1lQ29uZGl0aW9uKHN0YXRlLCBjb25kaXRpb24pIHsKICAgICAgc3RhdGUuZ2FtZS5jb25kaXRpb24gPSBjb25kaXRpb247CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBob3JuQWN0aW9uOiBmdW5jdGlvbiBob3JuQWN0aW9uKGN0eCkgewogICAgICBpZiAoY3R4LnN0YXRlLmFudGlGbG9vZCA+IERhdGUubm93KCkpIHJldHVybjsKICAgICAgY3R4LnN0YXRlLmFudGlGbG9vZCA9IERhdGUubm93KCkgKyAyNTA7CgogICAgICBpZiAoY3R4LnN0YXRlLmZ1cm5hY2Uub3JlID09PSBudWxsKSB7CiAgICAgICAgY3R4LmNvbW1pdCgnbm90aWZ5TGlzdC9ub3RpZnknLCB7CiAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgcG9zaXRpb246IDAsCiAgICAgICAgICBtZXNzYWdlOiAibXBsYW50OmFjdGlvbjplcnJvcjpvcmUiLAogICAgICAgICAgdGltZTogMTAwMAogICAgICAgIH0sIHsKICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChjdHguc3RhdGUuZnVybmFjZS5mdWVsID09PSBudWxsKSB7CiAgICAgICAgY3R4LmNvbW1pdCgnbm90aWZ5TGlzdC9ub3RpZnknLCB7CiAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgcG9zaXRpb246IDAsCiAgICAgICAgICBtZXNzYWdlOiAibXBsYW50OmFjdGlvbjplcnJvcjpmdWVsIiwKICAgICAgICAgIHRpbWU6IDEwMDAKICAgICAgICB9LCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjdHguY29tbWl0KCJzb3VuZHMvcGxheSIsIHsKICAgICAgICBuYW1lOiAibWV0YWxQbGFudF9tZWgiLAogICAgICAgIHZvbHVtZTogMC4xCiAgICAgIH0sIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwoKICAgICAgaWYgKCFjdHguc3RhdGUucHJlcGFyYXRpb24gJiYgIWN0eC5zdGF0ZS5nYW1lQmVnaW5lICYmIGN0eC5zdGF0ZS5mdXJuYWNlLnRlbXBlcmF0dXJlICsgY3R4LnN0YXRlLnNldHRpbmdzLmhvcm5TdGVwID49IDEwMCkgewogICAgICAgIGN0eC5jb21taXQoInVwZGF0ZUN1cnJlbnRTdGF0ZSIsICJHYW1lIik7CiAgICAgICAgaWYgKCFjdHguc3RhdGUuZ2FtZUJlZ2luZSkgY3R4LmNvbW1pdCgndXBkYXRlUHJlcGFyYXRpb25TdGF0ZScsIHRydWUpOwogICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAnZGV2ZWxvcG1lbnQnKSBjdHguZGlzcGF0Y2goJ3VwZGF0ZUdhbWVCZWdpbmVTdGF0ZScsIHRydWUpO2Vsc2Ugd2luZG93Lm1wLnRyaWdnZXJTZXJ2ZXIoImdhbWU6bXBsYW50OnN0YXJ0IiwgY3R4LnN0YXRlLmZ1cm5hY2Uub3JlLCBjdHguc3RhdGUuZnVybmFjZS5mdWVsKTsKICAgICAgfQoKICAgICAgY3R4LmNvbW1pdCgndXBkYXRlRnVyYW5jZVRlbXBlcmF0dXJlJywgY3R4LnN0YXRlLmZ1cm5hY2UudGVtcGVyYXR1cmUgKyAoY3R4LnN0YXRlLmdhbWVCZWdpbmUgPyBjdHguc3RhdGUuc2V0dGluZ3MuaG9yblN0ZXAgOiA0MCkpOwogICAgICBpZiAoIWN0eC5zdGF0ZS5mdXJuYWNlQ29vbGluZ0JlZ2luZSkgY3R4LmRpc3BhdGNoKCJmdXJuYWNlQ29vbGluZ1N0YXJ0Iik7CiAgICB9LAogICAgc3RhcnRHYW1lOiBmdW5jdGlvbiBzdGFydEdhbWUoY3R4KSB7CiAgICAgIGN0eC5jb21taXQoJ3VwZGF0ZVByZXBhcmF0aW9uU3RhdGUnLCBmYWxzZSk7CiAgICB9LAogICAgZ2FtZU92ZXI6IGZ1bmN0aW9uIGdhbWVPdmVyKGN0eCwgcmVzdWx0KSB7CiAgICAgIGN0eC5kaXNwYXRjaCgidXBkYXRlR2FtZUJlZ2luZVN0YXRlIiwgZmFsc2UpOwogICAgICBjdHguY29tbWl0KCJ1cGRhdGVQcmVwYXJhdGlvblN0YXRlIiwgZmFsc2UpOwogICAgICBjdHguY29tbWl0KCJ1cGRhdGVHYW1lUmVzdWx0IiwgewogICAgICAgIHN0YXRlOiByZXN1bHQsCiAgICAgICAgbWV0YWxzOiBbXQogICAgICB9KTsKICAgICAgY3R4LmNvbW1pdCgidXBkYXRlQ3VycmVudFN0YXRlIiwgIkdhbWVPdmVyIik7CiAgICB9LAogICAgZ2FtZVdpbjogZnVuY3Rpb24gZ2FtZVdpbihjdHgsIHZhbGlkUGVyY2VudCkgewogICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50JykgewogICAgICAgIHZhciBtZXRhbHMgPSBbXTsKICAgICAgICB2YXIgbWV0YWxPbkx2bCA9IGN0eC5nZXR0ZXJzLnBsYXllckx2bCArIDE7CiAgICAgICAgdmFyIHBlcmZlY3QgPSAwOwoKICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbWV0YWxPbkx2bDsgaW5kZXgrKykgewogICAgICAgICAgaWYgKHZhbGlkUGVyY2VudCA+IDk5KSB7CiAgICAgICAgICAgIG1ldGFscy5wdXNoKHRydWUpOwogICAgICAgICAgICBwZXJmZWN0Kys7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YWxpZFBlcmNlbnQgLT0gMTA7CiAgICAgICAgICAgIHZhciBpc1BlcmZlY3QgPSBNYXRoLnJhbmRvbSgpICogMTAwIDwgdmFsaWRQZXJjZW50OwogICAgICAgICAgICBtZXRhbHMucHVzaChpc1BlcmZlY3QpOwogICAgICAgICAgICBpZiAoaXNQZXJmZWN0KSBwZXJmZWN0Kys7IC8vIGVsc2UKICAgICAgICAgICAgLy8gICBjb21tb24rKzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBkaWFtb25kID0gcGVyZmVjdCA+IDAgPyBNYXRoLnJhbmRvbSgpICogMTAwIDwgcGVyZmVjdCAqIDIgOiBmYWxzZTsKICAgICAgICBjdHguY29tbWl0KCJ1cGRhdGVHYW1lUmVzdWx0IiwgewogICAgICAgICAgc3RhdGU6IGRpYW1vbmQgPyAzIDogMiwKICAgICAgICAgIG1ldGFsczogbWV0YWxzCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93Lm1wLnRyaWdnZXJTZXJ2ZXIoImdhbWU6bXBsYW50OndpbiIsIHZhbGlkUGVyY2VudCk7CiAgICAgIH0KCiAgICAgIGN0eC5jb21taXQoInVwZGF0ZUN1cnJlbnRTdGF0ZSIsICJHYW1lV2luIik7CiAgICAgIGN0eC5kaXNwYXRjaCgidXBkYXRlR2FtZUJlZ2luZVN0YXRlIiwgZmFsc2UpOwogICAgICBjdHguY29tbWl0KCJ1cGRhdGVQcmVwYXJhdGlvblN0YXRlIiwgZmFsc2UpOwogICAgfSwKICAgIHVwZGF0ZUdhbWVCZWdpbmVTdGF0ZTogZnVuY3Rpb24gdXBkYXRlR2FtZUJlZ2luZVN0YXRlKGN0eCwgdmFsKSB7CiAgICAgIGN0eC5jb21taXQoInVwZGF0ZUdhbWVCZWdpbmVTdGF0ZSIsIHZhbCk7CiAgICAgIGlmICh2YWwpIGN0eC5jb21taXQoInNvdW5kcy9wbGF5IiwgewogICAgICAgIG5hbWU6ICJtZXRhbFBsYW50X2ZsYW1lIiwKICAgICAgICB2b2x1bWU6IDAuMDUsCiAgICAgICAgbG9vcDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTtlbHNlIGN0eC5jb21taXQoInNvdW5kcy9zdG9wIiwgbnVsbCwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgZnVybmFjZUNvb2xpbmdTdGFydDogZnVuY3Rpb24gZnVybmFjZUNvb2xpbmdTdGFydChjdHgpIHsKICAgICAgY3R4LmNvbW1pdCgidXBkYXRlQ29vbGluZ0JlZ2luZVN0YXRlIiwgdHJ1ZSk7CiAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY3R4LnN0YXRlLnByZXBhcmF0aW9uKSByZXR1cm47CgogICAgICAgIGlmICghY3R4LnN0YXRlLmZ1cm5hY2VDb29saW5nQmVnaW5lKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBuZXh0VmFsdWUgPSBjdHguc3RhdGUuZnVybmFjZS50ZW1wZXJhdHVyZSAtIGN0eC5zdGF0ZS5vcmVUaW1lW2N0eC5zdGF0ZS5mdXJuYWNlLmZ1ZWxdOwoKICAgICAgICBpZiAobmV4dFZhbHVlIDwgNSkgewogICAgICAgICAgY3R4LmNvbW1pdCgidXBkYXRlRnVyYW5jZVRlbXBlcmF0dXJlIiwgMCk7CiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgIGN0eC5jb21taXQoInVwZGF0ZUNvb2xpbmdCZWdpbmVTdGF0ZSIsIGZhbHNlKTsKICAgICAgICAgIGlmIChjdHguc3RhdGUuZ2FtZUJlZ2luZSkgY3R4LmRpc3BhdGNoKCJnYW1lT3ZlciIsIDApOwogICAgICAgIH0gZWxzZSBjdHguY29tbWl0KCJ1cGRhdGVGdXJhbmNlVGVtcGVyYXR1cmUiLCBuZXh0VmFsdWUpOwogICAgICB9LCA1MDApOwogICAgfSwKICAgIHRlbXBFbGVtZW50QWN0aW9uOiBmdW5jdGlvbiB0ZW1wRWxlbWVudEFjdGlvbihjdHgsIHZhbHVlKSB7CiAgICAgIGN0eC5jb21taXQoJ3VwZGF0ZUZ1cmFuY2VUZW1wZXJhdHVyZScsIGN0eC5zdGF0ZS5mdXJuYWNlLnRlbXBlcmF0dXJlICsgdmFsdWUpOwogICAgfSwKICAgIGNyZWF0ZUVsZW1lbnRzOiBmdW5jdGlvbiBjcmVhdGVFbGVtZW50cyhjdHgpIHsKICAgICAgY3R4LmNvbW1pdCgnc2V0R2FtZUNvbmRpdGlvbicsIGN0eC5zdGF0ZS5zZXR0aW5ncy5iYXNlRWxlbWVudHMgKyBjdHguc3RhdGUuc2V0dGluZ3MuYWRkRWxlbWVudHNPbkxldmVsICogY3R4LmdldHRlcnMucGxheWVyTHZsKTsgLy9jdHguc3RhdGUuZWxlbWVudHMgPSB7fTsKCiAgICAgIHZhciBlbGVtZW50cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGN0eC5zdGF0ZS5nYW1lLmNvbmRpdGlvbjsgaW5kZXgrKykgewogICAgICAgIGVsZW1lbnRzLnB1c2gobmV3IEVsZW1lbnQoInZhbGlkIikpOwogICAgICAgIGVsZW1lbnRzLnB1c2gobmV3IEVsZW1lbnQoImludmFsaWQiKSk7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIF9pbmRleCA9IDA7IF9pbmRleCA8IE1hdGguZmxvb3IoY3R4LnN0YXRlLmdhbWUuY29uZGl0aW9uIC8gMTAwICogNik7IF9pbmRleCsrKSB7CiAgICAgICAgZWxlbWVudHMucHVzaChuZXcgRWxlbWVudCgidGVtcFVwIikpOwogICAgICAgIGVsZW1lbnRzLnB1c2gobmV3IEVsZW1lbnQoInRlbXBEb3duIikpOwogICAgICB9CgogICAgICBmb3IgKHZhciBpID0gZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkgewogICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7CiAgICAgICAgdmFyIF9yZWYyID0gW2VsZW1lbnRzW2pdLCBlbGVtZW50c1tpXV07CiAgICAgICAgZWxlbWVudHNbaV0gPSBfcmVmMlswXTsKICAgICAgICBlbGVtZW50c1tqXSA9IF9yZWYyWzFdOwogICAgICB9CgogICAgICB2YXIgY3VycmVudENvbHVtbiA9IDA7CiAgICAgIHZhciByb3cgPSAwOwogICAgICB2YXIgY29sdW1uV2lkdGggPSBNYXRoLmZsb29yKDk1IC8gY3R4LnN0YXRlLnNldHRpbmdzLmNvbHVtbnNDb3VudCk7CiAgICAgIHZhciBlbE9iaiA9IHt9OwoKICAgICAgZm9yICh2YXIgX2luZGV4MiA9IDA7IF9pbmRleDIgPCBlbGVtZW50cy5sZW5ndGg7IF9pbmRleDIrKykgewogICAgICAgIHZhciBlbCA9IGVsZW1lbnRzW19pbmRleDJdOwoKICAgICAgICBpZiAoY3VycmVudENvbHVtbiArIDEgPCBjdHguc3RhdGUuc2V0dGluZ3MuY29sdW1uc0NvdW50KSB7CiAgICAgICAgICBjdXJyZW50Q29sdW1uKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRDb2x1bW4gPSAwOwogICAgICAgICAgcm93Kys7CiAgICAgICAgfQoKICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoY29sdW1uV2lkdGggKiBNYXRoLnJhbmRvbSgpICsgY29sdW1uV2lkdGggKiBjdXJyZW50Q29sdW1uKTsKICAgICAgICB2YXIgeSA9IHJvdyAqIGN0eC5zdGF0ZS5zZXR0aW5ncy5zdGVwT25Sb3cgKiAtMTsKICAgICAgICBlbC5pbml0UG9zaXRpb25zKHgsIHkpOwogICAgICAgIGVsLmluaXRTcGVlZChjdHguc3RhdGUuc2V0dGluZ3MubWluU3BlZWQsIGN0eC5zdGF0ZS5zZXR0aW5ncy5tYXhTcGVlZCk7CiAgICAgICAgZWxPYmpbX2luZGV4Ml0gPSBlbDsKICAgICAgfQoKICAgICAgY3R4LnN0YXRlLmVsZW1lbnRzID0gX29iamVjdFNwcmVhZCh7fSwgZWxPYmopOwogICAgfQogIH0sCiAgbW9kdWxlczoge30sCiAgZ2V0dGVyczogewogICAgZnVybmFjZVRlbXBlYXJhdHVyZTogZnVuY3Rpb24gZnVybmFjZVRlbXBlYXJhdHVyZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZnVybmFjZS50ZW1wZXJhdHVyZTsKICAgIH0sCiAgICBhbGxWYWxpZEVsZW1lbnRzOiBmdW5jdGlvbiBhbGxWYWxpZEVsZW1lbnRzKCkgewogICAgICB2YXIgZWxlbWVudHMgPSBbXTsKCiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCAzOyBpbmRleCsrKSB7CiAgICAgICAgZWxlbWVudHMucHVzaChuZXcgRWxlbWVudCgidmFsaWQiLCAxLCBpbmRleCkpOwogICAgICB9CgogICAgICByZXR1cm4gZWxlbWVudHM7CiAgICB9LAogICAgYWxsSW52YWxpZEVsZW1lbnRzOiBmdW5jdGlvbiBhbGxJbnZhbGlkRWxlbWVudHMoKSB7CiAgICAgIHZhciBlbGVtZW50cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IDQ7IGluZGV4KyspIHsKICAgICAgICBlbGVtZW50cy5wdXNoKG5ldyBFbGVtZW50KCJpbnZhbGlkIiwgMSwgaW5kZXgpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGVsZW1lbnRzOwogICAgfSwKICAgIHRlbXBVcEVsZW1lbnQ6IGZ1bmN0aW9uIHRlbXBVcEVsZW1lbnQoKSB7CiAgICAgIHJldHVybiBuZXcgRWxlbWVudCgidGVtcFVwIiwgMSk7CiAgICB9LAogICAgdGVtcERvd25FbGVtZW50OiBmdW5jdGlvbiB0ZW1wRG93bkVsZW1lbnQoKSB7CiAgICAgIHJldHVybiBuZXcgRWxlbWVudCgidGVtcERvd24iLCAxKTsKICAgIH0sCiAgICBwbGF5ZXJMdmw6IGZ1bmN0aW9uIHBsYXllckx2bChzdGF0ZSkgewogICAgICB2YXIgbGV2ZWwgPSAxOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSBsdmxDb25maWcubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkgewogICAgICAgIGlmIChsdmxDb25maWdbaW5kZXhdLmV4cCA8IHN0YXRlLnBsYXllckV4cCkgewogICAgICAgICAgbGV2ZWwgPSBsdmxDb25maWdbaW5kZXhdLmxldmVsOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbGV2ZWw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/downloads/UNIQ/Gui/src/store/minigames/metalPlant/index.js"],"names":["Element","itemConfigs","lvlConfig","namespaced","state","currantState","preparation","gameBegine","furnaceCoolingBegine","elements","antiFlood","validElementIcon","invalidElementIcon","oreTime","gameResult","metals","game","valid","invalid","condition","settings","columnsCount","stepOnRow","minSpeed","maxSpeed","bodyHeight","tempElementValue","baseElements","addElementsOnLevel","hornStep","furnace","ore","fuel","temperature","inventory","playerExp","mutations","setData","exp","loadOreToFurnace","loadFuelToFurnace","updateFuranceTemperature","temp","Math","min","updatePreparationState","val","updateGameBegineState","updateCoolingBegineState","updateGameResult","updateCurrentState","page","updatePlayerExp","addValid","addInvalid","setGameCondition","actions","hornAction","ctx","Date","now","commit","type","position","message","time","root","name","volume","process","env","NODE_ENV","dispatch","window","mp","triggerServer","startGame","gameOver","result","gameWin","validPercent","metalOnLvl","getters","playerLvl","perfect","index","push","isPerfect","random","diamond","loop","furnaceCoolingStart","interval","setInterval","clearInterval","nextValue","tempElementAction","value","createElements","floor","i","length","j","currentColumn","row","columnWidth","elObj","el","x","y","initPositions","initSpeed","modules","furnaceTempearature","allValidElements","allInvalidElements","tempUpElement","tempDownElement","level"],"mappings":"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","sourcesContent":["import Element from './Element'\r\nimport itemConfigs from '../../../configs/inventory/configs'\r\nimport lvlConfig from '../../../configs/gameMetalPlant/levels'\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    currantState: \"Inventory\",\r\n    preparation: false,\r\n    gameBegine: false,\r\n    furnaceCoolingBegine: false,    \r\n    elements: {},\r\n    antiFlood: 0,\r\n    validElementIcon: new Element(\"valid\", 1, 0),\r\n    invalidElementIcon: new Element(\"invalid\", 1, 0),\r\n    itemConfigs,\r\n    oreTime:{\r\n      245: 100 / 2 / 20, //100 / 2 / sek; - becouse interval = 500ms\r\n      246: 100 / 2 / 30,\r\n      247: 100 / 2 / 45\r\n    },\r\n    gameResult: {\r\n      state: 0, //0 - furnace cooled 1 - loose (invalid elements) 2 - win 3 - win with diamond\r\n      metals: []\r\n    },\r\n    game:{\r\n      valid: 0,\r\n      invalid: 0,\r\n      condition: 0\r\n    },\r\n    settings:{\r\n        columnsCount: 3,\r\n        stepOnRow: 20,\r\n        minSpeed: 1,\r\n        maxSpeed: 3,\r\n        bodyHeight: 0,\r\n        tempElementValue: 30,\r\n        baseElements: 30,\r\n        addElementsOnLevel: 15,\r\n        hornStep: 10\r\n    },\r\n    furnace: {\r\n      ore: null,\r\n      fuel: null,\r\n      temperature: 0\r\n    },\r\n    inventory:{\r\n      ore: {256: 2, 257: 3, 255: 4},\r\n      fuel: {245: 3, 246: 2, 247: 1}\r\n    },\r\n    playerExp: 1\r\n  },\r\n  mutations: {\r\n    setData(state, {ore, fuel, exp}){\r\n      state.gameResult = {state:0, metals: []};\r\n      state.elements = {}\r\n      state.currantState = \"Inventory\";\r\n      state.preparation = false;\r\n      state.gameBegine = false;\r\n      state.furnaceCoolingBegine = false;\r\n      state.furnace.ore = null;\r\n      state.furnace.fuel = null;\r\n      state.furnace.temperature = 0;\r\n      state.furnace.temperature = 0;\r\n      state.game = {valid: 0,invalid: 0,condition: 0};\r\n      state.inventory = {ore, fuel};\r\n      state.playerExp = exp;\r\n\r\n    },\r\n    loadOreToFurnace(state, ore){\r\n      state.furnace.ore = ore;\r\n    },\r\n    loadFuelToFurnace(state, fuel){\r\n      state.furnace.fuel = fuel;\r\n    },\r\n    updateFuranceTemperature(state, temp){\r\n      state.furnace.temperature = Math.min(temp, 100);\r\n    },\r\n    updatePreparationState(state, val){\r\n      state.preparation = val;\r\n    },\r\n    updateGameBegineState(state, val){\r\n      state.gameBegine = val;     \r\n    },\r\n    updateCoolingBegineState(state, val){\r\n      state.furnaceCoolingBegine = val;\r\n    },\r\n    updateGameResult(state, gameResult){\r\n      state.gameResult = gameResult\r\n    },\r\n    updateCurrentState(state, page){\r\n      state.currantState = page\r\n    },\r\n    updatePlayerExp(state, exp){\r\n      state.playerExp = exp\r\n    },\r\n    addValid(state){\r\n      state.game.valid++;\r\n    },\r\n    addInvalid(state){\r\n      state.game.invalid++;\r\n    },\r\n    setGameCondition(state, condition){\r\n      state.game.condition = condition\r\n    }\r\n  },\r\n  actions: {\r\n    hornAction(ctx){\r\n      if(ctx.state.antiFlood > Date.now()) return;\r\n      ctx.state.antiFlood = Date.now() + 250;\r\n      if(ctx.state.furnace.ore === null) {\r\n        ctx.commit('notifyList/notify', { type: 1, position: 0, message: \"mplant:action:error:ore\", time: 1000 }, {root: true})\r\n        return;\r\n      }\r\n      if(ctx.state.furnace.fuel === null) {\r\n        ctx.commit('notifyList/notify', { type: 1, position: 0, message: \"mplant:action:error:fuel\", time: 1000 }, {root: true})\r\n        return;\r\n      }\r\n      ctx.commit(\"sounds/play\", { name: `metalPlant_meh`, volume: 0.1 }, {root: true});\r\n      if(!ctx.state.preparation && !ctx.state.gameBegine && ctx.state.furnace.temperature + ctx.state.settings.hornStep >= 100){\r\n        ctx.commit(\"updateCurrentState\",\"Game\");\r\n        if(!ctx.state.gameBegine)\r\n          ctx.commit('updatePreparationState', true)\r\n        if(process.env.NODE_ENV == 'development')\r\n          ctx.dispatch('updateGameBegineState', true)\r\n        else\r\n          window.mp.triggerServer(\"game:mplant:start\", ctx.state.furnace.ore, ctx.state.furnace.fuel);\r\n      }\r\n      ctx.commit('updateFuranceTemperature', ctx.state.furnace.temperature + (ctx.state.gameBegine ? ctx.state.settings.hornStep : 40));\r\n      if(!ctx.state.furnaceCoolingBegine)\r\n        ctx.dispatch(\"furnaceCoolingStart\");\r\n    },\r\n    startGame(ctx){\r\n      ctx.commit('updatePreparationState', false)\r\n    },\r\n    gameOver(ctx, result){\r\n      ctx.dispatch(\"updateGameBegineState\", false);\r\n      ctx.commit(\"updatePreparationState\", false);\r\n      ctx.commit(\"updateGameResult\", {state: result, metals: []})\r\n      ctx.commit(\"updateCurrentState\",\"GameOver\");\r\n    },\r\n    gameWin(ctx, validPercent){\r\n      if(process.env.NODE_ENV == 'development'){\r\n        const metals = [];\r\n        const metalOnLvl = ctx.getters.playerLvl + 1;\r\n        let perfect = 0;\r\n        for (let index = 0; index < metalOnLvl; index++) {\r\n            if(validPercent > 99){\r\n              metals.push(true);\r\n              perfect++;\r\n            }\r\n            else{\r\n                validPercent -= 10;\r\n                const isPerfect = Math.random() * 100 < validPercent;\r\n                metals.push(isPerfect);\r\n                if(isPerfect)\r\n                  perfect++;\r\n                // else\r\n                //   common++;\r\n            }\r\n        }\r\n        const diamond = perfect > 0 ? Math.random() * 100 < perfect * 2 : false;\r\n        ctx.commit(\"updateGameResult\", {state: diamond ? 3 : 2, metals})\r\n      }else {\r\n        window.mp.triggerServer(\"game:mplant:win\", validPercent);\r\n      }        \r\n\r\n      ctx.commit(\"updateCurrentState\",\"GameWin\");      \r\n      ctx.dispatch(\"updateGameBegineState\", false);\r\n      ctx.commit(\"updatePreparationState\", false);\r\n    },\r\n    updateGameBegineState(ctx, val){\r\n      ctx.commit(\"updateGameBegineState\", val);\r\n      if(val)\r\n        ctx.commit(\"sounds/play\", { name: `metalPlant_flame`, volume: 0.05, loop: true }, {root: true});\r\n      else      \r\n        ctx.commit(\"sounds/stop\", null, {root: true});\r\n    },\r\n    furnaceCoolingStart(ctx){\r\n      ctx.commit(\"updateCoolingBegineState\", true);\r\n      const interval = setInterval(()=>{        \r\n        if(ctx.state.preparation) return;\r\n        if(!ctx.state.furnaceCoolingBegine){\r\n          clearInterval(interval);\r\n          return;\r\n        }\r\n        const nextValue = ctx.state.furnace.temperature - ctx.state.oreTime[ctx.state.furnace.fuel];        \r\n        if(nextValue < 5){          \r\n          ctx.commit(\"updateFuranceTemperature\", 0);\r\n          clearInterval(interval);\r\n          ctx.commit(\"updateCoolingBegineState\", false);\r\n          if(ctx.state.gameBegine)\r\n            ctx.dispatch(\"gameOver\", 0);\r\n        }else \r\n          ctx.commit(\"updateFuranceTemperature\", nextValue);\r\n      }, 500)\r\n    },\r\n    tempElementAction(ctx, value){\r\n      ctx.commit('updateFuranceTemperature', ctx.state.furnace.temperature + value);\r\n    },\r\n    createElements(ctx){\r\n      ctx.commit('setGameCondition', ctx.state.settings.baseElements +  ctx.state.settings.addElementsOnLevel * ctx.getters.playerLvl);\r\n      //ctx.state.elements = {};\r\n      const elements = [];\r\n      for (let index = 0; index < ctx.state.game.condition; index++) {\r\n          elements.push(new Element(\"valid\"));\r\n          elements.push(new Element(\"invalid\"));\r\n      }\r\n      for (let index = 0; index < Math.floor(ctx.state.game.condition / 100 * 6); index++) {\r\n          elements.push(new Element(\"tempUp\"));\r\n          elements.push(new Element(\"tempDown\"));\r\n      }\r\n      for (let i = elements.length - 1; i > 0; i--) {\r\n        let j = Math.floor(Math.random() * (i + 1)); \r\n        [elements[i], elements[j]] = [elements[j], elements[i]];\r\n      }\r\n      let currentColumn = 0;\r\n      let row = 0\r\n      const columnWidth = Math.floor(95 / ctx.state.settings.columnsCount);\r\n\r\n      const elObj = {};\r\n      for (let index = 0; index < elements.length; index++) {\r\n          const el = elements[index];\r\n          if(currentColumn + 1 < ctx.state.settings.columnsCount){\r\n              currentColumn++\r\n          }else{\r\n              currentColumn = 0;\r\n              row++;\r\n          }\r\n          const x = Math.floor(columnWidth * Math.random() + columnWidth * currentColumn);\r\n          const y = row * ctx.state.settings.stepOnRow * -1;\r\n          el.initPositions(x, y);\r\n          el.initSpeed(ctx.state.settings.minSpeed, ctx.state.settings.maxSpeed);\r\n          elObj[index] = el;\r\n      }\r\n      ctx.state.elements = {...elObj}\r\n    }\r\n  },\r\n  modules: {\r\n  },\r\n  getters:{\r\n    furnaceTempearature(state){\r\n      return state.furnace.temperature;\r\n    },\r\n    allValidElements(){\r\n      const elements = [];\r\n      for (let index = 0; index < 3; index++) {\r\n        elements.push(new Element(\"valid\", 1, index))        \r\n      }\r\n      return elements;\r\n    },\r\n    allInvalidElements(){\r\n      const elements = [];\r\n      for (let index = 0; index < 4; index++) {\r\n        elements.push(new Element(\"invalid\", 1, index))        \r\n      }\r\n      return elements;\r\n    },\r\n    tempUpElement(){\r\n      return new Element(\"tempUp\", 1)\r\n    },\r\n    tempDownElement(){\r\n      return new Element(\"tempDown\", 1)\r\n    },\r\n    playerLvl(state){\r\n      let level = 1;\r\n      for (let index = lvlConfig.length - 1; index >= 0; index--) {\r\n        if(lvlConfig[index].exp < state.playerExp) {\r\n          level = lvlConfig[index].level;\r\n          break;\r\n        }\r\n      } \r\n      return level;\r\n    } \r\n  }\r\n}\r\n  "]}]}