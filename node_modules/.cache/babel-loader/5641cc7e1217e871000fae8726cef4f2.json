{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js!C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\TattooShop\\components\\TattoosTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\TattooShop\\components\\TattoosTab.vue","mtime":1625485623253},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L2d0YSBnby9HdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgVGF0dG9vSXRlbSBmcm9tICcuL1RhdHRvb0l0ZW0nOwppbXBvcnQgTWFpbkJ1dHRvbiBmcm9tICcuL01haW5CdXR0b24nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RhdHRvb3NUYWInLAogIHByb3BzOiB7CiAgICBpdGVtczogQXJyYXksCiAgICBjYXRlZ29yeTogU3RyaW5nCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBUYXR0b29JdGVtOiBUYXR0b29JdGVtLAogICAgTWFpbkJ1dHRvbjogTWFpbkJ1dHRvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnQ6IDAsCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgdGV4dDogJ3RhdHRvb19zaG9wXzE4JywKICAgICAgICBjbGFzczogJ2Nsb3NlJywKICAgICAgICBldmVudDogdGhpcy50b0Nsb3NlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAndGF0dG9vX3Nob3BfMTknLAogICAgICAgIGNsYXNzOiAnYWN0JywKICAgICAgICBldmVudDogdGhpcy5idXkKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgndGF0dG9vU2hvcCcsIFsndGF0dG9vcycsICdnZW5kZXInLCAnY3VycmVudFRhdHRvb3MnXSkpLCBtYXBHZXR0ZXJzKCdsb2NhbGl6YXRpb24nLCBbJ2xvYyddKSksCiAgbWV0aG9kczogewogICAgdG9DbG9zZTogZnVuY3Rpb24gdG9DbG9zZSgpIHsKICAgICAgd2luZG93Lm1wLnRyaWdnZXIoJ3RhdHRvbzpjbG9zZScpOwogICAgfSwKICAgIGJ1eTogZnVuY3Rpb24gYnV5KCkgewogICAgICBpZiAodGhpcy5pdGVtc1t0aGlzLmN1cnJlbnRdKSB7CiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuaXRlbXNbdGhpcy5jdXJyZW50XTsKCiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRhdHRvb3MuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMuQ29sbGVjdGlvbiA9PT0gY29uZmlnLkRpY3QgJiYgKGMuT3ZlcmxheSA9PT0gY29uZmlnLk1hbGUgfHwgYy5PdmVybGF5ID09PSBjb25maWcuRmVtYWxlKTsKICAgICAgICB9KSkgewogICAgICAgICAgd2luZG93LnNldERhdGEoJ25vdGlmeUxpc3Qvbm90aWZ5JywgewogICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICBwb3NpdGlvbjogMCwKICAgICAgICAgICAgbWVzc2FnZTogInRhdHRvbzpzaG9wOmFscmVhZHkiLAogICAgICAgICAgICB0aW1lOiAzMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCd0YXR0b286YnV5JywgdGhpcy5jYXRlZ29yeSwgY29uZmlnLklkKTsKICAgICAgfQogICAgfSwKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoIm9uQmFjayIpOwogICAgfSwKICAgIHNlbGVjdFRhdHRvbzogZnVuY3Rpb24gc2VsZWN0VGF0dG9vKGluZGV4KSB7CiAgICAgIHRoaXMuY3VycmVudCA9IGluZGV4OwogICAgICBpZiAodGhpcy5pdGVtc1t0aGlzLmN1cnJlbnRdKSA7CiAgICAgIHsKICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5pdGVtc1t0aGlzLmN1cnJlbnRdOwogICAgICAgIHZhciBuYW1lID0gdGhpcy5nZW5kZXIgPyBjb25maWcuTWFsZSA6IGNvbmZpZy5GZW1hbGU7CiAgICAgICAgaWYgKG5hbWUgPT09IDApIHJldHVybjsKICAgICAgICB3aW5kb3cubXAudHJpZ2dlcigidGF0dG9vOnNlbGVjdCIsIGNvbmZpZy5EaWN0LCBuYW1lLCBKU09OLnN0cmluZ2lmeShjb25maWcuU2xvdHMpKTsKICAgICAgfQogICAgfSwKICAgIGlzU2hvdzogZnVuY3Rpb24gaXNTaG93KHRhdHRvbykgewogICAgICByZXR1cm4gKHRoaXMuZ2VuZGVyID8gdGF0dG9vLk1hbGUgOiB0YXR0b28uRmVtYWxlKSAhPT0gMDsKICAgIH0gLy8gaXNUYXR0b29BdmFpbGFibGUodGF0dG9vKXsKICAgIC8vICAgbGV0IHJlc3VsdCA9IHRydWU7CiAgICAvLyAgIHRhdHRvby5zbG90cy5mb3JFYWNoKHM9PnsKICAgIC8vICAgICBpZih0aGlzLm9jY3VwaWVkLmZpbmRJbmRleChvPT5vID09PSBzKSAhPT0gLTEpewogICAgLy8gICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfQogICAgLy8gICB9KQogICAgLy8gICByZXR1cm4gcmVzdWx0OwogICAgLy8gfQoKICB9Cn07"},{"version":3,"sources":["TattoosTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,UAAA,MAAA,cAAA;AACA,OAAA,UAAA,MAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA,KADA;AAEA,IAAA,QAAA,EAAA;AAFA,GAHA;AAQA,EAAA,UAAA,EAAA;AAAA,IAAA,UAAA,EAAA,UAAA;AAAA,IAAA,UAAA,EAAA;AAAA,GARA;AAUA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CADA;AAEA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,gBAAA;AAAA,QAAA,KAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,gBAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAFA;AAFA,KAAA;AAOA,GAlBA;AAoBA,EAAA,QAAA,kCACA,QAAA,CAAA,YAAA,EAAA,CAAA,SAAA,EAAA,QAAA,EAAA,gBAAA,CAAA,CADA,GAEA,UAAA,CAAA,cAAA,EAAA,CAAA,KAAA,CAAA,CAFA,CApBA;AA2CA,EAAA,OAAA,EAAA;AAEA,IAAA,OAAA,EAAA,mBAAA;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,OAAA,CAAA,cAAA;AACA,KAJA;AAMA,IAAA,GAAA,EAAA,eAAA;AACA,UAAA,KAAA,KAAA,CAAA,KAAA,OAAA,CAAA,EAAA;AACA,YAAA,MAAA,GAAA,KAAA,KAAA,CAAA,KAAA,OAAA,CAAA;;AACA,YAAA,KAAA,cAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,UAAA,KAAA,MAAA,CAAA,IAAA,KAAA,CAAA,CAAA,OAAA,KAAA,MAAA,CAAA,IAAA,IAAA,CAAA,CAAA,OAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAAA,SAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,mBAAA,EAAA;AAAA,YAAA,IAAA,EAAA,CAAA;AAAA,YAAA,QAAA,EAAA,CAAA;AAAA,YAAA,OAAA,EAAA,qBAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA;;AACA,QAAA,MAAA,CAAA,EAAA,CAAA,OAAA,CAAA,YAAA,EAAA,KAAA,QAAA,EAAA,MAAA,CAAA,EAAA;AACA;AACA,KAfA;AAiBA,IAAA,IAAA,EAAA,gBAAA;AACA,WAAA,KAAA,CAAA,QAAA;AACA,KAnBA;AAqBA,IAAA,YArBA,wBAqBA,KArBA,EAqBA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,UAAA,KAAA,KAAA,CAAA,KAAA,OAAA,CAAA,EAAA;AACA;AACA,YAAA,MAAA,GAAA,KAAA,KAAA,CAAA,KAAA,OAAA,CAAA;AACA,YAAA,IAAA,GAAA,KAAA,MAAA,GAAA,MAAA,CAAA,IAAA,GAAA,MAAA,CAAA,MAAA;AACA,YAAA,IAAA,KAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,EAAA,CAAA,OAAA,CAAA,eAAA,EAAA,MAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA;AAEA,KA/BA;AAgCA,IAAA,MAhCA,kBAgCA,MAhCA,EAgCA;AACA,aAAA,CAAA,KAAA,MAAA,GAAA,MAAA,CAAA,IAAA,GAAA,MAAA,CAAA,MAAA,MAAA,CAAA;AACA,KAlCA,CAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA7CA;AA3CA,CAAA","sourcesContent":["<template>\r\n  <div class=\"tattoos-tab\">\r\n    <button class=\"tattoos-tab__btn\" @click=\"back\">\r\n      <img\r\n        src=\"img/tattooShop/arrow.svg\"\r\n        alt=\"arrow\"\r\n        class=\"icon\"\r\n      >\r\n      <span class=\"text\">{{loc('tattoo_shop_17')}}</span>\r\n    </button>\r\n    <div class=\"tattoos-tab__list\">\r\n      <tattoo-item\r\n        v-for=\"(tattoo, index) in items\"\r\n        :key=\"index\"\r\n        :tattoo=\"tattoo\"\r\n        :index=\"index\"\r\n        :selected=\"current == index\"\r\n        :show=\"isShow(tattoo)\"\r\n        @onTattooSelect=\"selectTattoo\"\r\n      />\r\n    </div>\r\n    <div class=\"tattoos-tab__actions\">\r\n      <main-button\r\n        v-for=\"(button, index) in buttons\"\r\n        :key=\"index\"\r\n        :button=\"button\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport TattooItem from './TattooItem'\r\nimport MainButton from './MainButton'\r\n\r\nexport default {\r\n  name: 'TattoosTab',\r\n\r\n  props: {\r\n    items: Array,\r\n    category: String\r\n  },\r\n\r\n  components: { TattooItem, MainButton },\r\n\r\n  data: function() {\r\n    return {\r\n      current: 0,\r\n      buttons: [\r\n        { text: 'tattoo_shop_18', class: 'close', event: this.toClose },\r\n        { text: 'tattoo_shop_19', class: 'act', event: this.buy },\r\n      ]\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('tattooShop', ['tattoos', 'gender', 'currentTattoos']),\r\n    ...mapGetters('localization', ['loc']),\r\n    // allTattoosList(){\r\n    //   const list = [];\r\n    //   for (const key in this.tattoos) {\r\n    //     this.tattoos[key].forEach(tattoo => {\r\n    //       const overlay = this.gender ? tattoo.Male : tattoo.Female;\r\n    //       list.push({dict: tattoo.Dict, overlay, slots: tattoo.Slots} );\r\n    //     });        \r\n    //   }\r\n    //   return list;\r\n    // },\r\n    // occupied(){\r\n    //   const occupied = [];\r\n    //   this.currentTattoos.forEach(t=>{\r\n    //     const config = this.allTattoosList.find(c=>c.dict === t.Collection && c.overlay === t.Overlay);\r\n    //     if(config !== null) occupied.push(config.slots)\r\n    //   })\r\n    //   return occupied;\r\n    // }\r\n  },\r\n\r\n  methods: {\r\n    \r\n    toClose: function() {\r\n      window.mp.trigger('tattoo:close');\r\n    },\r\n\r\n    buy: function() {\r\n      if (this.items[this.current]) {\r\n        const config = this.items[this.current];\r\n        if(this.currentTattoos.find(c=>c.Collection === config.Dict && (c.Overlay === config.Male || c.Overlay === config.Female))) {\r\n          window.setData('notifyList/notify', { type: 1, position: 0, message: \"tattoo:shop:already\", time: 3000 })\r\n          return;\r\n        }\r\n        window.mp.trigger('tattoo:buy', this.category, config.Id);\r\n      }\r\n    },\r\n\r\n    back: function() {\r\n      this.$emit(\"onBack\")\r\n    },\r\n\r\n    selectTattoo(index){\r\n      this.current = index;\r\n      if(this.items[this.current]);\r\n      {\r\n        const config = this.items[this.current];\r\n        const name = this.gender ? config.Male : config.Female;\r\n        if(name === 0) return;\r\n        window.mp.trigger(\"tattoo:select\", config.Dict, name, JSON.stringify(config.Slots));\r\n      }\r\n       \r\n    },\r\n    isShow(tattoo){\r\n        return (this.gender ? tattoo.Male : tattoo.Female) !== 0;\r\n    },\r\n\r\n    // isTattooAvailable(tattoo){\r\n    //   let result = true;\r\n    //   tattoo.slots.forEach(s=>{\r\n    //     if(this.occupied.findIndex(o=>o === s) !== -1){\r\n    //       result = false;\r\n    //       return;\r\n    //     }\r\n    //   })\r\n    //   return result;\r\n    // }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@keyframes shake {\r\n  25% {\r\n    transform: translateX(30%);\r\n  }\r\n  50% {\r\n    transform: translateX(15%);\r\n  }\r\n  75% {\r\n    transform: translateX(30%);\r\n  }\r\n  100% {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n.tattoos-tab {\r\n  padding: 0.4rem 0 0 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  &__btn {\r\n    background: transparent;\r\n    display: flex;\r\n    align-items: center;\r\n    align-self: flex-start;\r\n    &:hover .icon {\r\n      animation: shake 0.5s;\r\n    }\r\n    .icon {\r\n      width: 1rem;\r\n      height: 1rem;\r\n    }\r\n    .text {\r\n      text-transform: uppercase;\r\n      color: #fff;\r\n      margin: 0 0 0 0.55rem;\r\n      font-weight: 300;\r\n    }\r\n  }\r\n  &__list {\r\n    margin: 0.7rem 0 0 0;\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 10.05rem);\r\n    grid-gap: 0.85rem 1.2rem;\r\n    height: 34.65rem;\r\n    overflow-y: auto;\r\n    padding: 0 0.55rem 0 0;\r\n    &::-webkit-scrollbar-track {\r\n      background-color: transparent;\r\n    }\r\n    &::-webkit-scrollbar {\r\n      width: 0.2rem;\r\n      background-color: transparent;\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n      background: rgba(255, 255, 255, 0.15);\r\n      border-radius: 0.2rem;\r\n    }\r\n  }\r\n  &__actions {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-self: flex-end;\r\n    width: 15.2rem;\r\n    margin: 1.05rem 0.75rem 0 0;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/TattooShop/components"}]}