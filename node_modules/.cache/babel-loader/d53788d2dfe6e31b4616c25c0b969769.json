{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js!C:\\gta go\\Gui\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\gta go\\Gui\\src\\store\\newDonateShop\\inventory.js","dependencies":[{"path":"C:\\gta go\\Gui\\src\\store\\newDonateShop\\inventory.js","mtime":1619208104427},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\eslint-loader\\index.js","mtime":1685190018634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkM6L2d0YSBnby9HdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IHsgaXRlbUJ5SWQgfSBmcm9tICcuLi8uLi9jb25maWdzL25ld0RvbmF0ZVNob3AnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgaXRlbXM6IFtdLAogICAgbmV3SXRlbTogbnVsbCwKICAgIG5ld0lkczogMAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGVJdGVtOiBmdW5jdGlvbiB1cGRhdGVJdGVtKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgICAgICBjb3VudCA9IF9yZWYuY291bnQsCiAgICAgICAgICBzZWxsID0gX3JlZi5zZWxsOwoKICAgICAgaWYgKGNvdW50ID4gMCkgewogICAgICAgIHZhciBleGlzdHMgPSBzdGF0ZS5pdGVtcy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gaWQgJiYgaS5zZWxsID09PSBzZWxsOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZXhpc3RzKSB7CiAgICAgICAgICBleGlzdHMuY291bnQgPSBjb3VudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RhdGUuaXRlbXMucHVzaCh7CiAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgY291bnQ6IGNvdW50LAogICAgICAgICAgICBzZWxsOiBzZWxsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGluZGV4ID0gc3RhdGUuaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gaWQgJiYgaS5zZWxsID09PSBzZWxsOwogICAgICAgIH0pOwogICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHN0YXRlLml0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRJdGVtOiBmdW5jdGlvbiBhZGRJdGVtKHN0YXRlLCBfcmVmMikgewogICAgICB2YXIgaWQgPSBfcmVmMi5pZCwKICAgICAgICAgIHNlbGwgPSBfcmVmMi5zZWxsOwogICAgICB2YXIgaXRlbSA9IGl0ZW1CeUlkKGlkKTsKICAgICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5kYXRhLkl0ZW1zKSkgewogICAgICAgIGl0ZW0uZGF0YS5JdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChjSWQpIHsKICAgICAgICAgIHZhciBjSXRlbSA9IGl0ZW1CeUlkKGNJZCk7CiAgICAgICAgICB2YXIgZXhpc3RzID0gc3RhdGUuaXRlbXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gY0lkICYmIGkuc2VsbCA9PT0gdHJ1ZTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChleGlzdHMpIHsKICAgICAgICAgICAgZXhpc3RzLmNvdW50ICs9IGNJdGVtLmNvdW50OwogICAgICAgICAgICBzdGF0ZS5pdGVtcyA9IF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5pdGVtcyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdGF0ZS5pdGVtcy5wdXNoKHsKICAgICAgICAgICAgICBpZDogY0lkLAogICAgICAgICAgICAgIGNvdW50OiBjSXRlbS5jb3VudCwKICAgICAgICAgICAgICBzZWxsOiBzZWxsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBleGlzdHMgPSBzdGF0ZS5pdGVtcy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gaWQgJiYgaS5zZWxsID09PSB0cnVlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZXhpc3RzKSB7CiAgICAgICAgICBleGlzdHMuY291bnQgKz0gaXRlbS5jb3VudDsKICAgICAgICAgIHN0YXRlLml0ZW1zID0gX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLml0ZW1zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RhdGUuaXRlbXMucHVzaCh7CiAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgY291bnQ6IGl0ZW0uY291bnQsCiAgICAgICAgICAgIHNlbGw6IHNlbGwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc3RhdGUubmV3SXRlbSA9IGl0ZW07CiAgICB9LAogICAgc2V0SXRlbXM6IGZ1bmN0aW9uIHNldEl0ZW1zKHN0YXRlLCBpdGVtcykgewogICAgICBzdGF0ZS5pdGVtcyA9IGl0ZW1zOwogICAgfSwKICAgIGRlbGV0ZU5ld0l0ZW06IGZ1bmN0aW9uIGRlbGV0ZU5ld0l0ZW0oc3RhdGUpIHsKICAgICAgc3RhdGUubmV3SXRlbSA9IG51bGw7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7fSwKICBtb2R1bGVzOiB7fSwKICBnZXR0ZXJzOiB7fQp9Ow=="},{"version":3,"sources":["C:/gta go/Gui/src/store/newDonateShop/inventory.js"],"names":["itemById","namespaced","state","items","newItem","newIds","mutations","updateItem","id","count","sell","exists","find","i","push","index","findIndex","splice","addItem","item","undefined","Array","isArray","data","Items","forEach","cId","cItem","setItems","deleteNewItem","actions","modules","getters"],"mappings":"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","sourcesContent":["import {itemById} from '../../configs/newDonateShop'\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        items:[],\r\n        newItem:null,\r\n        newIds: 0\r\n    },\r\n    mutations: {\r\n        updateItem(state, {id, count, sell}){\r\n            if(count > 0){\r\n                const exists = state.items.find(i=>i.id === id && i.sell === sell); \r\n                if(exists){\r\n                    exists.count = count;\r\n                }else{\r\n                    state.items.push({ id, count, sell})\r\n                }\r\n            }else{\r\n                const index = state.items.findIndex(i=>i.id === id && i.sell === sell)\r\n                if(index !== -1)\r\n                    state.items.splice(index, 1);\r\n            }\r\n        },\r\n        addItem(state, {id, sell}){\r\n            const item = itemById(id);\r\n            if(item === undefined) return;\r\n            if(Array.isArray(item.data.Items)){\r\n                item.data.Items.forEach(cId => {\r\n                    const cItem = itemById(cId);\r\n                    const exists = state.items.find(i=>i.id === cId && i.sell === true);\r\n                    if(exists){\r\n                        exists.count += cItem.count;                \r\n                        state.items = [...state.items];\r\n                    }else{\r\n                        state.items.push({ id: cId, count: cItem.count, sell});\r\n                    }   \r\n                });\r\n            }else{\r\n                const exists = state.items.find(i=>i.id === id && i.sell === true);\r\n                if(exists){\r\n                    exists.count += item.count;                \r\n                    state.items = [...state.items];\r\n                }else{\r\n                    state.items.push({ id, count: item.count, sell});\r\n                }          \r\n            }\r\n            state.newItem = item;\r\n        },\r\n        setItems(state, items){\r\n            state.items = items;\r\n        },\r\n        deleteNewItem(state){\r\n            state.newItem = null\r\n        }\r\n    },\r\n    actions: {\r\n    },\r\n    modules: {\r\n    },\r\n    getters:{        \r\n    }\r\n}\r\n  "]}]}