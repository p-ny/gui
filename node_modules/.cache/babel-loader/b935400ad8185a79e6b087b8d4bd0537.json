{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\Minigames\\MakeWeapon\\components\\MainTopRight.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\Minigames\\MakeWeapon\\components\\MainTopRight.vue","mtime":1625482892084},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2Rvd25sb2Fkcy9VTklRL0d1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcE11dGF0aW9ucywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNYWluVG9wUmlnaHQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50VGltZTogMzAsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICByOiAwLAogICAgICBjOiAwCiAgICB9OwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLnN0b3BUaW1lcigpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ2dhbWVNYWtlV2VhcG9uL3BhZ2VTdGF0ZScsIFsnYW5pbWF0aW9uQWN0aXZlJ10pKSwgbWFwU3RhdGUoJ2dhbWVNYWtlV2VhcG9uL2dhbWVTdGF0ZScsIFsnaXNHYW1lQmVnaW5lJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucygnZ2FtZU1ha2VXZWFwb24vcGFnZVN0YXRlJywgWydzZXRIZWxwVmlzaWJpbGl0eSddKSksIHt9LCB7CiAgICBwbGF5SG92ZXI6IGZ1bmN0aW9uIHBsYXlIb3ZlcigpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzb3VuZHMvcGxheSIsIHsKICAgICAgICAibmFtZSI6ICJkc2hvcF9ob3ZlciIsCiAgICAgICAgInZvbHVtZSI6IC4xCiAgICAgIH0pOwogICAgfSwKICAgIHBsYXlDbGljazogZnVuY3Rpb24gcGxheUNsaWNrKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNvdW5kcy9wbGF5IiwgewogICAgICAgICJuYW1lIjogImRzaG9wX2NsaWNrIiwKICAgICAgICAidm9sdW1lIjogLjEKICAgICAgfSk7CiAgICB9LAogICAgc2hvd0hlbHA6IGZ1bmN0aW9uIHNob3dIZWxwKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmlzR2FtZUJlZ2luZSkgcmV0dXJuOwogICAgICB0aGlzLnN0YXJ0VGltZXIoKTsKICAgICAgdGhpcy5zZXRIZWxwVmlzaWJpbGl0eSh0cnVlKTsKICAgICAgdGhpcy5wbGF5Q2xpY2soKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc3RvcFRpbWVyOwogICAgICB9LCAzMDAwMCk7CiAgICB9LAogICAgc3RhcnRUaW1lcjogZnVuY3Rpb24gc3RhcnRUaW1lcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmN1cnJlbnRUaW1lID0gMzA7CiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmN1cnJlbnRUaW1lLS07CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIHN0b3BUaW1lcjogZnVuY3Rpb24gc3RvcFRpbWVyKCkgewogICAgICB0aGlzLnNldEhlbHBWaXNpYmlsaXR5KGZhbHNlKTsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOwogICAgICB0aGlzLnRpbWVyID0gbnVsbDsKICAgIH0sCiAgICB0aW1lUHJvZ3Jlc3NCYXI6IGZ1bmN0aW9uIHRpbWVQcm9ncmVzc0JhcigpIHsKICAgICAgdmFyIGNpcmNsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXJjbGVQcm9ncmVzcycpOwoKICAgICAgaWYgKGNpcmNsZSkgewogICAgICAgIHRoaXMuciA9IHRoaXMuY29udmVydFJlbVRvUHgoY2lyY2xlLmdldEF0dHJpYnV0ZSgncicpKTsKICAgICAgICB0aGlzLmMgPSBNYXRoLlBJICogKHRoaXMuciAqIDIpOwogICAgICAgIHZhciBwcm9ncmVzcyA9IHRoaXMuYyAtIHRoaXMuY3VycmVudFRpbWUgKiAodGhpcy5jIC8gMzApOwogICAgICAgIHJldHVybiBwcm9ncmVzczsKICAgICAgfSBlbHNlIHJldHVybiAwOwogICAgfSwKICAgIGNvbnZlcnRSZW1Ub1B4OiBmdW5jdGlvbiBjb252ZXJ0UmVtVG9QeChyZW0pIHsKICAgICAgdmFyIHJlbU51bSA9IHJlbS5yZXBsYWNlKCdyZW0nLCAnJyk7CiAgICAgIHJldHVybiByZW1OdW0gKiBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZm9udFNpemUpOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICBjdXJyZW50VGltZTogZnVuY3Rpb24gY3VycmVudFRpbWUodGltZSkgewogICAgICBpZiAodGltZSA9PT0gMCkgewogICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["MainTopRight.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAA,YAAA,EAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,CAAA,EAAA,CAHA;AAIA,MAAA,CAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,SAVA,uBAUA;AACA,SAAA,SAAA;AACA,GAZA;AAaA,EAAA,QAAA,kCACA,QAAA,CAAA,0BAAA,EAAA,CAAA,iBAAA,CAAA,CADA,GAEA,QAAA,CAAA,0BAAA,EAAA,CAAA,cAAA,CAAA,CAFA,CAbA;AAiBA,EAAA,OAAA,kCACA,YAAA,CAAA,0BAAA,EAAA,CAAA,mBAAA,CAAA,CADA;AAEA,IAAA,SAFA,uBAEA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA;AAAA,gBAAA,aAAA;AAAA,kBAAA;AAAA,OAAA;AACA,KAJA;AAKA,IAAA,SALA,uBAKA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA;AAAA,gBAAA,aAAA;AAAA,kBAAA;AAAA,OAAA;AACA,KAPA;AAQA,IAAA,QARA,sBAQA;AAAA;;AACA,UAAA,CAAA,KAAA,YAAA,EAAA;AACA,WAAA,UAAA;AACA,WAAA,iBAAA,CAAA,IAAA;AACA,WAAA,SAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,SAAA;AACA,OAFA,EAEA,KAFA,CAAA;AAGA,KAhBA;AAiBA,IAAA,UAjBA,wBAiBA;AAAA;;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,KAAA,GAAA,WAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KAtBA;AAuBA,IAAA,SAvBA,uBAuBA;AACA,WAAA,iBAAA,CAAA,KAAA;AACA,MAAA,YAAA,CAAA,KAAA,KAAA,CAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,KA3BA;AA4BA,IAAA,eA5BA,6BA4BA;AACA,UAAA,MAAA,GAAA,QAAA,CAAA,cAAA,CAAA,gBAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,aAAA,CAAA,GAAA,KAAA,cAAA,CAAA,MAAA,CAAA,YAAA,CAAA,GAAA,CAAA,CAAA;AACA,aAAA,CAAA,GAAA,IAAA,CAAA,EAAA,IAAA,KAAA,CAAA,GAAA,CAAA,CAAA;AACA,YAAA,QAAA,GAAA,KAAA,CAAA,GAAA,KAAA,WAAA,IAAA,KAAA,CAAA,GAAA,EAAA,CAAA;AACA,eAAA,QAAA;AACA,OALA,MAKA,OAAA,CAAA;AACA,KApCA;AAqCA,IAAA,cArCA,0BAqCA,GArCA,EAqCA;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,OAAA,CAAA,KAAA,EAAA,EAAA,CAAA;AACA,aAAA,MAAA,GAAA,UAAA,CAAA,gBAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA,QAAA,CAAA;AACA;AAxCA,IAjBA;AA2DA,EAAA,KAAA,EAAA;AACA,IAAA,WADA,uBACA,IADA,EACA;AACA,UAAA,IAAA,KAAA,CAAA,EAAA;AACA,aAAA,SAAA;AACA;AACA;AALA;AA3DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"main-top__right\">\r\n    <div class=\"button-help\" v-bind:class=\"timer ? 'timer' : ''\" v-bind:style=\"animationActive?'opacity: 0':''\">\r\n      <a class=\"button-help__icon\" v-on:click=\"showHelp\"></a>\r\n      <div id=\"btn-sound\"></div>\r\n      <div class=\"button-help__progress\">\r\n        <span class=\"button-help__time\">{{ currentTime }}</span>\r\n        <svg\r\n          class=\"button-help__svg\"\r\n          width=\"5.3rem\"\r\n          height=\"5.3rem\"\r\n          viewPort=\"0 0 3.1rem 3.1rem\"\r\n          version=\"1.1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <circle\r\n            class=\"button-help__svg-circle\"\r\n            r=\"1.5rem\"\r\n            cx=\"1.7rem\"\r\n            cy=\"1.7rem\"\r\n            fill=\"transparent\"\r\n            stroke-dasharray=\"300\"\r\n            stroke-dashoffset=\"0\"\r\n          ></circle>\r\n          <circle\r\n            id=\"circleProgress\"\r\n            class=\"button-help__svg-progress\"\r\n            r=\"1.5rem\"\r\n            cx=\"-1.7rem\"\r\n            cy=\"1.7rem\"\r\n            v-bind:stroke-dasharray=\"c\"\r\n            stroke-dashoffset=\"0\"\r\n            v-bind:style=\"\r\n              currentTime\r\n                ? 'stroke-dashoffset: ' + timeProgressBar() + 'px;'\r\n                : ''\r\n            \"\r\n          ></circle>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from 'vuex';\r\nexport default {\r\n  name: 'MainTopRight',\r\n  data() {\r\n    return {\r\n      currentTime: 30,\r\n      timer: null,\r\n      r: 0,\r\n      c: 0,\r\n    };\r\n  },\r\n  destroyed() {\r\n    this.stopTimer();\r\n  },\r\n  computed: {\r\n    ...mapState('gameMakeWeapon/pageState', ['animationActive']),\r\n    ...mapState('gameMakeWeapon/gameState', ['isGameBegine']),\r\n  },\r\n  methods: {\r\n    ...mapMutations('gameMakeWeapon/pageState', ['setHelpVisibility']),\r\n    playHover(){\r\n        this.$store.commit(\"sounds/play\", {\"name\": \"dshop_hover\", \"volume\": .1});\r\n    },\r\n    playClick(){\r\n        this.$store.commit(\"sounds/play\", {\"name\": \"dshop_click\", \"volume\": .1});\r\n    },\r\n    showHelp() {\r\n      if(!this.isGameBegine) return;\r\n      this.startTimer();\r\n      this.setHelpVisibility(true);\r\n      this.playClick();      \r\n      setTimeout(() => {\r\n        this.stopTimer;\r\n      }, 30000);\r\n    },\r\n    startTimer() {\r\n      this.currentTime = 30;\r\n      this.timer = setInterval(() => {\r\n        this.currentTime--;\r\n      }, 1000);\r\n    },\r\n    stopTimer() {\r\n      this.setHelpVisibility(false);\r\n      clearTimeout(this.timer);\r\n      this.timer = null;\r\n    },\r\n    timeProgressBar() {\r\n      let circle = document.getElementById('circleProgress');\r\n      if (circle) {\r\n        this.r = this.convertRemToPx(circle.getAttribute('r'));\r\n        this.c = Math.PI * (this.r * 2);\r\n        let progress = this.c - this.currentTime * (this.c / 30);\r\n        return progress;\r\n      } else return 0;\r\n    },\r\n    convertRemToPx(rem) {\r\n      let remNum = rem.replace('rem', '');\r\n      return remNum * parseFloat(getComputedStyle(document.body).fontSize);\r\n    },\r\n  },\r\n  watch: {\r\n    currentTime(time) {\r\n      if (time === 0) {\r\n        this.stopTimer();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.main-top__right {\r\n  padding: 2rem;\r\n  #btn-sound {\r\n    display: none;\r\n  }\r\n}\r\n.button-help {\r\n  z-index: 2;\r\n  width: 4.8rem;\r\n  height: 4.8rem;\r\n  background: url('/img/miniGames/makeWeapon/btn-ellipse.png');\r\n  background-size: contain;\r\n  padding: 0.7rem;\r\n  margin-left: 0.5rem;\r\n  float: left;\r\n  &__icon {\r\n    display: block;\r\n    opacity: 1;\r\n    width: 3.4rem;\r\n    height: 3.4rem;\r\n    border-radius: 3.4rem;\r\n    background-color: #08090b;\r\n    background-image: url('/img/miniGames/makeWeapon/help-icon.png');\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n    background-size: 1.3rem 1.3rem;\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n    cursor: pointer;\r\n    transition: opacity 0.2s ease;\r\n    z-index: 1;\r\n\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n  }\r\n  &.timer {\r\n    background: transparent;\r\n    .button-help__icon {\r\n      opacity: 0;\r\n    }\r\n  }\r\n  &__icon:hover ~ &__wrong {\r\n    opacity: 1;\r\n  }\r\n  &__progress {\r\n    width: 3.1rem;\r\n    height: 3.1rem;\r\n    position: absolute;\r\n    top: 0.85rem;\r\n    left: 0.85rem;\r\n    border-radius: 100%;\r\n    z-index: -1;\r\n    opacity: 0;\r\n    transition: opacity 0.2s ease;\r\n    .timer & {\r\n      z-index: 3;\r\n      opacity: 1;\r\n    }\r\n  }\r\n  &__time {\r\n    display: block;\r\n    width: 100%;\r\n    position: absolute;\r\n    top: 50%;\r\n    line-height: 2rem;\r\n    margin-top: -1rem;\r\n    text-align: center;\r\n    \r\n    font-size: 1.1rem;\r\n    //font-weight: 700;\r\n    color: #fff;\r\n    z-index: 3;\r\n  }\r\n  &__svg {\r\n    margin-top: -0.15rem;\r\n    margin-left: -0.15rem;\r\n    z-index: 2;\r\n  }\r\n  &__svg-circle {\r\n    stroke-dashoffset: 0;\r\n    transition: stroke-dashoffset 1s linear;\r\n    stroke: #666;\r\n    stroke-width: 0.15rem;\r\n  }\r\n  &__svg-progress {\r\n    stroke: #dcff00 !important;\r\n    transform: rotate(-90deg);\r\n    stroke-width: 0.15rem;\r\n  }\r\n  // &__shadow {\r\n  //   width: 2.3rem;\r\n  //   height: 5.3rem;\r\n  //   stroke-width: 0.2rem;\r\n  // }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/Minigames/MakeWeapon/components"}]}