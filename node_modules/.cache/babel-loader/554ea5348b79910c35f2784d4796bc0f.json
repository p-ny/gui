{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\downloads\\UNIQ\\Gui\\src\\store\\newDonateShop\\inventory.js","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\store\\newDonateShop\\inventory.js","mtime":1619208104427},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\eslint-loader\\index.js","mtime":1685190018634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkQ6L2Rvd25sb2Fkcy9VTklRL0d1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgeyBpdGVtQnlJZCB9IGZyb20gJy4uLy4uL2NvbmZpZ3MvbmV3RG9uYXRlU2hvcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBpdGVtczogW10sCiAgICBuZXdJdGVtOiBudWxsLAogICAgbmV3SWRzOiAwCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHVwZGF0ZUl0ZW06IGZ1bmN0aW9uIHVwZGF0ZUl0ZW0oc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICAgIGNvdW50ID0gX3JlZi5jb3VudCwKICAgICAgICAgIHNlbGwgPSBfcmVmLnNlbGw7CgogICAgICBpZiAoY291bnQgPiAwKSB7CiAgICAgICAgdmFyIGV4aXN0cyA9IHN0YXRlLml0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiBpLmlkID09PSBpZCAmJiBpLnNlbGwgPT09IHNlbGw7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChleGlzdHMpIHsKICAgICAgICAgIGV4aXN0cy5jb3VudCA9IGNvdW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdGF0ZS5pdGVtcy5wdXNoKHsKICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICBjb3VudDogY291bnQsCiAgICAgICAgICAgIHNlbGw6IHNlbGwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaW5kZXggPSBzdGF0ZS5pdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiBpLmlkID09PSBpZCAmJiBpLnNlbGwgPT09IHNlbGw7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgc3RhdGUuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIGFkZEl0ZW06IGZ1bmN0aW9uIGFkZEl0ZW0oc3RhdGUsIF9yZWYyKSB7CiAgICAgIHZhciBpZCA9IF9yZWYyLmlkLAogICAgICAgICAgc2VsbCA9IF9yZWYyLnNlbGw7CiAgICAgIHZhciBpdGVtID0gaXRlbUJ5SWQoaWQpOwogICAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgogICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmRhdGEuSXRlbXMpKSB7CiAgICAgICAgaXRlbS5kYXRhLkl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGNJZCkgewogICAgICAgICAgdmFyIGNJdGVtID0gaXRlbUJ5SWQoY0lkKTsKICAgICAgICAgIHZhciBleGlzdHMgPSBzdGF0ZS5pdGVtcy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBjSWQgJiYgaS5zZWxsID09PSB0cnVlOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGV4aXN0cykgewogICAgICAgICAgICBleGlzdHMuY291bnQgKz0gY0l0ZW0uY291bnQ7CiAgICAgICAgICAgIHN0YXRlLml0ZW1zID0gX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLml0ZW1zKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0YXRlLml0ZW1zLnB1c2goewogICAgICAgICAgICAgIGlkOiBjSWQsCiAgICAgICAgICAgICAgY291bnQ6IGNJdGVtLmNvdW50LAogICAgICAgICAgICAgIHNlbGw6IHNlbGwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGV4aXN0cyA9IHN0YXRlLml0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiBpLmlkID09PSBpZCAmJiBpLnNlbGwgPT09IHRydWU7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChleGlzdHMpIHsKICAgICAgICAgIGV4aXN0cy5jb3VudCArPSBpdGVtLmNvdW50OwogICAgICAgICAgc3RhdGUuaXRlbXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuaXRlbXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdGF0ZS5pdGVtcy5wdXNoKHsKICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICBjb3VudDogaXRlbS5jb3VudCwKICAgICAgICAgICAgc2VsbDogc2VsbAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBzdGF0ZS5uZXdJdGVtID0gaXRlbTsKICAgIH0sCiAgICBzZXRJdGVtczogZnVuY3Rpb24gc2V0SXRlbXMoc3RhdGUsIGl0ZW1zKSB7CiAgICAgIHN0YXRlLml0ZW1zID0gaXRlbXM7CiAgICB9LAogICAgZGVsZXRlTmV3SXRlbTogZnVuY3Rpb24gZGVsZXRlTmV3SXRlbShzdGF0ZSkgewogICAgICBzdGF0ZS5uZXdJdGVtID0gbnVsbDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHt9LAogIG1vZHVsZXM6IHt9LAogIGdldHRlcnM6IHt9Cn07"},{"version":3,"sources":["D:/downloads/UNIQ/Gui/src/store/newDonateShop/inventory.js"],"names":["itemById","namespaced","state","items","newItem","newIds","mutations","updateItem","id","count","sell","exists","find","i","push","index","findIndex","splice","addItem","item","undefined","Array","isArray","data","Items","forEach","cId","cItem","setItems","deleteNewItem","actions","modules","getters"],"mappings":"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","sourcesContent":["import {itemById} from '../../configs/newDonateShop'\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        items:[],\r\n        newItem:null,\r\n        newIds: 0\r\n    },\r\n    mutations: {\r\n        updateItem(state, {id, count, sell}){\r\n            if(count > 0){\r\n                const exists = state.items.find(i=>i.id === id && i.sell === sell); \r\n                if(exists){\r\n                    exists.count = count;\r\n                }else{\r\n                    state.items.push({ id, count, sell})\r\n                }\r\n            }else{\r\n                const index = state.items.findIndex(i=>i.id === id && i.sell === sell)\r\n                if(index !== -1)\r\n                    state.items.splice(index, 1);\r\n            }\r\n        },\r\n        addItem(state, {id, sell}){\r\n            const item = itemById(id);\r\n            if(item === undefined) return;\r\n            if(Array.isArray(item.data.Items)){\r\n                item.data.Items.forEach(cId => {\r\n                    const cItem = itemById(cId);\r\n                    const exists = state.items.find(i=>i.id === cId && i.sell === true);\r\n                    if(exists){\r\n                        exists.count += cItem.count;                \r\n                        state.items = [...state.items];\r\n                    }else{\r\n                        state.items.push({ id: cId, count: cItem.count, sell});\r\n                    }   \r\n                });\r\n            }else{\r\n                const exists = state.items.find(i=>i.id === id && i.sell === true);\r\n                if(exists){\r\n                    exists.count += item.count;                \r\n                    state.items = [...state.items];\r\n                }else{\r\n                    state.items.push({ id, count: item.count, sell});\r\n                }          \r\n            }\r\n            state.newItem = item;\r\n        },\r\n        setItems(state, items){\r\n            state.items = items;\r\n        },\r\n        deleteNewItem(state){\r\n            state.newItem = null\r\n        }\r\n    },\r\n    actions: {\r\n    },\r\n    modules: {\r\n    },\r\n    getters:{        \r\n    }\r\n}\r\n  "]}]}