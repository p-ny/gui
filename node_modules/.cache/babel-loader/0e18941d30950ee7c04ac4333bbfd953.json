{"remainingRequest":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js!D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\downloads\\UNIQ\\Gui\\src\\views\\ReportMenu\\components\\Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\downloads\\UNIQ\\Gui\\src\\views\\ReportMenu\\components\\Chat.vue","mtime":1641986690758},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"D:\\downloads\\UNIQ\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovZG93bmxvYWRzL1VOSVEvR3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNoYXQiLAogIHByb3BzOiB7CiAgICBkeW5hbWljOiBCb29sZWFuCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCJyZXBvcnRNZW51IiwgWyJxdWlja0FjdGlvbnMiLCAiY3VycmVudENoYXQiLCAibXlTZXR0aW5ncyIsICJtZXNzYWdlTW9kZWwiXSkpLCBtYXBHZXR0ZXJzKCJsb2NhbGl6YXRpb24iLCBbImxvYyJdKSksIHt9LCB7CiAgICBjdXJyZW50TWVzc2FnZU1vZGVsOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VNb2RlbDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLnNldE1lc3NhZ2VNb2RlbCh2YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucygicmVwb3J0TWVudSIsIFsic2V0Q3VycmVudENoYXQiLCAic2V0TWVzc2FnZU1vZGVsIl0pKSwge30sIHsKICAgIGRlbGV0ZU1lc3NhZ2U6IGZ1bmN0aW9uIGRlbGV0ZU1lc3NhZ2UoaWQsIGluZGV4KSB7CiAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCJyZXBvcnRNZW51OmRlbGV0ZU1lc3NhZ2UiLCBpZCwgaW5kZXgpOwogICAgfSwKICAgIHNldEFjdGlvbjogZnVuY3Rpb24gc2V0QWN0aW9uKHR5cGUsIGluZGV4KSB7CiAgICAgIGlmICh0eXBlID09ICJwb3NpdGlvbiIpIHsKICAgICAgICB3aW5kb3cubXAudHJpZ2dlcigicmVwb3J0TWVudTpwb3NpdGlvbiIsIHRoaXMuY3VycmVudENoYXQuaWQpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJraWNrIikgewogICAgICAgIHRoaXMuc2V0U2hvd01vZGFsKHR5cGUpOwogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCJyZXBvcnRNZW51OmhvdGtleXMiLCB0aGlzLmN1cnJlbnRDaGF0LmlkLCBpbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRTaG93TW9kYWw6IGZ1bmN0aW9uIHNldFNob3dNb2RhbCh0eXBlKSB7CiAgICAgIHRoaXMuJGVtaXQoInNob3dNb2RhbCIsIHR5cGUpOwogICAgfSwKICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZSgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudE1lc3NhZ2VNb2RlbCAhPSBudWxsICYmIHRoaXMuY3VycmVudE1lc3NhZ2VNb2RlbCAhPSAiIikgewogICAgICAgIHdpbmRvdy5tcC50cmlnZ2VyKCJyZXBvcnRNZW51OnNlbmRtZXNzYWdlIiwgdGhpcy5jdXJyZW50Q2hhdC5pZCwgdGhpcy5jdXJyZW50TWVzc2FnZU1vZGVsKTsKICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlTW9kZWwgPSBudWxsOwogICAgICB9CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,SAAA,UAAA,EAAA,YAAA,EAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAHA;AAOA,EAAA,QAAA,gDACA,QAAA,CAAA,YAAA,EAAA,CAAA,cAAA,EAAA,aAAA,EAAA,YAAA,EAAA,cAAA,CAAA,CADA,GAEA,UAAA,CAAA,cAAA,EAAA,CAAA,KAAA,CAAA,CAFA;AAGA,IAAA,mBAAA,EAAA;AACA,MAAA,GAAA,EAAA,eAAA;AACA,eAAA,KAAA,YAAA;AACA,OAHA;AAIA,MAAA,GAAA,EAAA,aAAA,KAAA,EAAA;AACA,aAAA,eAAA,CAAA,KAAA;AACA;AANA;AAHA,IAPA;AAoBA,EAAA,OAAA,kCACA,YAAA,CAAA,YAAA,EAAA,CAAA,gBAAA,EAAA,iBAAA,CAAA,CADA;AAEA,IAAA,aAAA,EAAA,uBAAA,EAAA,EAAA,KAAA,EAAA;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,OAAA,CAAA,0BAAA,EAAA,EAAA,EAAA,KAAA;AACA,KAJA;AAKA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA,KAAA,EAAA;AACA,UAAA,IAAA,IAAA,UAAA,EAAA;AACA,QAAA,MAAA,CAAA,EAAA,CAAA,OAAA,CAAA,qBAAA,EAAA,KAAA,WAAA,CAAA,EAAA;AACA,OAFA,MAEA,IAAA,IAAA,KAAA,MAAA,EAAA;AACA,aAAA,YAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,CAAA,EAAA,CAAA,OAAA,CAAA,oBAAA,EAAA,KAAA,WAAA,CAAA,EAAA,EAAA,KAAA;AACA;AACA,KAbA;AAcA,IAAA,YAAA,EAAA,sBAAA,IAAA,EAAA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA,IAAA;AACA,KAhBA;AAiBA,IAAA,WAAA,EAAA,uBAAA;AACA,UAAA,KAAA,mBAAA,IAAA,IAAA,IAAA,KAAA,mBAAA,IAAA,EAAA,EAAA;AACA,QAAA,MAAA,CAAA,EAAA,CAAA,OAAA,CACA,wBADA,EAEA,KAAA,WAAA,CAAA,EAFA,EAGA,KAAA,mBAHA;AAKA,aAAA,mBAAA,GAAA,IAAA;AACA;AACA;AA1BA;AApBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"chat\">\r\n    <template v-if=\"currentChat !== null\">\r\n      <div class=\"chat__header\">\r\n        <div class=\"btns-wrap\">\r\n          <div class=\"btn btn-turn\" @click=\"setCurrentChat(null)\"></div>\r\n          <div\r\n            class=\"btn btn-close\"\r\n            v-if=\"dynamic\"\r\n            @click=\"setShowModal('closeReport')\"\r\n          ></div>\r\n        </div>\r\n        <div class=\"chat__header-player\">{{ currentChat.reporterName }} <span class=\"id\">[{{ currentChat.reporterId }}]</span>\r\n        </div>\r\n        <div class=\"chat__header-interaction\" v-if=\"dynamic\">\r\n          <div\r\n            class=\"btn\"\r\n            v-for=\"item in quickActions\"\r\n            :key=\"item.key\"\r\n            @click=\"setAction(item.type, item.key)\"\r\n          >\r\n            {{ loc(item.name) }}\r\n          </div>\r\n        </div>\r\n        <div class=\"chat__header-reputation\" v-else>\r\n          <div\r\n            :class=\"[{ active: item <= currentChat.rating }, 'star']\"\r\n            v-for=\"item in 5\"\r\n            :key=\"item.id\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"chat__body\">\r\n        <div class=\"messages-list scroll\">\r\n          <div\r\n            :class=\"[\r\n              { player: item.sender === currentChat.reporterName },\r\n              'message',\r\n            ]\"\r\n            v-for=\"(item) in currentChat.messages\"\r\n            :key=\"item.key\"\r\n          >\r\n            <div class=\"text\">{{ loc(item.text) }}</div>\r\n            <div class=\"message-sender\" v-if=\"item.sender === mySettings.name\">\r\n              {{ loc(\"ReportMenu_9\") }}\r\n            </div>\r\n            <div\r\n              class=\"message-sender\"\r\n              v-else-if=\"item.sender !== currentChat.reporterName\"\r\n            >\r\n              {{ loc(\"ReportMenu_10\") }} ({{ item.sender }})\r\n            </div>\r\n            <!-- <div\r\n              class=\"btn-delete\"\r\n              v-if=\"\r\n                item.sender !== currentChat.reporterName && !currentChat.rating\r\n              \"\r\n              @click=\"deleteMessage(currentChat.id, index)\"\r\n            >\r\n              {{ loc(\"ReportMenu_11\") }}\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"input-wrap\" v-if=\"dynamic\">\r\n          <input\r\n            type=\"text\"\r\n            :placeholder=\"loc('ReportMenu_22')\"\r\n            v-model=\"currentMessageModel\"\r\n            @keydown.enter=\"sendMessage\"\r\n          />\r\n          <div \r\n            class=\"btn btn-send\" \r\n            @click=\"sendMessage\"\r\n          ></div>\r\n        </div>\r\n        <div class=\"input-wrap\" v-else>\r\n          <div class=\"input-text\">{{ loc(\"ReportMenu_12\") }}.</div>\r\n          <div class=\"btn btn-send locked\"></div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n  name: \"Chat\",\r\n\r\n  props: {\r\n    dynamic: Boolean,\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"reportMenu\", [\"quickActions\", \"currentChat\", \"mySettings\", \"messageModel\"]),\r\n    ...mapGetters(\"localization\", [\"loc\"]),\r\n    currentMessageModel: {\r\n      get: function() {\r\n        return this.messageModel\r\n      },\r\n      set: function(value) {\r\n        this.setMessageModel(value)\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations(\"reportMenu\", [\"setCurrentChat\", \"setMessageModel\"]),\r\n    deleteMessage: function (id, index) {\r\n      window.mp.trigger(\"reportMenu:deleteMessage\", id, index);\r\n    },\r\n    setAction: function (type, index) {\r\n      if(type == \"position\"){\r\n        window.mp.trigger(\"reportMenu:position\", this.currentChat.id);\r\n      }else if (type === \"kick\") {\r\n        this.setShowModal(type);\r\n      } else {\r\n        window.mp.trigger(\"reportMenu:hotkeys\", this.currentChat.id, index);\r\n      }\r\n    },\r\n    setShowModal: function (type) {\r\n      this.$emit(\"showModal\", type);\r\n    },\r\n    sendMessage: function () {\r\n      if (this.currentMessageModel != null && this.currentMessageModel != \"\") {\r\n        window.mp.trigger(\r\n          \"reportMenu:sendmessage\",\r\n          this.currentChat.id,\r\n          this.currentMessageModel\r\n        );\r\n        this.currentMessageModel = null;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@keyframes show {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n.chat {\r\n  display: flex;\r\n  flex-flow: column;\r\n  width: 50.4rem;\r\n  min-width: 50.4rem;\r\n  height: 100%;\r\n  position: relative;\r\n  &:before,\r\n  &:after {\r\n    content: \"\";\r\n    width: 1px;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    background: radial-gradient(\r\n      50% 50% at 50% 50%,\r\n      rgba(255, 255, 255, 0.65) 0%,\r\n      rgba(255, 255, 255, 0) 100%\r\n    );\r\n  }\r\n  &:before {\r\n    left: -1px;\r\n  }\r\n  &:after {\r\n    right: 0;\r\n  }\r\n  &__header,\r\n  &__body {\r\n    animation-name: show;\r\n    animation-duration: 0.3s;\r\n  }\r\n  &__header {\r\n    display: flex;\r\n    flex-flow: column;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    height: 9.2rem;\r\n    min-height: 9.2rem;\r\n    padding: 1.9rem 2.85rem;\r\n    background: rgba(38, 40, 46, 0.25);\r\n    position: relative;\r\n    .btns-wrap {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      position: absolute;\r\n      top: 1.4rem;\r\n      right: 1.1rem;\r\n      .btn {\r\n        margin-left: 1rem;\r\n        width: 1.95rem;\r\n        height: 1.95rem;\r\n        opacity: 0.25;\r\n        &:hover {\r\n          opacity: 0.6;\r\n        }\r\n        &:first-child {\r\n          margin-left: 0;\r\n        }\r\n      }\r\n      .btn-close {\r\n        background-image: url(\"/img/reportMenu/btn-close.svg\");\r\n      }\r\n      .btn-turn {\r\n        &:after {\r\n          content: \"\";\r\n          height: 0.2rem;\r\n          width: 1.7rem;\r\n          background: #fff;\r\n        }\r\n      }\r\n    }\r\n    &-player {\r\n      font-size: 2.05rem;\r\n      line-height: 119.5%;\r\n      display: flex;\r\n      align-items: center;\r\n      white-space: pre;\r\n      .id {\r\n        color: rgba(255, 255, 255, 0.45);\r\n      }\r\n    }\r\n    &-interaction {\r\n      display: flex;\r\n      align-items: center;\r\n      .btn {\r\n        background: rgba(231, 4, 4, 0.15);\r\n        border: 1px solid #e70404;\r\n        box-sizing: border-box;\r\n        border-radius: 0.5rem;\r\n        font-weight: bold;\r\n        font-size: 1.05rem;\r\n        line-height: 1.05rem;\r\n        letter-spacing: 0.05em;\r\n        padding: 0.6rem 1.2rem;\r\n        margin-right: 0.65rem;\r\n        opacity: 0.35;\r\n        &:hover {\r\n          opacity: 1;\r\n        }\r\n      }\r\n    }\r\n    &-reputation {\r\n      display: flex;\r\n      align-items: center;\r\n      .star {\r\n        width: 1.9rem;\r\n        height: 1.9rem;\r\n        background-size: contain;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        background-image: url(\"/img/reportMenu/star.svg\");\r\n        margin-right: 0.45rem;\r\n        &.active {\r\n          background-image: url(\"/img/reportMenu/star-active.svg\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n  &__body {\r\n    width: 100%;\r\n    height: calc(100% - (9.3rem));\r\n    display: flex;\r\n    flex-flow: column;\r\n    font-family: Roboto;\r\n    .messages-list {\r\n      display: flex;\r\n      flex-flow: column;\r\n      height: 100%;\r\n      max-height: 100%;\r\n      overflow-y: auto;\r\n      padding: 2.35rem 1.65rem 2.35rem 2.9rem;\r\n      margin-right: 0.95rem;\r\n    }\r\n    .message {\r\n      padding: 1.1rem 2rem;\r\n      background: #1f2025;\r\n      border-radius: 5rem 0 5rem 5rem;\r\n      max-width: 30rem;\r\n      align-self: flex-end;\r\n      margin: 3rem 0 1rem 0;\r\n      position: relative;\r\n      &:last-child {\r\n        margin-bottom: 0;\r\n      }\r\n      &.player {\r\n        background: #4c4f56;\r\n        border-radius: 0 5rem 5rem 5rem;\r\n        align-self: flex-start;\r\n        margin: 0 0 0.7rem 0;\r\n      }\r\n      .text {\r\n        font-size: 0.9rem;\r\n        line-height: 119.5%;\r\n      }\r\n      .btn-delete,\r\n      .message-sender {\r\n        position: absolute;\r\n        right: 1.8rem;\r\n      }\r\n      .btn-delete {\r\n        font-size: 0.7rem;\r\n        line-height: 119.5%;\r\n        text-decoration-line: underline;\r\n        color: rgba(255, 255, 255, 0.45);\r\n        bottom: -0.5rem;\r\n        transform: translateY(100%);\r\n        &:hover {\r\n          color: rgba(255, 255, 255, 0.75);\r\n        }\r\n      }\r\n      .message-sender {\r\n        top: -0.75rem;\r\n        transform: translateY(-100%);\r\n        font-weight: bold;\r\n        font-size: 0.9rem;\r\n        line-height: 119.5%;\r\n        white-space: pre;\r\n        color: rgba(255, 255, 255, 0.45);\r\n      }\r\n    }\r\n    .input-wrap {\r\n      background: rgba(38, 40, 46, 0.25);\r\n      height: 5rem;\r\n      min-height: 5rem;\r\n      display: flex;\r\n      align-items: center;\r\n      input {\r\n        outline: none;\r\n        border: none;\r\n        background: transparent;\r\n        height: 100%;\r\n        width: 100%;\r\n        font-weight: bold;\r\n        font-size: 0.9rem;\r\n        color: rgba(255, 255, 255, 0.45);\r\n        padding: 0 2.85rem;\r\n      }\r\n      .btn-send {\r\n        width: 1.15rem;\r\n        height: 1.15rem;\r\n        min-width: 1.15rem;\r\n        margin-right: 2.35rem;\r\n        background-image: url(\"/img/reportMenu/btn-send.svg\");\r\n        &:hover {\r\n          transform: scale(1.15);\r\n        }\r\n        &.locked {\r\n          background-image: url(\"/img/reportMenu/btn-send-locked.svg\");\r\n          &:hover {\r\n            transform: none;\r\n          }\r\n        }\r\n      }\r\n      .input-text {\r\n        font-weight: bold;\r\n        font-size: 0.9rem;\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 0 2.85rem;\r\n        color: rgba(255, 255, 255, 0.15);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/ReportMenu/components"}]}