{"remainingRequest":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js!C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\gta go\\Gui\\src\\views\\NewDonateShop\\Roulette\\Game.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\gta go\\Gui\\src\\views\\NewDonateShop\\Roulette\\Game.vue","mtime":1625151238078},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\babel-loader\\lib\\index.js","mtime":1685190019507},{"path":"C:\\gta go\\Gui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685190017390},{"path":"C:\\gta go\\Gui\\node_modules\\vue-loader\\lib\\index.js","mtime":1685190022137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L2d0YSBnby9HdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgU2xvdCBmcm9tICcuL1Nsb3QnOwppbXBvcnQgeyByb3VsZXR0ZUl0ZW1zQnlJZCB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZ3MvbmV3RG9uYXRlU2hvcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgdHlwZTogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMCwKICAgICAgY2FudmFzOiBudWxsLAogICAgICBjdHg6IG51bGwsCiAgICAgIGNvdW50RWxlbWVudHM6IDUsCiAgICAgIHNwZWVkOiAwLAogICAgICBmcmFtZVJhdGU6IDM2LAogICAgICBtYXhTcGVlZDogMTUwLAogICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgdGltZVRvU3RvcDogMCwKICAgICAgc2l6ZUl0ZW06IDAsCiAgICAgIHN0YXRlOiBbXSwKICAgICAgaXRlbUxpc3Q6IFtdLAogICAgICBiZ0ltZzogbnVsbCwKICAgICAgbGFzdEZyYW1lOiAwLAogICAgICBoZWFkUmVzdWx0OiBudWxsLAogICAgICB3aW5SZXN1bHQ6IG51bGwsCiAgICAgIGNhbmNlbDogZmFsc2UsCiAgICAgIGFudGlGbG9vZDogMCwKICAgICAgc3RvcEZyb206IDAsCiAgICAgIHNvdW5kOiB0cnVlLAogICAgICB3aW5CdWlsZGVkOiBmYWxzZSwKICAgICAgZmxvb2RQcm90ZWN0aW9uOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ25ld0RvbmF0ZVNob3Avcm91bGV0dGUnLCBbJ2lzUnVuJywgJ2lzU3RvcCcsICdpc1dpbicsICdyZXN1bHQnXSkpLCBtYXBTdGF0ZSgnbmV3RG9uYXRlU2hvcCcsIFsnY29pbnMnLCAnZ2VuZGVyJ10pKSwgbWFwU3RhdGUoJ2h1ZCcsIFsnbW9uZXknXSkpLCBtYXBHZXR0ZXJzKCdsb2NhbGl6YXRpb24nLCBbJ2xvYyddKSksIHt9LCB7CiAgICBjdXJyZW5jeUltZzogZnVuY3Rpb24gY3VycmVuY3lJbWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnR5cGUuZm9yQ29pbnMgPyAnL2ltZy9uZXdEb25hdGVTaG9wL2hlYWRlcl9jb2luLnBuZycgOiAnL2ltZy9uZXdEb25hdGVTaG9wL2hlYWRlcl9tb25leS5zdmcnOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnbmV3RG9uYXRlU2hvcC9yb3VsZXR0ZScsIFsncmVxdWVzdFN0YXJ0JywgJ3JlcXVlc3RTdG9wJywgJ3JlcXVlc3RGYXN0U3RvcCcsICdyZXF1ZXN0V2luJ10pKSwge30sIHsKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgLy9pZih0aGlzLmZsb29kUHJvdGVjdGlvbiA+IERhdGUubm93KCkpIHJldHVybjsKICAgICAgaWYgKHRoaXMuaXNSdW4pIHsKICAgICAgICBpZiAodGhpcy5yZXN1bHQgIT09IC0xICYmICF0aGlzLndpbkJ1aWxkZWQpIHsKICAgICAgICAgIHRoaXMuc3BlZWQgPSAwOwogICAgICAgICAgdGhpcy5zdGF0ZSA9IFtdOwogICAgICAgICAgdGhpcy50aW1lVG9TdG9wID0gRGF0ZS5ub3coKTsKICAgICAgICAgIHRoaXMuYnVpbFdpbkNvbWJpbmF0aW9uKHRoaXMucmVzdWx0KTsKICAgICAgICAgIHRoaXMucmVxdWVzdEZhc3RTdG9wKHRoaXMudHlwZS5mb3JDb2lucyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnR5cGUuZm9yQ29pbnMgJiYgdGhpcy5jb2lucyA8IHRoaXMudHlwZS5wcmljZSkgewogICAgICAgICAgd2luZG93LnNldERhdGEoJ25vdGlmeUxpc3Qvbm90aWZ5JywgewogICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICBwb3NpdGlvbjogMiwKICAgICAgICAgICAgbWVzc2FnZTogJ2RzaG9wOml0ZW06YnV5Ondyb25nOmNvaW5zJywKICAgICAgICAgICAgdGltZTogMzAwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRoaXMudHlwZS5mb3JDb2lucyAmJiB0aGlzLm1vbmV5IDwgdGhpcy50eXBlLnByaWNlKSB7CiAgICAgICAgICB3aW5kb3cuc2V0RGF0YSgnbm90aWZ5TGlzdC9ub3RpZnknLCB7CiAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgIHBvc2l0aW9uOiAyLAogICAgICAgICAgICBtZXNzYWdlOiAnZHNob3A6aXRlbTpidXk6d3Jvbmc6bW9uZXknLAogICAgICAgICAgICB0aW1lOiAzMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vdGhpcy5mbG9vZFByb3RlY3Rpb24gPSBEYXRlLm5vdygpICsgNTAwOwoKCiAgICAgICAgdGhpcy53aW5CdWlsZGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5yZXF1ZXN0U3RhcnQodGhpcy50eXBlLmlkKTsKICAgICAgICB0aGlzLnRpbWVUb1N0b3AgPSBEYXRlLm5vdygpICsgdGhpcy5kdXJhdGlvbjsKICAgICAgfQogICAgfSwKICAgIGFkZFJhbmRvbUVsZW1lbnQ6IGZ1bmN0aW9uIGFkZFJhbmRvbUVsZW1lbnQoKSB7CiAgICAgIHZhciBsYXN0ID0gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmxlbmd0aCAtIDFdOwogICAgICB2YXIgY3VycmVudE9mZnNldCA9IGxhc3QgPyBsYXN0LnBvc1ggKyBsYXN0LnNpemUgOiAwOwogICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbUxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5pdGVtTGlzdC5sZW5ndGgpXTsKICAgICAgdmFyIHNsb3QgPSBuZXcgU2xvdCh0aGlzLmN0eCwgaXRlbSwgdGhpcy5oZWlnaHQsIHRoaXMuYmdJbWcsIGN1cnJlbnRPZmZzZXQpOwogICAgICB0aGlzLnN0YXRlLnB1c2goc2xvdCk7CiAgICAgIHJldHVybiBzbG90OwogICAgfSwKICAgIGFkZFdpbkVsZW1lbnQ6IGZ1bmN0aW9uIGFkZFdpbkVsZW1lbnQoaWQpIHsKICAgICAgdmFyIGxhc3QgPSB0aGlzLnN0YXRlW3RoaXMuc3RhdGUubGVuZ3RoIC0gMV07CiAgICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gbGFzdCA/IGxhc3QucG9zWCArIGxhc3Quc2l6ZSA6IDA7CiAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtTGlzdC5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkuaWQgPT0gaWQ7CiAgICAgIH0pOwogICAgICB2YXIgc2xvdCA9IG5ldyBTbG90KHRoaXMuY3R4LCBpdGVtLCB0aGlzLmhlaWdodCwgdGhpcy5iZ0ltZywgY3VycmVudE9mZnNldCk7CiAgICAgIHRoaXMuc3RhdGUucHVzaChzbG90KTsKICAgICAgcmV0dXJuIHNsb3Q7CiAgICB9LAogICAgcmVtb3ZlRWxlbWVudDogZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHsKICAgICAgdGhpcy5zdGF0ZS5zaGlmdCgpOyAvL3RoaXMuJHN0b3JlLmNvbW1pdCgic291bmRzL3BsYXkiLCB7IG5hbWU6IGB0aWNrYCwgdm9sdW1lOiAwLjAzIH0pCiAgICB9LAogICAgaW5pdEdhbWU6IGZ1bmN0aW9uIGluaXRHYW1lKCkgewogICAgICB0aGlzLnN0YXRlID0gW107CgogICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5jb3VudEVsZW1lbnRzICsgMjsgaW5kZXgrKykgewogICAgICAgIHRoaXMuYWRkUmFuZG9tRWxlbWVudCgpOwogICAgICB9CgogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVTdGF0ZSwgdGhpcy5jYW52YXMpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIHRoaXMua2V5SGFuZGxlcik7CiAgICB9LAogICAgdXBkYXRlU3RhdGU6IGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKCkgewogICAgICBpZiAodGhpcy5jYW5jZWwpIHJldHVybjsKCiAgICAgIGlmICh0aGlzLmxhc3RGcmFtZSA8IERhdGUubm93KCkpIHsKICAgICAgICBpZiAodGhpcy5pc1J1bikgewogICAgICAgICAgdGhpcy5sYXN0RnJhbWUgPSBEYXRlLm5vdygpICsgdGhpcy5mcmFtZVJhdGU7CiAgICAgICAgICBpZiAodGhpcy50aW1lVG9TdG9wIDwgRGF0ZS5ub3coKSkgdGhpcy5yZXF1ZXN0U3RvcCgpOwogICAgICAgICAgaWYgKHRoaXMuaXNTdG9wKSB0aGlzLmhhbmRsZVN0b3AoKTtlbHNlIHRoaXMuaGFuZGxlTG9vcCgpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5kcmF3RnJhbWUoKTsKICAgICAgfQoKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlU3RhdGUsIHRoaXMuY2FudmFzKTsKICAgIH0sCiAgICBoYW5kbGVMb29wOiBmdW5jdGlvbiBoYW5kbGVMb29wKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzKSByZXR1cm47CiAgICAgIGlmICh0aGlzLm1heFNwZWVkID4gdGhpcy5zcGVlZCkgdGhpcy5zcGVlZCArPSA1OwoKICAgICAgaWYgKHRoaXMuc3RhdGVbMF0uY2FuRGVsZXRlKCkpIHsKICAgICAgICB0aGlzLnJlbW92ZUVsZW1lbnQoKTsKICAgICAgICB0aGlzLmFkZFJhbmRvbUVsZW1lbnQoKTsKICAgICAgfQoKICAgICAgdGhpcy5zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5tb3ZlWChfdGhpcy5zcGVlZCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVN0b3A6IGZ1bmN0aW9uIGhhbmRsZVN0b3AoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc3BlZWQgPiB0aGlzLm1heFNwZWVkICogLjIpIHsKICAgICAgICBpZiAodGhpcy5zdGF0ZVswXS5jYW5EZWxldGUoKSkgewogICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50KCk7CiAgICAgICAgICB0aGlzLmFkZFJhbmRvbUVsZW1lbnQoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5tb3ZlWChfdGhpczIuc3BlZWQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuc3BlZWQgLT0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMud2luQnVpbGRlZCkgewogICAgICAgICAgdGhpcy5idWlsV2luQ29tYmluYXRpb24odGhpcy5yZXN1bHQpOwogICAgICAgICAgdGhpcy5zdG9wRnJvbSA9IHRoaXMuaGVhZFJlc3VsdC5wb3NYOwogICAgICAgIH0KCiAgICAgICAgdmFyIGtvZiA9IE1hdGguYWJzKHRoaXMuaGVhZFJlc3VsdC5wb3NYIC8gdGhpcy5zdG9wRnJvbSk7CiAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5tYXhTcGVlZCAqIGtvZiAqIC4yKSwgNSk7CgogICAgICAgIGlmICh0aGlzLmhlYWRSZXN1bHQucG9zWCA8IDEpIHsKICAgICAgICAgIHZhciBmaXggPSB0aGlzLmhlYWRSZXN1bHQucG9zWDsKICAgICAgICAgIHRoaXMuc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLmZpeFBvcyhmaXgpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnNwZWVkID0gMDsKICAgICAgICAgIHRoaXMucmVxdWVzdFdpbih0aGlzLnR5cGUuZm9yQ29pbnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnN0YXRlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaXRlbS5tb3ZlWChfdGhpczIuc3BlZWQpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5zdGF0ZVswXS5jYW5EZWxldGUoKSkgewogICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYnVpbFdpbkNvbWJpbmF0aW9uOiBmdW5jdGlvbiBidWlsV2luQ29tYmluYXRpb24odmFsKSB7CiAgICAgIHRoaXMud2luQnVpbGRlZCA9IHRydWU7CgogICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5jb3VudEVsZW1lbnRzOyBpbmRleCsrKSB7CiAgICAgICAgaWYgKGluZGV4ID09IDApIHsKICAgICAgICAgIHRoaXMuaGVhZFJlc3VsdCA9IHRoaXMuYWRkUmFuZG9tRWxlbWVudCgpOwogICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT0gMikgewogICAgICAgICAgdGhpcy53aW5SZXN1bHQgPSB0aGlzLmFkZFdpbkVsZW1lbnQodmFsKTsKICAgICAgICB9IGVsc2UgdGhpcy5hZGRSYW5kb21FbGVtZW50KCk7CiAgICAgIH0KICAgIH0sCiAgICBkcmF3RnJhbWU6IGZ1bmN0aW9uIGRyYXdGcmFtZSgpIHsKICAgICAgdGhpcy5jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gIm5vcm1hbCI7CiAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7CiAgICAgIHRoaXMuc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uZHJhdygpOwogICAgICB9KTsKICAgICAgaWYgKHRoaXMuaXNXaW4gJiYgdGhpcy53aW5SZXN1bHQpIHRoaXMud2luUmVzdWx0LmRyYXdFZmZlY3QoKTsKICAgICAgdmFyIGdyYWRpZW50ID0gdGhpcy5jdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOwogICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMCwwLDAsMCknKTsKICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKC4wNSwgJ3JnYmEoMCwwLDAsLjEpJyk7CiAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCguMiwgJ3JnYmEoMCwwLDAsMSknKTsKICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKC44LCAncmdiYSgwLDAsMCwxKScpOwogICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoLjk1LCAncmdiYSgwLDAsMCwuMSknKTsKICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDAsMCwwLDApJyk7CiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50OwogICAgICB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAiZGVzdGluYXRpb24taW4iOwogICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTsKICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOwogICAgfSwKICAgIGluaXRJbWFnZXM6IGZ1bmN0aW9uIGluaXRJbWFnZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5iZ0ltZyA9IG5ldyBJbWFnZSh0aGlzLmhlaWdodCwgdGhpcy5oZWlnaHQpOwogICAgICB0aGlzLmJnSW1nLnNyYyA9ICIvaW1nL25ld0RvbmF0ZVNob3Avcm91bGV0dGUvaXRlbUJnLnBuZyI7CiAgICAgIHRoaXMuaXRlbUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uaW1nID0gbmV3IEltYWdlKF90aGlzMy5oZWlnaHQsIF90aGlzMy5oZWlnaHQpOwogICAgICAgIGl0ZW0uaW1nLnNyYyA9ICIvaW1nL25ld0RvbmF0ZVNob3AvaXRlbXMvIi5jb25jYXQoaXRlbS5pbWFnZSwgIi5wbmciKTsKICAgICAgfSk7CiAgICB9LAogICAga2V5SGFuZGxlcjogZnVuY3Rpb24ga2V5SGFuZGxlcihlKSB7CiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgdGhpcy5zdGFydCgpOwogICAgICB9CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaXRlbUxpc3QgPSBbXTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbmV3RG9uYXRlU2hvcC9yb3VsZXR0ZS9yZXNldCcpOwogICAgdmFyIHBhcnJlbnQgPSB0aGlzLiRyZWZzWyJkcnBhcmVudCJdOwogICAgdGhpcy53aWR0aCA9IHBhcnJlbnQub2Zmc2V0V2lkdGg7CiAgICB0aGlzLmhlaWdodCA9IHBhcnJlbnQub2Zmc2V0V2lkdGggLyB0aGlzLmNvdW50RWxlbWVudHM7CiAgICB0aGlzLml0ZW1MaXN0ID0gcm91bGV0dGVJdGVtc0J5SWQodGhpcy50eXBlLmlkLCB0aGlzLmdlbmRlcik7CiAgICB0aGlzLmluaXRJbWFnZXMoKTsKICAgIHRoaXMuY2FudmFzID0gdGhpcy4kcmVmc1siZHJjYW52YXMiXTsKICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgIHRoaXMuZnJhbWVSYXRlID0gTWF0aC5mbG9vcigxMDAwIC8gdGhpcy5mcmFtZVJhdGUpOwogICAgc2V0VGltZW91dCh0aGlzLmluaXRHYW1lLCA1MDApOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5rZXlIYW5kbGVyKTsKICAgIHRoaXMuY2FuY2VsID0gdHJ1ZTsKICB9Cn07"},{"version":3,"sources":["Game.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"newdshop-roull-game\" ref=\"drparent\">\r\n        <div class=\"newdshop-roull-game_subtitle\">{{loc('newdshop:roul:game:sub')}}</div>\r\n        <div class=\"newdshop-roull-game_title\">{{type.name}}</div>\r\n        <div class=\"newdshop-roull-game_top\"></div>\r\n        <div class=\"newdshop-roull-game_top\"><img src=\"/img/newDonateShop/roulette/marker.svg\" alt=\"marker\"></div>\r\n        <canvas :width=\"width\" :height=\"height\" ref=\"drcanvas\"/>\r\n        <div class=\"newdshop-roull-game_bottom\"><img src=\"/img/newDonateShop/roulette/marker.svg\" alt=\"marker\"></div>\r\n        <div class=\"newdshop-roull-game-button\" @click=\"start\">\r\n            <div class=\"newdshop-roull-game-button_container\" v-if=\"this.isRun\">\r\n                <div>{{loc('newdshop:roul:game:btn:stop')}}</div>\r\n            </div>\r\n            <div class=\"newdshop-roull-game-button_container\" v-else>\r\n                <div>{{loc('newdshop:roul:game:btn:start')}}</div>\r\n                <div class=\"newdshop-roull-game-button_decor\"></div>\r\n                <img :src=\"currencyImg\" alt=\"coin\">\r\n                <div>{{type.price.toLocaleString()}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapGetters, mapActions} from 'vuex'\r\nimport Slot from './Slot'\r\nimport {rouletteItemsById} from '../../../configs/newDonateShop'\r\n\r\nexport default {\r\n    props:{\r\n        type: Object\r\n    },\r\n    data() {\r\n        return {\r\n            width: 0,\r\n            height: 0,\r\n            canvas: null,\r\n            ctx: null,\r\n            countElements: 5,\r\n            speed: 0,\r\n            frameRate: 36,\r\n            maxSpeed: 150,\r\n            duration: 1500,\r\n            timeToStop: 0,\r\n            sizeItem: 0,\r\n            state:[],\r\n            itemList: [],\r\n            bgImg: null,\r\n            lastFrame: 0,\r\n            headResult: null,\r\n            winResult: null,\r\n            cancel: false,\r\n            antiFlood: 0,\r\n            stopFrom: 0,\r\n            sound: true,\r\n            winBuilded: false,\r\n            floodProtection: 0\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapState('newDonateShop/roulette', ['isRun', 'isStop', 'isWin', 'result']),\r\n        ...mapState('newDonateShop', ['coins', 'gender']),\r\n        ...mapState('hud', ['money']),\r\n        ...mapGetters('localization', ['loc']),\r\n        currencyImg(){\r\n            return this.type.forCoins ? '/img/newDonateShop/header_coin.png' : '/img/newDonateShop/header_money.svg'\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions('newDonateShop/roulette', ['requestStart','requestStop', 'requestFastStop', 'requestWin']),\r\n        start(){\r\n            //if(this.floodProtection > Date.now()) return;\r\n            if(this.isRun){\r\n                if(this.result !== -1 && !this.winBuilded){\r\n                    this.speed = 0;\r\n                    this.state = [];\r\n                    this.timeToStop = Date.now();\r\n                    this.builWinCombination(this.result);\r\n                    this.requestFastStop(this.type.forCoins);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(this.type.forCoins && this.coins < this.type.price){\r\n                    window.setData('notifyList/notify', {type: 1, position:2, message: 'dshop:item:buy:wrong:coins', time: 3000});\r\n                    return;\r\n                }\r\n                if(!this.type.forCoins && this.money < this.type.price){\r\n                    window.setData('notifyList/notify', {type: 1, position:2, message: 'dshop:item:buy:wrong:money', time: 3000});\r\n                    return;\r\n                }\r\n                //this.floodProtection = Date.now() + 500;\r\n                this.winBuilded = false;\r\n                this.requestStart(this.type.id);\r\n                this.timeToStop = Date.now() + this.duration;               \r\n            }              \r\n        },\r\n        addRandomElement(){\r\n            const last = this.state[this.state.length - 1];\r\n            let currentOffset = last ? (last.posX + last.size) : 0;\r\n            \r\n            const item = this.itemList[Math.floor(Math.random()*this.itemList.length)];\r\n            const slot = new Slot(this.ctx, item, this.height, this.bgImg, currentOffset);\r\n            this.state.push(slot);\r\n            return slot;\r\n        },\r\n        addWinElement(id){\r\n            const last = this.state[this.state.length - 1];\r\n            let currentOffset = last ? (last.posX + last.size) : 0;\r\n            const item = this.itemList.find(i=>i.id == id);\r\n            const slot = new Slot(this.ctx, item, this.height, this.bgImg, currentOffset);\r\n            this.state.push(slot);\r\n            return slot;\r\n        },\r\n        removeElement(){\r\n            this.state.shift();\r\n            //this.$store.commit(\"sounds/play\", { name: `tick`, volume: 0.03 })\r\n        },\r\n        initGame(){\r\n            this.state = [];\r\n            for (let index = 0; index < this.countElements + 2; index++) {\r\n                this.addRandomElement();                \r\n            }\r\n            requestAnimationFrame(this.updateState, this.canvas);\r\n            document.addEventListener(\"keyup\", this.keyHandler)\r\n        },\r\n        updateState(){\r\n            if(this.cancel) return;\r\n            if(this.lastFrame < Date.now() ){\r\n                if(this.isRun){\r\n                    this.lastFrame = Date.now() + this.frameRate;\r\n\r\n                    if(this.timeToStop < Date.now())\r\n                        this.requestStop();\r\n\r\n                    if(this.isStop)\r\n                        this.handleStop();\r\n                    else\r\n                        this.handleLoop();                    \r\n                }\r\n                this.drawFrame();\r\n            }\r\n            requestAnimationFrame(this.updateState, this.canvas);\r\n        },\r\n        handleLoop(){\r\n            if(!this) return\r\n            if(this.maxSpeed > this.speed)\r\n                this.speed += 5;\r\n\r\n            if(this.state[0].canDelete()){\r\n                this.removeElement();\r\n                this.addRandomElement();\r\n            }\r\n\r\n            this.state.forEach(item => {\r\n                item.moveX(this.speed);\r\n            });\r\n        },\r\n        handleStop(){\r\n            if(this.speed > this.maxSpeed * .2){\r\n                if(this.state[0].canDelete()){\r\n                    this.removeElement();\r\n                    this.addRandomElement();\r\n                }\r\n\r\n                this.state.forEach(item => {\r\n                    item.moveX(this.speed);\r\n                });\r\n                this.speed -= 1;\r\n            }else{                \r\n                if(!this.winBuilded){                   \r\n                    this.builWinCombination(this.result);\r\n                    this.stopFrom = this.headResult.posX;\r\n                }\r\n                const kof = Math.abs(this.headResult.posX / this.stopFrom);                \r\n                this.speed = Math.max(Math.floor(this.maxSpeed * kof * .2), 5);    \r\n                if(this.headResult.posX < 1) {\r\n                    const fix = this.headResult.posX;\r\n                    this.state.forEach(item => {\r\n                        item.fixPos(fix);\r\n                    });\r\n                    this.speed = 0;\r\n                    this.requestWin(this.type.forCoins);\r\n                }else{\r\n                    this.state.forEach(item => {\r\n                        item.moveX(this.speed);\r\n                    });\r\n                }\r\n                if(this.state[0].canDelete()){\r\n                    this.removeElement();\r\n                }\r\n            }\r\n        },\r\n        builWinCombination(val){\r\n            this.winBuilded = true;\r\n            for (let index = 0; index < this.countElements; index++) {\r\n                if(index == 0){\r\n                    this.headResult = this.addRandomElement();                  \r\n                }else if(index == 2){\r\n                    this.winResult = this.addWinElement(val);\r\n                }else\r\n                    this.addRandomElement();                            \r\n            }\r\n        },\r\n        drawFrame(){\r\n            this.ctx.globalCompositeOperation =\"normal\";\r\n            this.ctx.clearRect(0,0, this.width, this.height);\r\n            this.state.forEach(item => {\r\n                item.draw();\r\n            });\r\n            \r\n            if(this.isWin && this.winResult)\r\n                this.winResult.drawEffect();\r\n\r\n            let gradient = this.ctx.createLinearGradient(0,0, this.width, this.height);\r\n            gradient.addColorStop(0, 'rgba(0,0,0,0)');\r\n            gradient.addColorStop(.05, 'rgba(0,0,0,.1)');\r\n            gradient.addColorStop(.2, 'rgba(0,0,0,1)');\r\n            gradient.addColorStop(.8, 'rgba(0,0,0,1)');\r\n            gradient.addColorStop(.95, 'rgba(0,0,0,.1)');\r\n            gradient.addColorStop(1, 'rgba(0,0,0,0)');\r\n            this.ctx.fillStyle = gradient;\r\n            this.ctx.globalCompositeOperation =\"destination-in\";\r\n            this.ctx.beginPath();\r\n            this.ctx.fillRect(0,0,this.width, this.height);\r\n        },\r\n        initImages(){\r\n            this.bgImg = new Image(this.height, this.height);\r\n            this.bgImg.src = \"/img/newDonateShop/roulette/itemBg.png\";\r\n            this.itemList.forEach(item => {\r\n                item.img = new Image(this.height, this.height);\r\n                item.img.src = `/img/newDonateShop/items/${item.image}.png`;\r\n            });\r\n        },\r\n        keyHandler(e){\r\n            if(e.keyCode === 13){\r\n                this.start();\r\n            }\r\n        }\r\n    },\r\n    mounted(){\r\n        this.itemList = [];\r\n        this.$store.commit('newDonateShop/roulette/reset');\r\n        const parrent = this.$refs[\"drparent\"];\r\n        this.width = parrent.offsetWidth;\r\n        this.height = parrent.offsetWidth / this.countElements;\r\n        this.itemList = rouletteItemsById(this.type.id, this.gender);\r\n        this.initImages();\r\n        this.canvas = this.$refs[\"drcanvas\"];\r\n        this.ctx = this.canvas.getContext(\"2d\");\r\n        this.frameRate = Math.floor(1000/this.frameRate);\r\n        setTimeout(this.initGame, 500);\r\n    },\r\n    beforeDestroy(){\r\n        document.removeEventListener(\"keyup\", this.keyHandler);\r\n        this.cancel = true;\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .newdshop-roull-game{\r\n        width: 80rem;\r\n        align-self: flex-start;\r\n        margin-top: 1.5rem;\r\n        &_subtitle{\r\n            margin-top: 3rem;\r\n            font-size: .8rem;\r\n            color: rgba(#fff, .5);\r\n            text-align: center;\r\n        }\r\n        &_title{\r\n            font-size: 3.5rem;\r\n            font-weight: 700;\r\n            letter-spacing: .07rem;\r\n            text-align: center;\r\n            margin-bottom: 4rem;\r\n            text-shadow: 0 0 .8rem rgba(#fff, .7);\r\n        }\r\n        &_top{\r\n            text-align: center;\r\n        }\r\n        &_bottom{\r\n            text-align: center;\r\n            transform: rotate(180deg);\r\n        }\r\n        &-button{\r\n            background-color: #4B8A9E;\r\n            width: 10.7rem;\r\n            margin: 3rem auto;\r\n            border-radius: .2rem;\r\n            transform: skew(-10deg);\r\n            &_container{\r\n                height: 3rem;\r\n                width: 10.7rem;\r\n                transform: skew(10deg);\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n            }\r\n            &_decor{\r\n                background-color: rgba(255, 255, 255, 0.2);\r\n                width: 1px;\r\n                height: 1.5rem;\r\n                margin: 0 .5rem;\r\n            }\r\n            img{\r\n                margin: 0 .2rem;\r\n                \r\n            }\r\n            &:hover{\r\n                transform: scale(1.02) skew(-10deg);\r\n                box-shadow: 0 0 .5rem #4B8A9E;\r\n            }     \r\n        }\r\n        canvas{\r\n            margin-left: .6rem;\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/views/NewDonateShop/Roulette"}]}